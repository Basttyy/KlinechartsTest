(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function In(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Ct={},dr=[],Te=()=>{},Zo=()=>!1,Ai=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Mn=e=>e.startsWith("onUpdate:"),jt=Object.assign,Tn=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Hs=Object.prototype.hasOwnProperty,_t=(e,t)=>Hs.call(e,t),it=Array.isArray,vr=e=>Zr(e)==="[object Map]",ki=e=>Zr(e)==="[object Set]",Qn=e=>Zr(e)==="[object Date]",at=e=>typeof e=="function",Ft=e=>typeof e=="string",Pe=e=>typeof e=="symbol",Tt=e=>e!==null&&typeof e=="object",qo=e=>(Tt(e)||at(e))&&at(e.then)&&at(e.catch),Jo=Object.prototype.toString,Zr=e=>Jo.call(e),Xs=e=>Zr(e).slice(8,-1),Qo=e=>Zr(e)==="[object Object]",Dn=e=>Ft(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Pr=In(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fi=e=>{const t=Object.create(null);return(r=>t[r]||(t[r]=e(r)))},js=/-\w/g,Xe=Fi(e=>e.replace(js,t=>t.slice(1).toUpperCase())),Us=/\B([A-Z])/g,lr=Fi(e=>e.replace(Us,"-$1").toLowerCase()),ta=Fi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ui=Fi(e=>e?`on${ta(e)}`:""),He=(e,t)=>!Object.is(e,t),si=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},ea=(e,t,r,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:r})},ra=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let to;const Oi=()=>to||(to=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ye(e){if(it(e)){const t={};for(let r=0;r<e.length;r++){const i=e[r],n=Ft(i)?qs(i):Ye(i);if(n)for(const o in n)t[o]=n[o]}return t}else if(Ft(e)||Tt(e))return e}const Ks=/;(?![^(]*\))/g,Gs=/:([^]+)/,Zs=/\/\*[^]*?\*\//g;function qs(e){const t={};return e.replace(Zs,"").split(Ks).forEach(r=>{if(r){const i=r.split(Gs);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Pn(e){let t="";if(Ft(e))t=e;else if(it(e))for(let r=0;r<e.length;r++){const i=Pn(e[r]);i&&(t+=i+" ")}else if(Tt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Js="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qs=In(Js);function ia(e){return!!e||e===""}function tl(e,t){if(e.length!==t.length)return!1;let r=!0;for(let i=0;r&&i<e.length;i++)r=Ri(e[i],t[i]);return r}function Ri(e,t){if(e===t)return!0;let r=Qn(e),i=Qn(t);if(r||i)return r&&i?e.getTime()===t.getTime():!1;if(r=Pe(e),i=Pe(t),r||i)return e===t;if(r=it(e),i=it(t),r||i)return r&&i?tl(e,t):!1;if(r=Tt(e),i=Tt(t),r||i){if(!r||!i)return!1;const n=Object.keys(e).length,o=Object.keys(t).length;if(n!==o)return!1;for(const a in e){const s=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(s&&!l||!s&&l||!Ri(e[a],t[a]))return!1}}return String(e)===String(t)}function el(e,t){return e.findIndex(r=>Ri(r,t))}const na=e=>!!(e&&e.__v_isRef===!0),Ar=e=>Ft(e)?e:e==null?"":it(e)||Tt(e)&&(e.toString===Jo||!at(e.toString))?na(e)?Ar(e.value):JSON.stringify(e,oa,2):String(e),oa=(e,t)=>na(t)?oa(e,t.value):vr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[i,n],o)=>(r[Ki(i,o)+" =>"]=n,r),{})}:ki(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Ki(r))}:Pe(t)?Ki(t):Tt(t)&&!it(t)&&!Qo(t)?String(t):t,Ki=(e,t="")=>{var r;return Pe(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qt;class rl{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Qt,!t&&Qt&&(this.index=(Qt.scopes||(Qt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Qt;try{return Qt=this,t()}finally{Qt=r}}}on(){++this._on===1&&(this.prevScope=Qt,Qt=this)}off(){this._on>0&&--this._on===0&&(Qt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(this.effects.length=0,r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function il(){return Qt}let Mt;const Gi=new WeakSet;class aa{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Qt&&Qt.active&&Qt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Gi.has(this)&&(Gi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||la(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,eo(this),ua(this);const t=Mt,r=ge;Mt=this,ge=!0;try{return this.fn()}finally{ca(this),Mt=t,ge=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Fn(t);this.deps=this.depsTail=void 0,eo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Gi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){cn(this)&&this.run()}get dirty(){return cn(this)}}let sa=0,kr,Fr;function la(e,t=!1){if(e.flags|=8,t){e.next=Fr,Fr=e;return}e.next=kr,kr=e}function An(){sa++}function kn(){if(--sa>0)return;if(Fr){let t=Fr;for(Fr=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;kr;){let t=kr;for(kr=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=r}}if(e)throw e}function ua(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ca(e){let t,r=e.depsTail,i=r;for(;i;){const n=i.prevDep;i.version===-1?(i===r&&(r=n),Fn(i),nl(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}e.deps=t,e.depsTail=r}function cn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(fa(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function fa(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===zr)||(e.globalVersion=zr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!cn(e))))return;e.flags|=2;const t=e.dep,r=Mt,i=ge;Mt=e,ge=!0;try{ua(e);const n=e.fn(e._value);(t.version===0||He(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Mt=r,ge=i,ca(e),e.flags&=-3}}function Fn(e,t=!1){const{dep:r,prevSub:i,nextSub:n}=e;if(i&&(i.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=i,e.nextSub=void 0),r.subs===e&&(r.subs=i,!i&&r.computed)){r.computed.flags&=-5;for(let o=r.computed.deps;o;o=o.nextDep)Fn(o,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function nl(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let ge=!0;const ha=[];function Ne(){ha.push(ge),ge=!1}function Ve(){const e=ha.pop();ge=e===void 0?!0:e}function eo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=Mt;Mt=void 0;try{t()}finally{Mt=r}}}let zr=0;class ol{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class On{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Mt||!ge||Mt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Mt)r=this.activeLink=new ol(Mt,this),Mt.deps?(r.prevDep=Mt.depsTail,Mt.depsTail.nextDep=r,Mt.depsTail=r):Mt.deps=Mt.depsTail=r,da(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=Mt.depsTail,r.nextDep=void 0,Mt.depsTail.nextDep=r,Mt.depsTail=r,Mt.deps===r&&(Mt.deps=i)}return r}trigger(t){this.version++,zr++,this.notify(t)}notify(t){An();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{kn()}}}function da(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)da(i)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const fn=new WeakMap,rr=Symbol(""),hn=Symbol(""),Yr=Symbol("");function Yt(e,t,r){if(ge&&Mt){let i=fn.get(e);i||fn.set(e,i=new Map);let n=i.get(r);n||(i.set(r,n=new On),n.map=i,n.key=r),n.track()}}function Le(e,t,r,i,n,o){const a=fn.get(e);if(!a){zr++;return}const s=l=>{l&&l.trigger()};if(An(),t==="clear")a.forEach(s);else{const l=it(e),u=l&&Dn(r);if(l&&r==="length"){const c=Number(i);a.forEach((f,h)=>{(h==="length"||h===Yr||!Pe(h)&&h>=c)&&s(f)})}else switch((r!==void 0||a.has(void 0))&&s(a.get(r)),u&&s(a.get(Yr)),t){case"add":l?u&&s(a.get("length")):(s(a.get(rr)),vr(e)&&s(a.get(hn)));break;case"delete":l||(s(a.get(rr)),vr(e)&&s(a.get(hn)));break;case"set":vr(e)&&s(a.get(rr));break}}kn()}function ur(e){const t=mt(e);return t===e?t:(Yt(t,"iterate",Yr),de(e)?t:t.map($t))}function Li(e){return Yt(e=mt(e),"iterate",Yr),e}const al={__proto__:null,[Symbol.iterator](){return Zi(this,Symbol.iterator,$t)},concat(...e){return ur(this).concat(...e.map(t=>it(t)?ur(t):t))},entries(){return Zi(this,"entries",e=>(e[1]=$t(e[1]),e))},every(e,t){return Oe(this,"every",e,t,void 0,arguments)},filter(e,t){return Oe(this,"filter",e,t,r=>r.map($t),arguments)},find(e,t){return Oe(this,"find",e,t,$t,arguments)},findIndex(e,t){return Oe(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Oe(this,"findLast",e,t,$t,arguments)},findLastIndex(e,t){return Oe(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Oe(this,"forEach",e,t,void 0,arguments)},includes(...e){return qi(this,"includes",e)},indexOf(...e){return qi(this,"indexOf",e)},join(e){return ur(this).join(e)},lastIndexOf(...e){return qi(this,"lastIndexOf",e)},map(e,t){return Oe(this,"map",e,t,void 0,arguments)},pop(){return Cr(this,"pop")},push(...e){return Cr(this,"push",e)},reduce(e,...t){return ro(this,"reduce",e,t)},reduceRight(e,...t){return ro(this,"reduceRight",e,t)},shift(){return Cr(this,"shift")},some(e,t){return Oe(this,"some",e,t,void 0,arguments)},splice(...e){return Cr(this,"splice",e)},toReversed(){return ur(this).toReversed()},toSorted(e){return ur(this).toSorted(e)},toSpliced(...e){return ur(this).toSpliced(...e)},unshift(...e){return Cr(this,"unshift",e)},values(){return Zi(this,"values",$t)}};function Zi(e,t,r){const i=Li(e),n=i[t]();return i!==e&&!de(e)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.done||(o.value=r(o.value)),o}),n}const sl=Array.prototype;function Oe(e,t,r,i,n,o){const a=Li(e),s=a!==e&&!de(e),l=a[t];if(l!==sl[t]){const f=l.apply(e,o);return s?$t(f):f}let u=r;a!==e&&(s?u=function(f,h){return r.call(this,$t(f),h,e)}:r.length>2&&(u=function(f,h){return r.call(this,f,h,e)}));const c=l.call(a,u,i);return s&&n?n(c):c}function ro(e,t,r,i){const n=Li(e);let o=r;return n!==e&&(de(e)?r.length>3&&(o=function(a,s,l){return r.call(this,a,s,l,e)}):o=function(a,s,l){return r.call(this,a,$t(s),l,e)}),n[t](o,...i)}function qi(e,t,r){const i=mt(e);Yt(i,"iterate",Yr);const n=i[t](...r);return(n===-1||n===!1)&&Nn(r[0])?(r[0]=mt(r[0]),i[t](...r)):n}function Cr(e,t,r=[]){Ne(),An();const i=mt(e)[t].apply(e,r);return kn(),Ve(),i}const ll=In("__proto__,__v_isRef,__isVue"),va=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Pe));function ul(e){Pe(e)||(e=String(e));const t=mt(this);return Yt(t,"has",e),t.hasOwnProperty(e)}class pa{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,i){if(r==="__v_skip")return t.__v_skip;const n=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return o;if(r==="__v_raw")return i===(n?o?yl:ya:o?_a:ma).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=it(t);if(!n){let l;if(a&&(l=al[r]))return l;if(r==="hasOwnProperty")return ul}const s=Reflect.get(t,r,Xt(t)?t:i);if((Pe(r)?va.has(r):ll(r))||(n||Yt(t,"get",r),o))return s;if(Xt(s)){const l=a&&Dn(r)?s:s.value;return n&&Tt(l)?vn(l):l}return Tt(s)?n?vn(s):Ln(s):s}}class ga extends pa{constructor(t=!1){super(!1,t)}set(t,r,i,n){let o=t[r];if(!this._isShallow){const l=je(o);if(!de(i)&&!je(i)&&(o=mt(o),i=mt(i)),!it(t)&&Xt(o)&&!Xt(i))return l||(o.value=i),!0}const a=it(t)&&Dn(r)?Number(r)<t.length:_t(t,r),s=Reflect.set(t,r,i,Xt(t)?t:n);return t===mt(n)&&(a?He(i,o)&&Le(t,"set",r,i):Le(t,"add",r,i)),s}deleteProperty(t,r){const i=_t(t,r);t[r];const n=Reflect.deleteProperty(t,r);return n&&i&&Le(t,"delete",r,void 0),n}has(t,r){const i=Reflect.has(t,r);return(!Pe(r)||!va.has(r))&&Yt(t,"has",r),i}ownKeys(t){return Yt(t,"iterate",it(t)?"length":rr),Reflect.ownKeys(t)}}class cl extends pa{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const fl=new ga,hl=new cl,dl=new ga(!0);const dn=e=>e,ri=e=>Reflect.getPrototypeOf(e);function vl(e,t,r){return function(...i){const n=this.__v_raw,o=mt(n),a=vr(o),s=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,u=n[e](...i),c=r?dn:t?_i:$t;return!t&&Yt(o,"iterate",l?hn:rr),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:s?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function ii(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function pl(e,t){const r={get(n){const o=this.__v_raw,a=mt(o),s=mt(n);e||(He(n,s)&&Yt(a,"get",n),Yt(a,"get",s));const{has:l}=ri(a),u=t?dn:e?_i:$t;if(l.call(a,n))return u(o.get(n));if(l.call(a,s))return u(o.get(s));o!==a&&o.get(n)},get size(){const n=this.__v_raw;return!e&&Yt(mt(n),"iterate",rr),n.size},has(n){const o=this.__v_raw,a=mt(o),s=mt(n);return e||(He(n,s)&&Yt(a,"has",n),Yt(a,"has",s)),n===s?o.has(n):o.has(n)||o.has(s)},forEach(n,o){const a=this,s=a.__v_raw,l=mt(s),u=t?dn:e?_i:$t;return!e&&Yt(l,"iterate",rr),s.forEach((c,f)=>n.call(o,u(c),u(f),a))}};return jt(r,e?{add:ii("add"),set:ii("set"),delete:ii("delete"),clear:ii("clear")}:{add(n){!t&&!de(n)&&!je(n)&&(n=mt(n));const o=mt(this);return ri(o).has.call(o,n)||(o.add(n),Le(o,"add",n,n)),this},set(n,o){!t&&!de(o)&&!je(o)&&(o=mt(o));const a=mt(this),{has:s,get:l}=ri(a);let u=s.call(a,n);u||(n=mt(n),u=s.call(a,n));const c=l.call(a,n);return a.set(n,o),u?He(o,c)&&Le(a,"set",n,o):Le(a,"add",n,o),this},delete(n){const o=mt(this),{has:a,get:s}=ri(o);let l=a.call(o,n);l||(n=mt(n),l=a.call(o,n)),s&&s.call(o,n);const u=o.delete(n);return l&&Le(o,"delete",n,void 0),u},clear(){const n=mt(this),o=n.size!==0,a=n.clear();return o&&Le(n,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=vl(n,e,t)}),r}function Rn(e,t){const r=pl(e,t);return(i,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(_t(r,n)&&n in i?r:i,n,o)}const gl={get:Rn(!1,!1)},ml={get:Rn(!1,!0)},_l={get:Rn(!0,!1)};const ma=new WeakMap,_a=new WeakMap,ya=new WeakMap,yl=new WeakMap;function xl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sl(e){return e.__v_skip||!Object.isExtensible(e)?0:xl(Xs(e))}function Ln(e){return je(e)?e:Bn(e,!1,fl,gl,ma)}function bl(e){return Bn(e,!1,dl,ml,_a)}function vn(e){return Bn(e,!0,hl,_l,ya)}function Bn(e,t,r,i,n){if(!Tt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Sl(e);if(o===0)return e;const a=n.get(e);if(a)return a;const s=new Proxy(e,o===2?i:r);return n.set(e,s),s}function pr(e){return je(e)?pr(e.__v_raw):!!(e&&e.__v_isReactive)}function je(e){return!!(e&&e.__v_isReadonly)}function de(e){return!!(e&&e.__v_isShallow)}function Nn(e){return e?!!e.__v_raw:!1}function mt(e){const t=e&&e.__v_raw;return t?mt(t):e}function Cl(e){return!_t(e,"__v_skip")&&Object.isExtensible(e)&&ea(e,"__v_skip",!0),e}const $t=e=>Tt(e)?Ln(e):e,_i=e=>Tt(e)?vn(e):e;function Xt(e){return e?e.__v_isRef===!0:!1}function Rt(e){return wl(e,!1)}function wl(e,t){return Xt(e)?e:new El(e,t)}class El{constructor(t,r){this.dep=new On,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:mt(t),this._value=r?t:$t(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,i=this.__v_isShallow||de(t)||je(t);t=i?t:mt(t),He(t,r)&&(this._rawValue=t,this._value=i?t:$t(t),this.dep.trigger())}}function Jt(e){return Xt(e)?e.value:e}function io(e){return at(e)?e():Jt(e)}const Il={get:(e,t,r)=>t==="__v_raw"?e:Jt(Reflect.get(e,t,r)),set:(e,t,r,i)=>{const n=e[t];return Xt(n)&&!Xt(r)?(n.value=r,!0):Reflect.set(e,t,r,i)}};function xa(e){return pr(e)?e:new Proxy(e,Il)}class Ml{constructor(t,r,i){this.fn=t,this.setter=r,this._value=void 0,this.dep=new On(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=zr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Mt!==this)return la(this,!0),!0}get value(){const t=this.dep.track();return fa(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Tl(e,t,r=!1){let i,n;return at(e)?i=e:(i=e.get,n=e.set),new Ml(i,n,r)}const ni={},yi=new WeakMap;let Je;function Dl(e,t=!1,r=Je){if(r){let i=yi.get(r);i||yi.set(r,i=[]),i.push(e)}}function Pl(e,t,r=Ct){const{immediate:i,deep:n,once:o,scheduler:a,augmentJob:s,call:l}=r,u=x=>n?x:de(x)||n===!1||n===0?Be(x,1):Be(x);let c,f,h,d,v=!1,p=!1;if(Xt(e)?(f=()=>e.value,v=de(e)):pr(e)?(f=()=>u(e),v=!0):it(e)?(p=!0,v=e.some(x=>pr(x)||de(x)),f=()=>e.map(x=>{if(Xt(x))return x.value;if(pr(x))return u(x);if(at(x))return l?l(x,2):x()})):at(e)?t?f=l?()=>l(e,2):e:f=()=>{if(h){Ne();try{h()}finally{Ve()}}const x=Je;Je=c;try{return l?l(e,3,[d]):e(d)}finally{Je=x}}:f=Te,t&&n){const x=f,C=n===!0?1/0:n;f=()=>Be(x(),C)}const g=il(),m=()=>{c.stop(),g&&g.active&&Tn(g.effects,c)};if(o&&t){const x=t;t=(...C)=>{x(...C),m()}}let S=p?new Array(e.length).fill(ni):ni;const y=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(t){const C=c.run();if(n||v||(p?C.some((E,w)=>He(E,S[w])):He(C,S))){h&&h();const E=Je;Je=c;try{const w=[C,S===ni?void 0:p&&S[0]===ni?[]:S,d];S=C,l?l(t,3,w):t(...w)}finally{Je=E}}}else c.run()};return s&&s(y),c=new aa(f),c.scheduler=a?()=>a(y,!1):y,d=x=>Dl(x,!1,c),h=c.onStop=()=>{const x=yi.get(c);if(x){if(l)l(x,4);else for(const C of x)C();yi.delete(c)}},t?i?y(!0):S=c.run():a?a(y.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function Be(e,t=1/0,r){if(t<=0||!Tt(e)||e.__v_skip||(r=r||new Map,(r.get(e)||0)>=t))return e;if(r.set(e,t),t--,Xt(e))Be(e.value,t,r);else if(it(e))for(let i=0;i<e.length;i++)Be(e[i],t,r);else if(ki(e)||vr(e))e.forEach(i=>{Be(i,t,r)});else if(Qo(e)){for(const i in e)Be(e[i],t,r);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Be(e[i],t,r)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qr(e,t,r,i){try{return i?e(...i):e()}catch(n){Bi(n,t,r)}}function Ae(e,t,r,i){if(at(e)){const n=qr(e,t,r,i);return n&&qo(n)&&n.catch(o=>{Bi(o,t,r)}),n}if(it(e)){const n=[];for(let o=0;o<e.length;o++)n.push(Ae(e[o],t,r,i));return n}}function Bi(e,t,r,i=!0){const n=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Ct;if(t){let s=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const c=s.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}s=s.parent}if(o){Ne(),qr(o,null,10,[e,l,u]),Ve();return}}Al(e,r,n,i,a)}function Al(e,t,r,i=!0,n=!1){if(n)throw e;console.error(e)}const Gt=[];let xe=-1;const gr=[];let We=null,hr=0;const Sa=Promise.resolve();let xi=null;function ba(e){const t=xi||Sa;return e?t.then(this?e.bind(this):e):t}function kl(e){let t=xe+1,r=Gt.length;for(;t<r;){const i=t+r>>>1,n=Gt[i],o=Hr(n);o<e||o===e&&n.flags&2?t=i+1:r=i}return t}function Vn(e){if(!(e.flags&1)){const t=Hr(e),r=Gt[Gt.length-1];!r||!(e.flags&2)&&t>=Hr(r)?Gt.push(e):Gt.splice(kl(t),0,e),e.flags|=1,Ca()}}function Ca(){xi||(xi=Sa.then(Ea))}function Fl(e){it(e)?gr.push(...e):We&&e.id===-1?We.splice(hr+1,0,e):e.flags&1||(gr.push(e),e.flags|=1),Ca()}function no(e,t,r=xe+1){for(;r<Gt.length;r++){const i=Gt[r];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Gt.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function wa(e){if(gr.length){const t=[...new Set(gr)].sort((r,i)=>Hr(r)-Hr(i));if(gr.length=0,We){We.push(...t);return}for(We=t,hr=0;hr<We.length;hr++){const r=We[hr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}We=null,hr=0}}const Hr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ea(e){try{for(xe=0;xe<Gt.length;xe++){const t=Gt[xe];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),qr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;xe<Gt.length;xe++){const t=Gt[xe];t&&(t.flags&=-2)}xe=-1,Gt.length=0,wa(),xi=null,(Gt.length||gr.length)&&Ea()}}let he=null,Ia=null;function Si(e){const t=he;return he=e,Ia=e&&e.type.__scopeId||null,t}function Ol(e,t=he,r){if(!t||e._n)return e;const i=(...n)=>{i._d&&go(-1);const o=Si(t);let a;try{a=e(...n)}finally{Si(o),i._d&&go(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function oo(e,t){if(he===null)return e;const r=zi(he),i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[o,a,s,l=Ct]=t[n];o&&(at(o)&&(o={mounted:o,updated:o}),o.deep&&Be(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:s,modifiers:l}))}return e}function Ze(e,t,r,i){const n=e.dirs,o=t&&t.dirs;for(let a=0;a<n.length;a++){const s=n[a];o&&(s.oldValue=o[a].value);let l=s.dir[i];l&&(Ne(),Ae(l,r,8,[e.el,s,e,t]),Ve())}}const Rl=Symbol("_vte"),Ll=e=>e.__isTeleport,Bl=Symbol("_leaveCb");function $n(e,t){e.shapeFlag&6&&e.component?(e.transition=t,$n(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ni(e,t){return at(e)?jt({name:e.name},t,{setup:e}):e}function Ma(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const bi=new WeakMap;function Or(e,t,r,i,n=!1){if(it(e)){e.forEach((v,p)=>Or(v,t&&(it(t)?t[p]:t),r,i,n));return}if(Rr(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Or(e,t,r,i.component.subTree);return}const o=i.shapeFlag&4?zi(i.component):i.el,a=n?null:o,{i:s,r:l}=e,u=t&&t.r,c=s.refs===Ct?s.refs={}:s.refs,f=s.setupState,h=mt(f),d=f===Ct?Zo:v=>_t(h,v);if(u!=null&&u!==l){if(ao(t),Ft(u))c[u]=null,d(u)&&(f[u]=null);else if(Xt(u)){u.value=null;const v=t;v.k&&(c[v.k]=null)}}if(at(l))qr(l,s,12,[a,c]);else{const v=Ft(l),p=Xt(l);if(v||p){const g=()=>{if(e.f){const m=v?d(l)?f[l]:c[l]:l.value;if(n)it(m)&&Tn(m,o);else if(it(m))m.includes(o)||m.push(o);else if(v)c[l]=[o],d(l)&&(f[l]=c[l]);else{const S=[o];l.value=S,e.k&&(c[e.k]=S)}}else v?(c[l]=a,d(l)&&(f[l]=a)):p&&(l.value=a,e.k&&(c[e.k]=a))};if(a){const m=()=>{g(),bi.delete(e)};m.id=-1,bi.set(e,m),re(m,r)}else ao(e),g()}}}function ao(e){const t=bi.get(e);t&&(t.flags|=8,bi.delete(e))}Oi().requestIdleCallback;Oi().cancelIdleCallback;const Rr=e=>!!e.type.__asyncLoader,Ta=e=>e.type.__isKeepAlive;function Nl(e,t){Da(e,"a",t)}function Vl(e,t){Da(e,"da",t)}function Da(e,t,r=Zt){const i=e.__wdc||(e.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Vi(t,i,r),r){let n=r.parent;for(;n&&n.parent;)Ta(n.parent.vnode)&&$l(i,t,r,n),n=n.parent}}function $l(e,t,r,i){const n=Vi(t,e,i,!0);Wn(()=>{Tn(i[t],n)},r)}function Vi(e,t,r=Zt,i=!1){if(r){const n=r[e]||(r[e]=[]),o=t.__weh||(t.__weh=(...a)=>{Ne();const s=Jr(r),l=Ae(t,r,e,a);return s(),Ve(),l});return i?n.unshift(o):n.push(o),o}}const $e=e=>(t,r=Zt)=>{(!jr||e==="sp")&&Vi(e,(...i)=>t(...i),r)},Wl=$e("bm"),Pa=$e("m"),zl=$e("bu"),Yl=$e("u"),Hl=$e("bum"),Wn=$e("um"),Xl=$e("sp"),jl=$e("rtg"),Ul=$e("rtc");function Kl(e,t=Zt){Vi("ec",e,t)}const Gl=Symbol.for("v-ndc");function pn(e,t,r,i){let n;const o=r,a=it(e);if(a||Ft(e)){const s=a&&pr(e);let l=!1,u=!1;s&&(l=!de(e),u=je(e),e=Li(e)),n=new Array(e.length);for(let c=0,f=e.length;c<f;c++)n[c]=t(l?u?_i($t(e[c])):$t(e[c]):e[c],c,void 0,o)}else if(typeof e=="number"){n=new Array(e);for(let s=0;s<e;s++)n[s]=t(s+1,s,void 0,o)}else if(Tt(e))if(e[Symbol.iterator])n=Array.from(e,(s,l)=>t(s,l,void 0,o));else{const s=Object.keys(e);n=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];n[l]=t(e[c],c,l,o)}}else n=[];return n}const gn=e=>e?Ja(e)?zi(e):gn(e.parent):null,Lr=jt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gn(e.parent),$root:e=>gn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ka(e),$forceUpdate:e=>e.f||(e.f=()=>{Vn(e.update)}),$nextTick:e=>e.n||(e.n=ba.bind(e.proxy)),$watch:e=>mu.bind(e)}),Ji=(e,t)=>e!==Ct&&!e.__isScriptSetup&&_t(e,t),Zl={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:i,data:n,props:o,accessCache:a,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const d=a[t];if(d!==void 0)switch(d){case 1:return i[t];case 2:return n[t];case 4:return r[t];case 3:return o[t]}else{if(Ji(i,t))return a[t]=1,i[t];if(n!==Ct&&_t(n,t))return a[t]=2,n[t];if((u=e.propsOptions[0])&&_t(u,t))return a[t]=3,o[t];if(r!==Ct&&_t(r,t))return a[t]=4,r[t];mn&&(a[t]=0)}}const c=Lr[t];let f,h;if(c)return t==="$attrs"&&Yt(e.attrs,"get",""),c(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(r!==Ct&&_t(r,t))return a[t]=4,r[t];if(h=l.config.globalProperties,_t(h,t))return h[t]},set({_:e},t,r){const{data:i,setupState:n,ctx:o}=e;return Ji(n,t)?(n[t]=r,!0):i!==Ct&&_t(i,t)?(i[t]=r,!0):_t(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:n,propsOptions:o,type:a}},s){let l,u;return!!(r[s]||e!==Ct&&s[0]!=="$"&&_t(e,s)||Ji(t,s)||(l=o[0])&&_t(l,s)||_t(i,s)||_t(Lr,s)||_t(n.config.globalProperties,s)||(u=a.__cssModules)&&u[s])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:_t(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function so(e){return it(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let mn=!0;function ql(e){const t=ka(e),r=e.proxy,i=e.ctx;mn=!1,t.beforeCreate&&lo(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:a,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:d,updated:v,activated:p,deactivated:g,beforeDestroy:m,beforeUnmount:S,destroyed:y,unmounted:x,render:C,renderTracked:E,renderTriggered:w,errorCaptured:I,serverPrefetch:O,expose:A,inheritAttrs:M,components:z,directives:X,filters:L}=t;if(u&&Jl(u,i,null),a)for(const V in a){const P=a[V];at(P)&&(i[V]=P.bind(r))}if(n){const V=n.call(r,r);Tt(V)&&(e.data=Ln(V))}if(mn=!0,o)for(const V in o){const P=o[V],U=at(P)?P.bind(r,r):at(P.get)?P.get.bind(r,r):Te,G=!at(P)&&at(P.set)?P.set.bind(r):Te,j=$u({get:U,set:G});Object.defineProperty(i,V,{enumerable:!0,configurable:!0,get:()=>j.value,set:q=>j.value=q})}if(s)for(const V in s)Aa(s[V],i,r,V);if(l){const V=at(l)?l.call(r):l;Reflect.ownKeys(V).forEach(P=>{nu(P,V[P])})}c&&lo(c,e,"c");function T(V,P){it(P)?P.forEach(U=>V(U.bind(r))):P&&V(P.bind(r))}if(T(Wl,f),T(Pa,h),T(zl,d),T(Yl,v),T(Nl,p),T(Vl,g),T(Kl,I),T(Ul,E),T(jl,w),T(Hl,S),T(Wn,x),T(Xl,O),it(A))if(A.length){const V=e.exposed||(e.exposed={});A.forEach(P=>{Object.defineProperty(V,P,{get:()=>r[P],set:U=>r[P]=U,enumerable:!0})})}else e.exposed||(e.exposed={});C&&e.render===Te&&(e.render=C),M!=null&&(e.inheritAttrs=M),z&&(e.components=z),X&&(e.directives=X),O&&Ma(e)}function Jl(e,t,r=Te){it(e)&&(e=_n(e));for(const i in e){const n=e[i];let o;Tt(n)?"default"in n?o=li(n.from||i,n.default,!0):o=li(n.from||i):o=li(n),Xt(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[i]=o}}function lo(e,t,r){Ae(it(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,r)}function Aa(e,t,r,i){let n=i.includes(".")?Xa(r,i):()=>r[i];if(Ft(e)){const o=t[e];at(o)&&Br(n,o)}else if(at(e))Br(n,e.bind(r));else if(Tt(e))if(it(e))e.forEach(o=>Aa(o,t,r,i));else{const o=at(e.handler)?e.handler.bind(r):t[e.handler];at(o)&&Br(n,o,e)}}function ka(e){const t=e.type,{mixins:r,extends:i}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,s=o.get(t);let l;return s?l=s:!n.length&&!r&&!i?l=t:(l={},n.length&&n.forEach(u=>Ci(l,u,a,!0)),Ci(l,t,a)),Tt(t)&&o.set(t,l),l}function Ci(e,t,r,i=!1){const{mixins:n,extends:o}=t;o&&Ci(e,o,r,!0),n&&n.forEach(a=>Ci(e,a,r,!0));for(const a in t)if(!(i&&a==="expose")){const s=Ql[a]||r&&r[a];e[a]=s?s(e[a],t[a]):t[a]}return e}const Ql={data:uo,props:co,emits:co,methods:Mr,computed:Mr,beforeCreate:Kt,created:Kt,beforeMount:Kt,mounted:Kt,beforeUpdate:Kt,updated:Kt,beforeDestroy:Kt,beforeUnmount:Kt,destroyed:Kt,unmounted:Kt,activated:Kt,deactivated:Kt,errorCaptured:Kt,serverPrefetch:Kt,components:Mr,directives:Mr,watch:eu,provide:uo,inject:tu};function uo(e,t){return t?e?function(){return jt(at(e)?e.call(this,this):e,at(t)?t.call(this,this):t)}:t:e}function tu(e,t){return Mr(_n(e),_n(t))}function _n(e){if(it(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Kt(e,t){return e?[...new Set([].concat(e,t))]:t}function Mr(e,t){return e?jt(Object.create(null),e,t):t}function co(e,t){return e?it(e)&&it(t)?[...new Set([...e,...t])]:jt(Object.create(null),so(e),so(t??{})):t}function eu(e,t){if(!e)return t;if(!t)return e;const r=jt(Object.create(null),e);for(const i in t)r[i]=Kt(e[i],t[i]);return r}function Fa(){return{app:null,config:{isNativeTag:Zo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ru=0;function iu(e,t){return function(i,n=null){at(i)||(i=jt({},i)),n!=null&&!Tt(n)&&(n=null);const o=Fa(),a=new WeakSet,s=[];let l=!1;const u=o.app={_uid:ru++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:Wu,get config(){return o.config},set config(c){},use(c,...f){return a.has(c)||(c&&at(c.install)?(a.add(c),c.install(u,...f)):at(c)&&(a.add(c),c(u,...f))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,f){return f?(o.components[c]=f,u):o.components[c]},directive(c,f){return f?(o.directives[c]=f,u):o.directives[c]},mount(c,f,h){if(!l){const d=u._ceVNode||te(i,n);return d.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),e(d,c,h),l=!0,u._container=c,c.__vue_app__=u,zi(d.component)}},onUnmount(c){s.push(c)},unmount(){l&&(Ae(s,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return o.provides[c]=f,u},runWithContext(c){const f=mr;mr=u;try{return c()}finally{mr=f}}};return u}}let mr=null;function nu(e,t){if(Zt){let r=Zt.provides;const i=Zt.parent&&Zt.parent.provides;i===r&&(r=Zt.provides=Object.create(i)),r[e]=t}}function li(e,t,r=!1){const i=Ou();if(i||mr){let n=mr?mr._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return r&&at(t)?t.call(i&&i.proxy):t}}const Oa={},Ra=()=>Object.create(Oa),La=e=>Object.getPrototypeOf(e)===Oa;function ou(e,t,r,i=!1){const n={},o=Ra();e.propsDefaults=Object.create(null),Ba(e,t,n,o);for(const a in e.propsOptions[0])a in n||(n[a]=void 0);r?e.props=i?n:bl(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function au(e,t,r,i){const{props:n,attrs:o,vnode:{patchFlag:a}}=e,s=mt(n),[l]=e.propsOptions;let u=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if($i(e.emitsOptions,h))continue;const d=t[h];if(l)if(_t(o,h))d!==o[h]&&(o[h]=d,u=!0);else{const v=Xe(h);n[v]=yn(l,s,v,d,e,!1)}else d!==o[h]&&(o[h]=d,u=!0)}}}else{Ba(e,t,n,o)&&(u=!0);let c;for(const f in s)(!t||!_t(t,f)&&((c=lr(f))===f||!_t(t,c)))&&(l?r&&(r[f]!==void 0||r[c]!==void 0)&&(n[f]=yn(l,s,f,void 0,e,!0)):delete n[f]);if(o!==s)for(const f in o)(!t||!_t(t,f))&&(delete o[f],u=!0)}u&&Le(e.attrs,"set","")}function Ba(e,t,r,i){const[n,o]=e.propsOptions;let a=!1,s;if(t)for(let l in t){if(Pr(l))continue;const u=t[l];let c;n&&_t(n,c=Xe(l))?!o||!o.includes(c)?r[c]=u:(s||(s={}))[c]=u:$i(e.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,a=!0)}if(o){const l=mt(r),u=s||Ct;for(let c=0;c<o.length;c++){const f=o[c];r[f]=yn(n,l,f,u[f],e,!_t(u,f))}}return a}function yn(e,t,r,i,n,o){const a=e[r];if(a!=null){const s=_t(a,"default");if(s&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&at(l)){const{propsDefaults:u}=n;if(r in u)i=u[r];else{const c=Jr(n);i=u[r]=l.call(null,t),c()}}else i=l;n.ce&&n.ce._setProp(r,i)}a[0]&&(o&&!s?i=!1:a[1]&&(i===""||i===lr(r))&&(i=!0))}return i}const su=new WeakMap;function Na(e,t,r=!1){const i=r?su:t.propsCache,n=i.get(e);if(n)return n;const o=e.props,a={},s=[];let l=!1;if(!at(e)){const c=f=>{l=!0;const[h,d]=Na(f,t,!0);jt(a,h),d&&s.push(...d)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!o&&!l)return Tt(e)&&i.set(e,dr),dr;if(it(o))for(let c=0;c<o.length;c++){const f=Xe(o[c]);fo(f)&&(a[f]=Ct)}else if(o)for(const c in o){const f=Xe(c);if(fo(f)){const h=o[c],d=a[f]=it(h)||at(h)?{type:h}:jt({},h),v=d.type;let p=!1,g=!0;if(it(v))for(let m=0;m<v.length;++m){const S=v[m],y=at(S)&&S.name;if(y==="Boolean"){p=!0;break}else y==="String"&&(g=!1)}else p=at(v)&&v.name==="Boolean";d[0]=p,d[1]=g,(p||_t(d,"default"))&&s.push(f)}}const u=[a,s];return Tt(e)&&i.set(e,u),u}function fo(e){return e[0]!=="$"&&!Pr(e)}const zn=e=>e==="_"||e==="_ctx"||e==="$stable",Yn=e=>it(e)?e.map(be):[be(e)],lu=(e,t,r)=>{if(t._n)return t;const i=Ol((...n)=>Yn(t(...n)),r);return i._c=!1,i},Va=(e,t,r)=>{const i=e._ctx;for(const n in e){if(zn(n))continue;const o=e[n];if(at(o))t[n]=lu(n,o,i);else if(o!=null){const a=Yn(o);t[n]=()=>a}}},$a=(e,t)=>{const r=Yn(t);e.slots.default=()=>r},Wa=(e,t,r)=>{for(const i in t)(r||!zn(i))&&(e[i]=t[i])},uu=(e,t,r)=>{const i=e.slots=Ra();if(e.vnode.shapeFlag&32){const n=t._;n?(Wa(i,t,r),r&&ea(i,"_",n,!0)):Va(t,i)}else t&&$a(e,t)},cu=(e,t,r)=>{const{vnode:i,slots:n}=e;let o=!0,a=Ct;if(i.shapeFlag&32){const s=t._;s?r&&s===1?o=!1:Wa(n,t,r):(o=!t.$stable,Va(t,n)),a=t}else t&&($a(e,t),a={default:1});if(o)for(const s in n)!zn(s)&&a[s]==null&&delete n[s]},re=Eu;function fu(e){return hu(e)}function hu(e,t){const r=Oi();r.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:a,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:d=Te,insertStaticContent:v}=e,p=(_,b,D,B=null,F=null,k=null,Y=void 0,H=null,$=!!b.dynamicChildren)=>{if(_===b)return;_&&!wr(_,b)&&(B=vt(_),q(_,F,k,!0),_=null),b.patchFlag===-2&&($=!1,b.dynamicChildren=null);const{type:N,ref:tt,shapeFlag:K}=b;switch(N){case Wi:g(_,b,D,B);break;case Ue:m(_,b,D,B);break;case tn:_==null&&S(b,D,B,Y);break;case fe:z(_,b,D,B,F,k,Y,H,$);break;default:K&1?C(_,b,D,B,F,k,Y,H,$):K&6?X(_,b,D,B,F,k,Y,H,$):(K&64||K&128)&&N.process(_,b,D,B,F,k,Y,H,$,ht)}tt!=null&&F?Or(tt,_&&_.ref,k,b||_,!b):tt==null&&_&&_.ref!=null&&Or(_.ref,null,k,_,!0)},g=(_,b,D,B)=>{if(_==null)i(b.el=s(b.children),D,B);else{const F=b.el=_.el;b.children!==_.children&&u(F,b.children)}},m=(_,b,D,B)=>{_==null?i(b.el=l(b.children||""),D,B):b.el=_.el},S=(_,b,D,B)=>{[_.el,_.anchor]=v(_.children,b,D,B,_.el,_.anchor)},y=({el:_,anchor:b},D,B)=>{let F;for(;_&&_!==b;)F=h(_),i(_,D,B),_=F;i(b,D,B)},x=({el:_,anchor:b})=>{let D;for(;_&&_!==b;)D=h(_),n(_),_=D;n(b)},C=(_,b,D,B,F,k,Y,H,$)=>{b.type==="svg"?Y="svg":b.type==="math"&&(Y="mathml"),_==null?E(b,D,B,F,k,Y,H,$):O(_,b,F,k,Y,H,$)},E=(_,b,D,B,F,k,Y,H)=>{let $,N;const{props:tt,shapeFlag:K,transition:J,dirs:rt}=_;if($=_.el=a(_.type,k,tt&&tt.is,tt),K&8?c($,_.children):K&16&&I(_.children,$,null,B,F,Qi(_,k),Y,H),rt&&Ze(_,null,B,"created"),w($,_,_.scopeId,Y,B),tt){for(const bt in tt)bt!=="value"&&!Pr(bt)&&o($,bt,null,tt[bt],k,B);"value"in tt&&o($,"value",null,tt.value,k),(N=tt.onVnodeBeforeMount)&&ye(N,B,_)}rt&&Ze(_,null,B,"beforeMount");const ut=du(F,J);ut&&J.beforeEnter($),i($,b,D),((N=tt&&tt.onVnodeMounted)||ut||rt)&&re(()=>{N&&ye(N,B,_),ut&&J.enter($),rt&&Ze(_,null,B,"mounted")},F)},w=(_,b,D,B,F)=>{if(D&&d(_,D),B)for(let k=0;k<B.length;k++)d(_,B[k]);if(F){let k=F.subTree;if(b===k||Ua(k.type)&&(k.ssContent===b||k.ssFallback===b)){const Y=F.vnode;w(_,Y,Y.scopeId,Y.slotScopeIds,F.parent)}}},I=(_,b,D,B,F,k,Y,H,$=0)=>{for(let N=$;N<_.length;N++){const tt=_[N]=H?ze(_[N]):be(_[N]);p(null,tt,b,D,B,F,k,Y,H)}},O=(_,b,D,B,F,k,Y)=>{const H=b.el=_.el;let{patchFlag:$,dynamicChildren:N,dirs:tt}=b;$|=_.patchFlag&16;const K=_.props||Ct,J=b.props||Ct;let rt;if(D&&qe(D,!1),(rt=J.onVnodeBeforeUpdate)&&ye(rt,D,b,_),tt&&Ze(b,_,D,"beforeUpdate"),D&&qe(D,!0),(K.innerHTML&&J.innerHTML==null||K.textContent&&J.textContent==null)&&c(H,""),N?A(_.dynamicChildren,N,H,D,B,Qi(b,F),k):Y||P(_,b,H,null,D,B,Qi(b,F),k,!1),$>0){if($&16)M(H,K,J,D,F);else if($&2&&K.class!==J.class&&o(H,"class",null,J.class,F),$&4&&o(H,"style",K.style,J.style,F),$&8){const ut=b.dynamicProps;for(let bt=0;bt<ut.length;bt++){const pt=ut[bt],Nt=K[pt],It=J[pt];(It!==Nt||pt==="value")&&o(H,pt,Nt,It,F,D)}}$&1&&_.children!==b.children&&c(H,b.children)}else!Y&&N==null&&M(H,K,J,D,F);((rt=J.onVnodeUpdated)||tt)&&re(()=>{rt&&ye(rt,D,b,_),tt&&Ze(b,_,D,"updated")},B)},A=(_,b,D,B,F,k,Y)=>{for(let H=0;H<b.length;H++){const $=_[H],N=b[H],tt=$.el&&($.type===fe||!wr($,N)||$.shapeFlag&198)?f($.el):D;p($,N,tt,null,B,F,k,Y,!0)}},M=(_,b,D,B,F)=>{if(b!==D){if(b!==Ct)for(const k in b)!Pr(k)&&!(k in D)&&o(_,k,b[k],null,F,B);for(const k in D){if(Pr(k))continue;const Y=D[k],H=b[k];Y!==H&&k!=="value"&&o(_,k,H,Y,F,B)}"value"in D&&o(_,"value",b.value,D.value,F)}},z=(_,b,D,B,F,k,Y,H,$)=>{const N=b.el=_?_.el:s(""),tt=b.anchor=_?_.anchor:s("");let{patchFlag:K,dynamicChildren:J,slotScopeIds:rt}=b;rt&&(H=H?H.concat(rt):rt),_==null?(i(N,D,B),i(tt,D,B),I(b.children||[],D,tt,F,k,Y,H,$)):K>0&&K&64&&J&&_.dynamicChildren?(A(_.dynamicChildren,J,D,F,k,Y,H),(b.key!=null||F&&b===F.subTree)&&za(_,b,!0)):P(_,b,D,tt,F,k,Y,H,$)},X=(_,b,D,B,F,k,Y,H,$)=>{b.slotScopeIds=H,_==null?b.shapeFlag&512?F.ctx.activate(b,D,B,Y,$):L(b,D,B,F,k,Y,$):R(_,b,$)},L=(_,b,D,B,F,k,Y)=>{const H=_.component=Fu(_,B,F);if(Ta(_)&&(H.ctx.renderer=ht),Ru(H,!1,Y),H.asyncDep){if(F&&F.registerDep(H,T,Y),!_.el){const $=H.subTree=te(Ue);m(null,$,b,D),_.placeholder=$.el}}else T(H,_,b,D,F,k,Y)},R=(_,b,D)=>{const B=b.component=_.component;if(Cu(_,b,D))if(B.asyncDep&&!B.asyncResolved){V(B,b,D);return}else B.next=b,B.update();else b.el=_.el,B.vnode=b},T=(_,b,D,B,F,k,Y)=>{const H=()=>{if(_.isMounted){let{next:K,bu:J,u:rt,parent:ut,vnode:bt}=_;{const Lt=Ya(_);if(Lt){K&&(K.el=bt.el,V(_,K,Y)),Lt.asyncDep.then(()=>{_.isUnmounted||H()});return}}let pt=K,Nt;qe(_,!1),K?(K.el=bt.el,V(_,K,Y)):K=bt,J&&si(J),(Nt=K.props&&K.props.onVnodeBeforeUpdate)&&ye(Nt,ut,K,bt),qe(_,!0);const It=vo(_),ee=_.subTree;_.subTree=It,p(ee,It,f(ee.el),vt(ee),_,F,k),K.el=It.el,pt===null&&wu(_,It.el),rt&&re(rt,F),(Nt=K.props&&K.props.onVnodeUpdated)&&re(()=>ye(Nt,ut,K,bt),F)}else{let K;const{el:J,props:rt}=b,{bm:ut,m:bt,parent:pt,root:Nt,type:It}=_,ee=Rr(b);qe(_,!1),ut&&si(ut),!ee&&(K=rt&&rt.onVnodeBeforeMount)&&ye(K,pt,b),qe(_,!0);{Nt.ce&&Nt.ce._def.shadowRoot!==!1&&Nt.ce._injectChildStyle(It);const Lt=_.subTree=vo(_);p(null,Lt,D,B,_,F,k),b.el=Lt.el}if(bt&&re(bt,F),!ee&&(K=rt&&rt.onVnodeMounted)){const Lt=b;re(()=>ye(K,pt,Lt),F)}(b.shapeFlag&256||pt&&Rr(pt.vnode)&&pt.vnode.shapeFlag&256)&&_.a&&re(_.a,F),_.isMounted=!0,b=D=B=null}};_.scope.on();const $=_.effect=new aa(H);_.scope.off();const N=_.update=$.run.bind($),tt=_.job=$.runIfDirty.bind($);tt.i=_,tt.id=_.uid,$.scheduler=()=>Vn(tt),qe(_,!0),N()},V=(_,b,D)=>{b.component=_;const B=_.vnode.props;_.vnode=b,_.next=null,au(_,b.props,B,D),cu(_,b.children,D),Ne(),no(_),Ve()},P=(_,b,D,B,F,k,Y,H,$=!1)=>{const N=_&&_.children,tt=_?_.shapeFlag:0,K=b.children,{patchFlag:J,shapeFlag:rt}=b;if(J>0){if(J&128){G(N,K,D,B,F,k,Y,H,$);return}else if(J&256){U(N,K,D,B,F,k,Y,H,$);return}}rt&8?(tt&16&&gt(N,F,k),K!==N&&c(D,K)):tt&16?rt&16?G(N,K,D,B,F,k,Y,H,$):gt(N,F,k,!0):(tt&8&&c(D,""),rt&16&&I(K,D,B,F,k,Y,H,$))},U=(_,b,D,B,F,k,Y,H,$)=>{_=_||dr,b=b||dr;const N=_.length,tt=b.length,K=Math.min(N,tt);let J;for(J=0;J<K;J++){const rt=b[J]=$?ze(b[J]):be(b[J]);p(_[J],rt,D,null,F,k,Y,H,$)}N>tt?gt(_,F,k,!0,!1,K):I(b,D,B,F,k,Y,H,$,K)},G=(_,b,D,B,F,k,Y,H,$)=>{let N=0;const tt=b.length;let K=_.length-1,J=tt-1;for(;N<=K&&N<=J;){const rt=_[N],ut=b[N]=$?ze(b[N]):be(b[N]);if(wr(rt,ut))p(rt,ut,D,null,F,k,Y,H,$);else break;N++}for(;N<=K&&N<=J;){const rt=_[K],ut=b[J]=$?ze(b[J]):be(b[J]);if(wr(rt,ut))p(rt,ut,D,null,F,k,Y,H,$);else break;K--,J--}if(N>K){if(N<=J){const rt=J+1,ut=rt<tt?b[rt].el:B;for(;N<=J;)p(null,b[N]=$?ze(b[N]):be(b[N]),D,ut,F,k,Y,H,$),N++}}else if(N>J)for(;N<=K;)q(_[N],F,k,!0),N++;else{const rt=N,ut=N,bt=new Map;for(N=ut;N<=J;N++){const Pt=b[N]=$?ze(b[N]):be(b[N]);Pt.key!=null&&bt.set(Pt.key,N)}let pt,Nt=0;const It=J-ut+1;let ee=!1,Lt=0;const Ge=new Array(It);for(N=0;N<It;N++)Ge[N]=0;for(N=rt;N<=K;N++){const Pt=_[N];if(Nt>=It){q(Pt,F,k,!0);continue}let se;if(Pt.key!=null)se=bt.get(Pt.key);else for(pt=ut;pt<=J;pt++)if(Ge[pt-ut]===0&&wr(Pt,b[pt])){se=pt;break}se===void 0?q(Pt,F,k,!0):(Ge[se-ut]=N+1,se>=Lt?Lt=se:ee=!0,p(Pt,b[se],D,null,F,k,Y,H,$),Nt++)}const ti=ee?vu(Ge):dr;for(pt=ti.length-1,N=It-1;N>=0;N--){const Pt=ut+N,se=b[Pt],le=b[Pt+1],Ut=Pt+1<tt?le.el||le.placeholder:B;Ge[N]===0?p(null,se,D,Ut,F,k,Y,H,$):ee&&(pt<0||N!==ti[pt]?j(se,D,Ut,2):pt--)}}},j=(_,b,D,B,F=null)=>{const{el:k,type:Y,transition:H,children:$,shapeFlag:N}=_;if(N&6){j(_.component.subTree,b,D,B);return}if(N&128){_.suspense.move(b,D,B);return}if(N&64){Y.move(_,b,D,ht);return}if(Y===fe){i(k,b,D);for(let K=0;K<$.length;K++)j($[K],b,D,B);i(_.anchor,b,D);return}if(Y===tn){y(_,b,D);return}if(B!==2&&N&1&&H)if(B===0)H.beforeEnter(k),i(k,b,D),re(()=>H.enter(k),F);else{const{leave:K,delayLeave:J,afterLeave:rt}=H,ut=()=>{_.ctx.isUnmounted?n(k):i(k,b,D)},bt=()=>{k._isLeaving&&k[Bl](!0),K(k,()=>{ut(),rt&&rt()})};J?J(k,ut,bt):bt()}else i(k,b,D)},q=(_,b,D,B=!1,F=!1)=>{const{type:k,props:Y,ref:H,children:$,dynamicChildren:N,shapeFlag:tt,patchFlag:K,dirs:J,cacheIndex:rt}=_;if(K===-2&&(F=!1),H!=null&&(Ne(),Or(H,null,D,_,!0),Ve()),rt!=null&&(b.renderCache[rt]=void 0),tt&256){b.ctx.deactivate(_);return}const ut=tt&1&&J,bt=!Rr(_);let pt;if(bt&&(pt=Y&&Y.onVnodeBeforeUnmount)&&ye(pt,b,_),tt&6)ft(_.component,D,B);else{if(tt&128){_.suspense.unmount(D,B);return}ut&&Ze(_,null,b,"beforeUnmount"),tt&64?_.type.remove(_,b,D,ht,B):N&&!N.hasOnce&&(k!==fe||K>0&&K&64)?gt(N,b,D,!1,!0):(k===fe&&K&384||!F&&tt&16)&&gt($,b,D),B&&et(_)}(bt&&(pt=Y&&Y.onVnodeUnmounted)||ut)&&re(()=>{pt&&ye(pt,b,_),ut&&Ze(_,null,b,"unmounted")},D)},et=_=>{const{type:b,el:D,anchor:B,transition:F}=_;if(b===fe){ct(D,B);return}if(b===tn){x(_);return}const k=()=>{n(D),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(_.shapeFlag&1&&F&&!F.persisted){const{leave:Y,delayLeave:H}=F,$=()=>Y(D,k);H?H(_.el,k,$):$()}else k()},ct=(_,b)=>{let D;for(;_!==b;)D=h(_),n(_),_=D;n(b)},ft=(_,b,D)=>{const{bum:B,scope:F,job:k,subTree:Y,um:H,m:$,a:N}=_;ho($),ho(N),B&&si(B),F.stop(),k&&(k.flags|=8,q(Y,_,b,D)),H&&re(H,b),re(()=>{_.isUnmounted=!0},b)},gt=(_,b,D,B=!1,F=!1,k=0)=>{for(let Y=k;Y<_.length;Y++)q(_[Y],b,D,B,F)},vt=_=>{if(_.shapeFlag&6)return vt(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const b=h(_.anchor||_.el),D=b&&b[Rl];return D?h(D):b};let Et=!1;const Dt=(_,b,D)=>{_==null?b._vnode&&q(b._vnode,null,null,!0):p(b._vnode||null,_,b,null,null,null,D),b._vnode=_,Et||(Et=!0,no(),wa(),Et=!1)},ht={p,um:q,m:j,r:et,mt:L,mc:I,pc:P,pbc:A,n:vt,o:e};return{render:Dt,hydrate:void 0,createApp:iu(Dt)}}function Qi({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function qe({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function du(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function za(e,t,r=!1){const i=e.children,n=t.children;if(it(i)&&it(n))for(let o=0;o<i.length;o++){const a=i[o];let s=n[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=n[o]=ze(n[o]),s.el=a.el),!r&&s.patchFlag!==-2&&za(a,s)),s.type===Wi&&s.patchFlag!==-1&&(s.el=a.el),s.type===Ue&&!s.el&&(s.el=a.el)}}function vu(e){const t=e.slice(),r=[0];let i,n,o,a,s;const l=e.length;for(i=0;i<l;i++){const u=e[i];if(u!==0){if(n=r[r.length-1],e[n]<u){t[i]=n,r.push(i);continue}for(o=0,a=r.length-1;o<a;)s=o+a>>1,e[r[s]]<u?o=s+1:a=s;u<e[r[o]]&&(o>0&&(t[i]=r[o-1]),r[o]=i)}}for(o=r.length,a=r[o-1];o-- >0;)r[o]=a,a=t[a];return r}function Ya(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ya(t)}function ho(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const pu=Symbol.for("v-scx"),gu=()=>li(pu);function Br(e,t,r){return Ha(e,t,r)}function Ha(e,t,r=Ct){const{immediate:i,deep:n,flush:o,once:a}=r,s=jt({},r),l=t&&i||!t&&o!=="post";let u;if(jr){if(o==="sync"){const d=gu();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=Te,d.resume=Te,d.pause=Te,d}}const c=Zt;s.call=(d,v,p)=>Ae(d,c,v,p);let f=!1;o==="post"?s.scheduler=d=>{re(d,c&&c.suspense)}:o!=="sync"&&(f=!0,s.scheduler=(d,v)=>{v?d():Vn(d)}),s.augmentJob=d=>{t&&(d.flags|=4),f&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const h=Pl(e,t,s);return jr&&(u?u.push(h):l&&h()),h}function mu(e,t,r){const i=this.proxy,n=Ft(e)?e.includes(".")?Xa(i,e):()=>i[e]:e.bind(i,i);let o;at(t)?o=t:(o=t.handler,r=t);const a=Jr(this),s=Ha(n,o.bind(i),r);return a(),s}function Xa(e,t){const r=t.split(".");return()=>{let i=e;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}const _u=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Xe(t)}Modifiers`]||e[`${lr(t)}Modifiers`];function yu(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||Ct;let n=r;const o=t.startsWith("update:"),a=o&&_u(i,t.slice(7));a&&(a.trim&&(n=r.map(c=>Ft(c)?c.trim():c)),a.number&&(n=r.map(ra)));let s,l=i[s=Ui(t)]||i[s=Ui(Xe(t))];!l&&o&&(l=i[s=Ui(lr(t))]),l&&Ae(l,e,6,n);const u=i[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Ae(u,e,6,n)}}const xu=new WeakMap;function ja(e,t,r=!1){const i=r?xu:t.emitsCache,n=i.get(e);if(n!==void 0)return n;const o=e.emits;let a={},s=!1;if(!at(e)){const l=u=>{const c=ja(u,t,!0);c&&(s=!0,jt(a,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!s?(Tt(e)&&i.set(e,null),null):(it(o)?o.forEach(l=>a[l]=null):jt(a,o),Tt(e)&&i.set(e,a),a)}function $i(e,t){return!e||!Ai(t)?!1:(t=t.slice(2).replace(/Once$/,""),_t(e,t[0].toLowerCase()+t.slice(1))||_t(e,lr(t))||_t(e,t))}function vo(e){const{type:t,vnode:r,proxy:i,withProxy:n,propsOptions:[o],slots:a,attrs:s,emit:l,render:u,renderCache:c,props:f,data:h,setupState:d,ctx:v,inheritAttrs:p}=e,g=Si(e);let m,S;try{if(r.shapeFlag&4){const x=n||i,C=x;m=be(u.call(C,x,c,f,d,h,v)),S=s}else{const x=t;m=be(x.length>1?x(f,{attrs:s,slots:a,emit:l}):x(f,null)),S=t.props?s:Su(s)}}catch(x){Nr.length=0,Bi(x,e,1),m=te(Ue)}let y=m;if(S&&p!==!1){const x=Object.keys(S),{shapeFlag:C}=y;x.length&&C&7&&(o&&x.some(Mn)&&(S=bu(S,o)),y=yr(y,S,!1,!0))}return r.dirs&&(y=yr(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(r.dirs):r.dirs),r.transition&&$n(y,r.transition),m=y,Si(g),m}const Su=e=>{let t;for(const r in e)(r==="class"||r==="style"||Ai(r))&&((t||(t={}))[r]=e[r]);return t},bu=(e,t)=>{const r={};for(const i in e)(!Mn(i)||!(i.slice(9)in t))&&(r[i]=e[i]);return r};function Cu(e,t,r){const{props:i,children:n,component:o}=e,{props:a,children:s,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?po(i,a,u):!!a;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(a[h]!==i[h]&&!$i(u,h))return!0}}}else return(n||s)&&(!s||!s.$stable)?!0:i===a?!1:i?a?po(i,a,u):!0:!!a;return!1}function po(e,t,r){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(t[o]!==e[o]&&!$i(r,o))return!0}return!1}function wu({vnode:e,parent:t},r){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=r,t=t.parent;else break}}const Ua=e=>e.__isSuspense;function Eu(e,t){t&&t.pendingBranch?it(e)?t.effects.push(...e):t.effects.push(e):Fl(e)}const fe=Symbol.for("v-fgt"),Wi=Symbol.for("v-txt"),Ue=Symbol.for("v-cmt"),tn=Symbol.for("v-stc"),Nr=[];let ne=null;function oe(e=!1){Nr.push(ne=e?null:[])}function Iu(){Nr.pop(),ne=Nr[Nr.length-1]||null}let Xr=1;function go(e,t=!1){Xr+=e,e<0&&ne&&t&&(ne.hasOnce=!0)}function Ka(e){return e.dynamicChildren=Xr>0?ne||dr:null,Iu(),Xr>0&&ne&&ne.push(e),e}function me(e,t,r,i,n,o){return Ka(wt(e,t,r,i,n,o,!0))}function Ga(e,t,r,i,n){return Ka(te(e,t,r,i,n,!0))}function Za(e){return e?e.__v_isVNode===!0:!1}function wr(e,t){return e.type===t.type&&e.key===t.key}const qa=({key:e})=>e??null,ui=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Ft(e)||Xt(e)||at(e)?{i:he,r:e,k:t,f:!!r}:e:null);function wt(e,t=null,r=null,i=0,n=null,o=e===fe?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&qa(t),ref:t&&ui(t),scopeId:Ia,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:he};return s?(Hn(l,r),o&128&&e.normalize(l)):r&&(l.shapeFlag|=Ft(r)?8:16),Xr>0&&!a&&ne&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&ne.push(l),l}const te=Mu;function Mu(e,t=null,r=null,i=0,n=null,o=!1){if((!e||e===Gl)&&(e=Ue),Za(e)){const s=yr(e,t,!0);return r&&Hn(s,r),Xr>0&&!o&&ne&&(s.shapeFlag&6?ne[ne.indexOf(e)]=s:ne.push(s)),s.patchFlag=-2,s}if(Vu(e)&&(e=e.__vccOpts),t){t=Tu(t);let{class:s,style:l}=t;s&&!Ft(s)&&(t.class=Pn(s)),Tt(l)&&(Nn(l)&&!it(l)&&(l=jt({},l)),t.style=Ye(l))}const a=Ft(e)?1:Ua(e)?128:Ll(e)?64:Tt(e)?4:at(e)?2:0;return wt(e,t,r,i,n,a,o,!0)}function Tu(e){return e?Nn(e)||La(e)?jt({},e):e:null}function yr(e,t,r=!1,i=!1){const{props:n,ref:o,patchFlag:a,children:s,transition:l}=e,u=t?Pu(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&qa(u),ref:t&&t.ref?r&&o?it(o)?o.concat(ui(t)):[o,ui(t)]:ui(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==fe?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&yr(e.ssContent),ssFallback:e.ssFallback&&yr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&$n(c,l.clone(c)),c}function Du(e=" ",t=0){return te(Wi,null,e,t)}function mo(e="",t=!1){return t?(oe(),Ga(Ue,null,e)):te(Ue,null,e)}function be(e){return e==null||typeof e=="boolean"?te(Ue):it(e)?te(fe,null,e.slice()):Za(e)?ze(e):te(Wi,null,String(e))}function ze(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:yr(e)}function Hn(e,t){let r=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(it(t))r=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),Hn(e,n()),n._c&&(n._d=!0));return}else{r=32;const n=t._;!n&&!La(t)?t._ctx=he:n===3&&he&&(he.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else at(t)?(t={default:t,_ctx:he},r=32):(t=String(t),i&64?(r=16,t=[Du(t)]):r=8);e.children=t,e.shapeFlag|=r}function Pu(...e){const t={};for(let r=0;r<e.length;r++){const i=e[r];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=Pn([t.class,i.class]));else if(n==="style")t.style=Ye([t.style,i.style]);else if(Ai(n)){const o=t[n],a=i[n];a&&o!==a&&!(it(o)&&o.includes(a))&&(t[n]=o?[].concat(o,a):a)}else n!==""&&(t[n]=i[n])}return t}function ye(e,t,r,i=null){Ae(e,t,7,[r,i])}const Au=Fa();let ku=0;function Fu(e,t,r){const i=e.type,n=(t?t.appContext:e.appContext)||Au,o={uid:ku++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new rl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Na(i,n),emitsOptions:ja(i,n),emit:null,emitted:null,propsDefaults:Ct,inheritAttrs:i.inheritAttrs,ctx:Ct,data:Ct,props:Ct,attrs:Ct,slots:Ct,refs:Ct,setupState:Ct,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=yu.bind(null,o),e.ce&&e.ce(o),o}let Zt=null;const Ou=()=>Zt||he;let wi,xn;{const e=Oi(),t=(r,i)=>{let n;return(n=e[r])||(n=e[r]=[]),n.push(i),o=>{n.length>1?n.forEach(a=>a(o)):n[0](o)}};wi=t("__VUE_INSTANCE_SETTERS__",r=>Zt=r),xn=t("__VUE_SSR_SETTERS__",r=>jr=r)}const Jr=e=>{const t=Zt;return wi(e),e.scope.on(),()=>{e.scope.off(),wi(t)}},_o=()=>{Zt&&Zt.scope.off(),wi(null)};function Ja(e){return e.vnode.shapeFlag&4}let jr=!1;function Ru(e,t=!1,r=!1){t&&xn(t);const{props:i,children:n}=e.vnode,o=Ja(e);ou(e,i,o,t),uu(e,n,r||t);const a=o?Lu(e,t):void 0;return t&&xn(!1),a}function Lu(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Zl);const{setup:i}=r;if(i){Ne();const n=e.setupContext=i.length>1?Nu(e):null,o=Jr(e),a=qr(i,e,0,[e.props,n]),s=qo(a);if(Ve(),o(),(s||e.sp)&&!Rr(e)&&Ma(e),s){if(a.then(_o,_o),t)return a.then(l=>{yo(e,l)}).catch(l=>{Bi(l,e,0)});e.asyncDep=a}else yo(e,a)}else Qa(e)}function yo(e,t,r){at(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Tt(t)&&(e.setupState=xa(t)),Qa(e)}function Qa(e,t,r){const i=e.type;e.render||(e.render=i.render||Te);{const n=Jr(e);Ne();try{ql(e)}finally{Ve(),n()}}}const Bu={get(e,t){return Yt(e,"get",""),e[t]}};function Nu(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Bu),slots:e.slots,emit:e.emit,expose:t}}function zi(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(xa(Cl(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Lr)return Lr[r](e)},has(t,r){return r in t||r in Lr}})):e.proxy}function Vu(e){return at(e)&&"__vccOpts"in e}const $u=(e,t)=>Tl(e,t,jr),Wu="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sn;const xo=typeof window<"u"&&window.trustedTypes;if(xo)try{Sn=xo.createPolicy("vue",{createHTML:e=>e})}catch{}const ts=Sn?e=>Sn.createHTML(e):e=>e,zu="http://www.w3.org/2000/svg",Yu="http://www.w3.org/1998/Math/MathML",Re=typeof document<"u"?document:null,So=Re&&Re.createElement("template"),Hu={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,i)=>{const n=t==="svg"?Re.createElementNS(zu,e):t==="mathml"?Re.createElementNS(Yu,e):r?Re.createElement(e,{is:r}):Re.createElement(e);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Re.createTextNode(e),createComment:e=>Re.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Re.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,i,n,o){const a=r?r.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),r),!(n===o||!(n=n.nextSibling)););else{So.innerHTML=ts(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const s=So.content;if(i==="svg"||i==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Xu=Symbol("_vtc");function ju(e,t,r){const i=e[Xu];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const bo=Symbol("_vod"),Uu=Symbol("_vsh"),Ku=Symbol(""),Gu=/(?:^|;)\s*display\s*:/;function Zu(e,t,r){const i=e.style,n=Ft(r);let o=!1;if(r&&!n){if(t)if(Ft(t))for(const a of t.split(";")){const s=a.slice(0,a.indexOf(":")).trim();r[s]==null&&ci(i,s,"")}else for(const a in t)r[a]==null&&ci(i,a,"");for(const a in r)a==="display"&&(o=!0),ci(i,a,r[a])}else if(n){if(t!==r){const a=i[Ku];a&&(r+=";"+a),i.cssText=r,o=Gu.test(r)}}else t&&e.removeAttribute("style");bo in e&&(e[bo]=o?i.display:"",e[Uu]&&(i.display="none"))}const Co=/\s*!important$/;function ci(e,t,r){if(it(r))r.forEach(i=>ci(e,t,i));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const i=qu(e,t);Co.test(r)?e.setProperty(lr(i),r.replace(Co,""),"important"):e[i]=r}}const wo=["Webkit","Moz","ms"],en={};function qu(e,t){const r=en[t];if(r)return r;let i=Xe(t);if(i!=="filter"&&i in e)return en[t]=i;i=ta(i);for(let n=0;n<wo.length;n++){const o=wo[n]+i;if(o in e)return en[t]=o}return t}const Eo="http://www.w3.org/1999/xlink";function Io(e,t,r,i,n,o=Qs(t)){i&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(Eo,t.slice(6,t.length)):e.setAttributeNS(Eo,t,r):r==null||o&&!ia(r)?e.removeAttribute(t):e.setAttribute(t,o?"":Pe(r)?String(r):r)}function Mo(e,t,r,i,n){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?ts(r):r);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const s=o==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(s!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let a=!1;if(r===""||r==null){const s=typeof e[t];s==="boolean"?r=ia(r):r==null&&s==="string"?(r="",a=!0):s==="number"&&(r=0,a=!0)}try{e[t]=r}catch{}a&&e.removeAttribute(n||t)}function es(e,t,r,i){e.addEventListener(t,r,i)}function Ju(e,t,r,i){e.removeEventListener(t,r,i)}const To=Symbol("_vei");function Qu(e,t,r,i,n=null){const o=e[To]||(e[To]={}),a=o[t];if(i&&a)a.value=i;else{const[s,l]=tc(t);if(i){const u=o[t]=ic(i,n);es(e,s,u,l)}else a&&(Ju(e,s,a,l),o[t]=void 0)}}const Do=/(?:Once|Passive|Capture)$/;function tc(e){let t;if(Do.test(e)){t={};let i;for(;i=e.match(Do);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):lr(e.slice(2)),t]}let rn=0;const ec=Promise.resolve(),rc=()=>rn||(ec.then(()=>rn=0),rn=Date.now());function ic(e,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Ae(nc(i,r.value),t,5,[i])};return r.value=e,r.attached=rc(),r}function nc(e,t){if(it(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Po=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,oc=(e,t,r,i,n,o)=>{const a=n==="svg";t==="class"?ju(e,i,a):t==="style"?Zu(e,r,i):Ai(t)?Mn(t)||Qu(e,t,r,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ac(e,t,i,a))?(Mo(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Io(e,t,i,a,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ft(i))?Mo(e,Xe(t),i,o,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Io(e,t,i,a))};function ac(e,t,r,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Po(t)&&at(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Po(t)&&Ft(r)?!1:t in e}const Ao=e=>{const t=e.props["onUpdate:modelValue"]||!1;return it(t)?r=>si(t,r):t},nn=Symbol("_assign"),ko={deep:!0,created(e,{value:t,modifiers:{number:r}},i){const n=ki(t);es(e,"change",()=>{const o=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>r?ra(Ei(a)):Ei(a));e[nn](e.multiple?n?new Set(o):o:o[0]),e._assigning=!0,ba(()=>{e._assigning=!1})}),e[nn]=Ao(i)},mounted(e,{value:t}){Fo(e,t)},beforeUpdate(e,t,r){e[nn]=Ao(r)},updated(e,{value:t}){e._assigning||Fo(e,t)}};function Fo(e,t){const r=e.multiple,i=it(t);if(!(r&&!i&&!ki(t))){for(let n=0,o=e.options.length;n<o;n++){const a=e.options[n],s=Ei(a);if(r)if(i){const l=typeof s;l==="string"||l==="number"?a.selected=t.some(u=>String(u)===String(s)):a.selected=el(t,s)>-1}else a.selected=t.has(s);else if(Ri(Ei(a),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ei(e){return"_value"in e?e._value:e.value}const sc=jt({patchProp:oc},Hu);let Oo;function lc(){return Oo||(Oo=fu(sc))}const uc=((...e)=>{const t=lc().createApp(...e),{mount:r}=t;return t.mount=i=>{const n=fc(i);if(!n)return;const o=t._component;!at(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const a=r(n,!1,cc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},t});function cc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function fc(e){return Ft(e)?document.querySelector(e):e}/**
     * @license
     * KLineChart v1.1.1
     * Copyright (c) 2019 lihu.
     * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
     */var bn=function(e,t){return bn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r[n]=i[n])},bn(e,t)};function lt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Z=function(){return Z=Object.assign||function(t){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Z.apply(this,arguments)};function fi(e,t,r,i){function n(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(c){try{u(i.next(c))}catch(f){a(f)}}function l(c){try{u(i.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):n(c.value).then(s,l)}u((i=i.apply(e,[])).next())})}function hi(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,n,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(i=1,n&&(o=u[0]&2?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,n=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],n=0}finally{i=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ar(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ht(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),n,o=[],a;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o}function rs(e,t,r){if(arguments.length===2)for(var i=0,n=t.length,o;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}var xt;(function(e){e.Dashed="dashed",e.Solid="solid"})(xt||(xt={}));var dt;(function(e){e.Stroke="stroke",e.Fill="fill",e.StrokeFill="stroke_fill"})(dt||(dt={}));var xr;(function(e){e.Always="always",e.FollowCross="follow_cross",e.None="none"})(xr||(xr={}));var Ce;(function(e){e.Standard="standard",e.Rect="rect"})(Ce||(Ce={}));var Vr;(function(e){e.Left="left",e.Middle="middle",e.Right="right"})(Vr||(Vr={}));var Ii;(function(e){e.Fixed="fixed",e.Pointer="pointer"})(Ii||(Ii={}));var we;(function(e){e.CandleSolid="candle_solid",e.CandleStroke="candle_stroke",e.CandleUpStroke="candle_up_stroke",e.CandleDownStroke="candle_down_stroke",e.Ohlc="ohlc",e.Area="area"})(we||(we={}));var Ke;(function(e){e.Left="left",e.Right="right"})(Ke||(Ke={}));var Vt;(function(e){e.Normal="normal",e.Percentage="percentage",e.Log="log"})(Vt||(Vt={}));var oi="#F92855",on="rgba(249, 40, 85, .7)",ai="#2DC08E",an="rgba(45, 192, 142, .7)",tr="#888888",Yi="#FFFFFF",ce="#1677FF",ir="#76808F",Cn="#DDDDDD";function Ur(e){return"rgba(22, 119, 255, ".concat(e,")")}function hc(){function e(){return{show:!0,size:1,color:"#EDEDED",style:xt.Dashed,dashedValue:[2,2]}}return{show:!0,horizontal:e(),vertical:e()}}function dc(){var e={show:!0,color:ir,textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"};return{type:we.CandleSolid,bar:{upColor:ai,downColor:oi,noChangeColor:tr,upBorderColor:ai,downBorderColor:oi,noChangeBorderColor:tr,upWickColor:ai,downWickColor:oi,noChangeWickColor:tr},area:{lineSize:2,lineColor:ce,value:"close",backgroundColor:[{offset:0,color:Ur(.01)},{offset:1,color:Ur(.2)}]},priceMark:{show:!0,high:Z({},e),low:Z({},e),last:{show:!0,upColor:ai,downColor:oi,noChangeColor:tr,line:{show:!0,style:xt.Dashed,dashedValue:[4,4],size:1},text:{show:!0,style:dt.Fill,size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderColor:"transparent",borderStyle:xt.Solid,borderSize:0,borderDashedValue:[2,2],color:Yi,family:"Helvetica Neue",weight:"normal",borderRadius:2}}},tooltip:{showRule:xr.Always,showType:Ce.Standard,custom:null,defaultValue:"n/a",rect:{position:Ii.Fixed,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:8,offsetLeft:10,offsetTop:8,offsetRight:10,offsetBottom:8,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:ir,marginLeft:10,marginTop:8,marginRight:6,marginBottom:0},icons:[]}}}function vc(){var e=["#FF9600","#935EBD",ce,"#E11D74","#01C5C4"].map(function(t){return{style:xt.Solid,smooth:!1,size:1,dashedValue:[2,2],color:t}});return{ohlc:{upColor:an,downColor:on,noChangeColor:tr},bars:[{style:dt.Fill,borderStyle:xt.Solid,borderSize:1,borderDashedValue:[2,2],upColor:an,downColor:on,noChangeColor:tr}],lines:e,circles:[{style:dt.Fill,borderStyle:xt.Solid,borderSize:1,borderDashedValue:[2,2],upColor:an,downColor:on,noChangeColor:tr}],lastValueMark:{show:!1,text:{show:!1,style:dt.Fill,color:Yi,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:xt.Solid,borderColor:"transparent",borderSize:0,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{showRule:xr.Always,showType:Ce.Standard,showName:!0,showParams:!0,defaultValue:"n/a",text:{size:12,family:"Helvetica Neue",weight:"normal",color:ir,marginLeft:10,marginTop:8,marginRight:6,marginBottom:0},icons:[]}}}function is(){return{show:!0,size:"auto",axisLine:{show:!0,color:Cn,size:1},tickText:{show:!0,color:ir,size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:4},tickLine:{show:!0,size:1,length:3,color:Cn}}}function pc(){var e=is();return e.type=Vt.Normal,e.position=Ke.Right,e.inside=!1,e.reverse=!1,e}function gc(){function e(){return{show:!0,line:{show:!0,style:xt.Dashed,dashedValue:[4,2],size:1,color:ir},text:{show:!0,style:dt.Fill,color:Yi,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:xt.Solid,borderDashedValue:[2,2],borderSize:1,borderColor:ir,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:ir}}}return{show:!0,horizontal:e(),vertical:e()}}function mc(){var e=Ur(.35),t=Ur(.25);function r(){return{style:dt.Fill,color:Yi,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:xt.Solid,borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:ce,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:ce}}return{point:{color:ce,borderColor:e,borderSize:1,radius:5,activeColor:ce,activeBorderColor:e,activeBorderSize:3,activeRadius:5},line:{style:xt.Solid,smooth:!1,color:ce,size:1,dashedValue:[2,2]},rect:{style:dt.Fill,color:t,borderColor:ce,borderSize:1,borderRadius:0,borderStyle:xt.Solid,borderDashedValue:[2,2]},polygon:{style:dt.Fill,color:ce,borderColor:ce,borderSize:1,borderStyle:xt.Solid,borderDashedValue:[2,2]},circle:{style:dt.Fill,color:t,borderColor:ce,borderSize:1,borderStyle:xt.Solid,borderDashedValue:[2,2]},arc:{style:xt.Solid,color:ce,size:1,dashedValue:[2,2]},text:r(),rectText:r()}}function _c(){return{size:1,color:Cn,fill:!0,activeBackgroundColor:Ur(.08)}}function yc(){return{grid:hc(),candle:dc(),indicator:vc(),xAxis:is(),yAxis:pc(),separator:_c(),crosshair:gc(),overlay:mc()}}function ve(e,t){if(!(!Ie(e)&&!Ie(t))){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=e[r],n=t[r];Ie(n)&&Ie(i)?ve(i,n):W(t[r])&&(e[r]=Kr(t[r]))}}}function Kr(e){if(!Ie(e))return e;var t;Ee(e)?t=[]:t={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];Ie(i)?t[r]=Kr(i):t[r]=i}return t}function Ee(e){return Object.prototype.toString.call(e)==="[object Array]"}function De(e){return typeof e=="function"}function Ie(e){return typeof e=="object"&&W(e)}function Q(e){return typeof e=="number"&&!isNaN(e)}function W(e){return e!=null}function nr(e){return typeof e=="boolean"}function ot(e){return typeof e=="string"}var xc=/\\(\\)?/g,Sc=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function kt(e,t,r){if(W(e)){var i=[];t.replace(Sc,function(s){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];var c=s;return W(l[1])?c=l[2].replace(xc,"$1"):W(l[0])&&(c=l[0].trim()),i.push(c),""});for(var n=e,o=0,a=i.length;W(n)&&o<a;)n=n?.[i[o++]];return W(n)?n:r??"--"}return r??"--"}function bc(e,t,r){var i=e.format(new Date(t)),n=i.split(", "),o=n[0].split("/"),a=n[1].split(":"),s={YYYY:o[2],MM:o[0],DD:o[1],HH:a[0]==="24"?"00":a[0],mm:a[1],ss:a[2]};return r.replace(/YYYY|MM|DD|HH|mm|ss/g,function(l){return s[l]})}function Ot(e,t){var r=+e;return Q(r)?r.toFixed(t??2):"".concat(e)}function Cc(e){var t=+e;if(Q(t)){if(t>1e9)return"".concat(+(t/1e9).toFixed(3),"B");if(t>1e6)return"".concat(+(t/1e6).toFixed(3),"M");if(t>1e3)return"".concat(+(t/1e3).toFixed(3),"K")}return"".concat(e)}function Wt(e,t){var r="".concat(e);if(t.length===0)return r;if(r.includes(".")){var i=r.split(".");return"".concat(i[0].replace(/(\d)(?=(\d{3})+$)/g,function(n){return"".concat(n).concat(t)}),".").concat(i[1])}return r.replace(/(\d)(?=(\d{3})+$)/g,function(n){return"".concat(n).concat(t)})}var Er;function or(e){var t,r,i;return Math.ceil((i=(r=(t=e.ownerDocument)===null||t===void 0?void 0:t.defaultView)===null||r===void 0?void 0:r.devicePixelRatio)!==null&&i!==void 0?i:2)}function sr(e,t,r){return"".concat(t??"normal"," ").concat(e??12,"px ").concat(r??"Helvetica Neue")}function Mi(e,t,r,i){if(!W(Er)){var n=document.createElement("canvas"),o=or(n);Er=n.getContext("2d"),Er.scale(o,o)}return Er.font=sr(t,r,i),Math.round(Er.measureText(e).width)}var _e;(function(e){e.OnZoom="onZoom",e.OnScroll="onScroll",e.OnVisibleRangeChange="onVisibleRangeChange",e.OnTooltipIconClick="onTooltipIconClick",e.OnCrosshairChange="onCrosshairChange",e.OnCandleBarClick="onCandleBarClick",e.OnPaneDrag="onPaneDrag"})(_e||(_e={}));var wc=(function(){function e(){this._callbacks=[]}return e.prototype.subscribe=function(t){var r,i=(r=this._callbacks.indexOf(t))!==null&&r!==void 0?r:-1;i<0&&this._callbacks.push(t)},e.prototype.unsubscribe=function(t){var r;if(De(t)){var i=(r=this._callbacks.indexOf(t))!==null&&r!==void 0?r:-1;i>-1&&this._callbacks.splice(i,1)}else this._callbacks=[]},e.prototype.execute=function(t){this._callbacks.forEach(function(r){r(t)})},e.prototype.isEmpty=function(){return this._callbacks.length===0},e})(),ae;(function(e){e.Normal="normal",e.Price="price",e.Volume="volume"})(ae||(ae={}));function Xn(e,t,r,i,n){var o=t.result,a=t.figures,s=t.styles,l=kt(s,"circles",i.circles),u=l.length,c=kt(s,"bars",i.bars),f=c.length,h=kt(s,"lines",i.lines),d=h.length,v=0,p=0,g=0,m;a.forEach(function(S){var y;switch(S.type){case"circle":{var x=l[v%u];m=Z(Z({},x),{color:x.noChangeColor}),v++;break}case"bar":{var C=c[p%f];m=Z(Z({},C),{color:C.noChangeColor}),p++;break}case"line":{m=h[g%d],g++;break}}if(W(m)){var E={prev:{kLineData:e[r-1],indicatorData:o[r-1]},current:{kLineData:e[r],indicatorData:o[r]},next:{kLineData:e[r+1],indicatorData:o[r+1]}},w=(y=S.styles)===null||y===void 0?void 0:y.call(S,E,t,i);n(S,Z(Z({},m),w))}})}var Ec=(function(){function e(t){this.result=[],this._precisionFlag=!1;var r=t.name,i=t.shortName,n=t.series,o=t.calcParams,a=t.figures,s=t.precision,l=t.shouldOhlc,u=t.shouldFormatBigNumber,c=t.visible,f=t.zLevel,h=t.minValue,d=t.maxValue,v=t.styles,p=t.extendData,g=t.regenerateFigures,m=t.createTooltipDataSource,S=t.draw;this.name=r,this.shortName=i??r,this.series=n??ae.Normal,this.precision=s??4,this.calcParams=o??[],this.figures=a??[],this.shouldOhlc=l??!1,this.shouldFormatBigNumber=u??!1,this.visible=c??!0,this.zLevel=f??0,this.minValue=h??null,this.maxValue=d??null,this.styles=Kr(v??{}),this.extendData=p,this.regenerateFigures=g??null,this.createTooltipDataSource=m??null,this.draw=S??null}return e.prototype.setShortName=function(t){return this.shortName!==t?(this.shortName=t,!0):!1},e.prototype.setSeries=function(t){return this.series!==t?(this.series=t,!0):!1},e.prototype.setPrecision=function(t,r){var i=r??!1,n=Math.floor(t);return n!==this.precision&&t>=0&&(!i||i&&!this._precisionFlag)?(this.precision=n,i||(this._precisionFlag=!0),!0):!1},e.prototype.setCalcParams=function(t){var r,i;return this.calcParams=t,this.figures=(i=(r=this.regenerateFigures)===null||r===void 0?void 0:r.call(this,t))!==null&&i!==void 0?i:this.figures,!0},e.prototype.setShouldOhlc=function(t){return this.shouldOhlc!==t?(this.shouldOhlc=t,!0):!1},e.prototype.setShouldFormatBigNumber=function(t){return this.shouldFormatBigNumber!==t?(this.shouldFormatBigNumber=t,!0):!1},e.prototype.setVisible=function(t){return this.visible!==t?(this.visible=t,!0):!1},e.prototype.setZLevel=function(t){return this.zLevel!==t?(this.zLevel=t,!0):!1},e.prototype.setStyles=function(t){return ve(this.styles,t),!0},e.prototype.setExtendData=function(t){return this.extendData!==t?(this.extendData=t,!0):!1},e.prototype.setFigures=function(t){return this.figures!==t?(this.figures=t,!0):!1},e.prototype.setMinValue=function(t){return this.minValue!==t?(this.minValue=t,!0):!1},e.prototype.setMaxValue=function(t){return this.maxValue!==t?(this.maxValue=t,!0):!1},e.prototype.setRegenerateFigures=function(t){return this.regenerateFigures!==t?(this.regenerateFigures=t,!0):!1},e.prototype.setCreateTooltipDataSource=function(t){return this.createTooltipDataSource!==t?(this.createTooltipDataSource=t,!0):!1},e.prototype.setDraw=function(t){return this.draw!==t?(this.draw=t,!0):!1},e.prototype.calcIndicator=function(t){return fi(this,void 0,void 0,function(){var r;return hi(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.calc(t,this)];case 1:return r=i.sent(),this.result=r,[2,!0];case 2:return i.sent(),[2,!1];case 3:return[2]}})})},e.extend=function(t){var r=(function(i){lt(n,i);function n(){return i.call(this,t)||this}return n.prototype.calc=function(o,a){return t.calc(o,a)},n})(e);return r},e})(),_r;(function(e){e.Normal="normal",e.WeakMagnet="weak_magnet",e.StrongMagnet="strong_magnet"})(_r||(_r={}));function Ic(){return["mouseClickEvent","mouseDoubleClickEvent","mouseRightClickEvent","tapEvent","doubleTapEvent","mouseDownEvent","touchStartEvent","mouseMoveEvent","touchMoveEvent"]}var Ro=1,Ir=-1,Mc="overlay_",cr="overlay_figure_",Tc=Number.MAX_SAFE_INTEGER,ns=(function(){function e(t){this.currentStep=Ro,this.points=[],this._prevPressedPoint=null,this._prevPressedPoints=[];var r=t.mode,i=t.modeSensitivity,n=t.extendData,o=t.styles,a=t.name,s=t.totalStep,l=t.lock,u=t.visible,c=t.zLevel,f=t.needDefaultPointFigure,h=t.needDefaultXAxisFigure,d=t.needDefaultYAxisFigure,v=t.createPointFigures,p=t.createXAxisFigures,g=t.createYAxisFigures,m=t.performEventPressedMove,S=t.performEventMoveForDrawing,y=t.onDrawStart,x=t.onDrawing,C=t.onDrawEnd,E=t.onClick,w=t.onDoubleClick,I=t.onRightClick,O=t.onPressedMoveStart,A=t.onPressedMoving,M=t.onPressedMoveEnd,z=t.onMouseEnter,X=t.onMouseLeave,L=t.onRemoved,R=t.onSelected,T=t.onDeselected;this.name=a,this.totalStep=!Q(s)||s<2?1:s,this.lock=l??!1,this.visible=u??!0,this.zLevel=c??0,this.needDefaultPointFigure=f??!1,this.needDefaultXAxisFigure=h??!1,this.needDefaultYAxisFigure=d??!1,this.mode=r??_r.Normal,this.modeSensitivity=i??8,this.extendData=n,this.styles=Kr(o??{}),this.createPointFigures=v??null,this.createXAxisFigures=p??null,this.createYAxisFigures=g??null,this.performEventPressedMove=m??null,this.performEventMoveForDrawing=S??null,this.onDrawStart=y??null,this.onDrawing=x??null,this.onDrawEnd=C??null,this.onClick=E??null,this.onDoubleClick=w??null,this.onRightClick=I??null,this.onPressedMoveStart=O??null,this.onPressedMoving=A??null,this.onPressedMoveEnd=M??null,this.onMouseEnter=z??null,this.onMouseLeave=X??null,this.onRemoved=L??null,this.onSelected=R??null,this.onDeselected=T??null}return e.prototype.setId=function(t){return ot(this.id)?!1:(this.id=t,!0)},e.prototype.setGroupId=function(t){return ot(this.groupId)?!1:(this.groupId=t,!0)},e.prototype.setPaneId=function(t){this.paneId=t},e.prototype.setExtendData=function(t){return t!==this.extendData?(this.extendData=t,!0):!1},e.prototype.setStyles=function(t){return ve(this.styles,t),!0},e.prototype.setPoints=function(t){if(t.length>0){var r=void 0;if(this.points=rs([],Ht(t),!1),t.length>=this.totalStep-1?(this.currentStep=Ir,r=this.totalStep-1):(this.currentStep=t.length+1,r=t.length),this.performEventMoveForDrawing!==null)for(var i=0;i<r;i++)this.performEventMoveForDrawing({currentStep:i+2,mode:this.mode,points:this.points,performPointIndex:i,performPoint:this.points[i]});return this.currentStep===Ir&&this.performEventPressedMove!==null&&this.performEventPressedMove({currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]}),!0}return!1},e.prototype.setLock=function(t){return this.lock!==t?(this.lock=t,!0):!1},e.prototype.setVisible=function(t){return this.visible!==t?(this.visible=t,!0):!1},e.prototype.setZLevel=function(t){return this.zLevel!==t?(this.zLevel=t,!0):!1},e.prototype.setMode=function(t){return this.mode!==t?(this.mode=t,!0):!1},e.prototype.setModeSensitivity=function(t){return this.modeSensitivity!==t?(this.modeSensitivity=t,!0):!1},e.prototype.setOnDrawStartCallback=function(t){return this.onDrawStart!==t?(this.onDrawStart=t,!0):!1},e.prototype.setOnDrawingCallback=function(t){return this.onDrawing!==t?(this.onDrawing=t,!0):!1},e.prototype.setOnDrawEndCallback=function(t){return this.onDrawEnd!==t?(this.onDrawEnd=t,!0):!1},e.prototype.setOnClickCallback=function(t){return this.onClick!==t?(this.onClick=t,!0):!1},e.prototype.setOnDoubleClickCallback=function(t){return this.onDoubleClick!==t?(this.onDoubleClick=t,!0):!1},e.prototype.setOnRightClickCallback=function(t){return this.onRightClick!==t?(this.onRightClick=t,!0):!1},e.prototype.setOnPressedMoveStartCallback=function(t){return this.onPressedMoveStart!==t?(this.onPressedMoveStart=t,!0):!1},e.prototype.setOnPressedMovingCallback=function(t){return this.onPressedMoving!==t?(this.onPressedMoving=t,!0):!1},e.prototype.setOnPressedMoveEndCallback=function(t){return this.onPressedMoveEnd!==t?(this.onPressedMoveEnd=t,!0):!1},e.prototype.setOnMouseEnterCallback=function(t){return this.onMouseEnter!==t?(this.onMouseEnter=t,!0):!1},e.prototype.setOnMouseLeaveCallback=function(t){return this.onMouseLeave!==t?(this.onMouseLeave=t,!0):!1},e.prototype.setOnRemovedCallback=function(t){return this.onRemoved!==t?(this.onRemoved=t,!0):!1},e.prototype.setOnSelectedCallback=function(t){return this.onSelected!==t?(this.onSelected=t,!0):!1},e.prototype.setOnDeselectedCallback=function(t){return this.onDeselected!==t?(this.onDeselected=t,!0):!1},e.prototype.nextStep=function(){this.currentStep===this.totalStep-1?this.currentStep=Ir:this.currentStep++},e.prototype.forceComplete=function(){this.currentStep=Ir},e.prototype.isDrawing=function(){return this.currentStep!==Ir},e.prototype.isStart=function(){return this.currentStep===Ro},e.prototype.eventMoveForDrawing=function(t){var r,i=this.currentStep-1,n={};Q(t.timestamp)&&(n.timestamp=t.timestamp),Q(t.dataIndex)&&(n.dataIndex=t.dataIndex),Q(t.value)&&(n.value=t.value),this.points[i]=n,(r=this.performEventMoveForDrawing)===null||r===void 0||r.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:i,performPoint:n})},e.prototype.eventPressedPointMove=function(t,r){var i;Q(t.dataIndex)&&(this.points[r].dataIndex=t.dataIndex,this.points[r].timestamp=t.timestamp),Q(t.value)&&(this.points[r].value=t.value),(i=this.performEventPressedMove)===null||i===void 0||i.call(this,{currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:r,performPoint:this.points[r]})},e.prototype.startPressedMove=function(t){this._prevPressedPoint=Z({},t),this._prevPressedPoints=Kr(this.points)},e.prototype.eventPressedOtherMove=function(t,r,i){if(this._prevPressedPoint!==null){var n;Q(t.dataIndex)&&Q(this._prevPressedPoint.dataIndex)&&(n=t.dataIndex-this._prevPressedPoint.dataIndex);var o;if(Q(t.value)&&Q(this._prevPressedPoint.value)&&(o=t.value-this._prevPressedPoint.value),i!==void 0){var a=this._prevPressedPoints.find(function(s){var l,u=Z({},s);Q(o)&&Q(s.value)&&(u.value=s.value+o),Q(s.dataIndex)&&Q(s.timestamp)&&(s.dataIndex=r.timestampToDataIndex(s.timestamp)),Q(n)&&Q(s.dataIndex)&&(u.dataIndex=s.dataIndex+n,u.timestamp=(l=r.dataIndexToTimestamp(u.dataIndex))!==null&&l!==void 0?l:void 0);var c=i.length-1;return u.timestamp===void 0||u.timestamp!==void 0&&u.timestamp>i[c].timestamp});if(a!==void 0)return}this.points=this._prevPressedPoints.map(function(s){var l,u=Z({},s);return Q(o)&&Q(s.value)&&(u.value=s.value+o),Q(s.dataIndex)&&Q(s.timestamp)&&(s.dataIndex=r.timestampToDataIndex(s.timestamp)),Q(n)&&Q(s.dataIndex)&&(u.dataIndex=s.dataIndex+n,u.timestamp=(l=r.dataIndexToTimestamp(u.dataIndex))!==null&&l!==void 0?l:void 0),u})}},e.extend=function(t){var r=(function(i){lt(n,i);function n(){return i.call(this,t)||this}return n})(e);return r},e})(),zt;(function(e){e[e.Tooltip=0]="Tooltip",e[e.Crosshair=1]="Crosshair",e[e.XAxis=2]="XAxis"})(zt||(zt={}));function Dc(){return{formatDate:bc,formatBigNumber:Cc}}var Pc="en-US",sn=1,Lo=new Date().getTime();function os(e){var t=new Date().getTime();return t===Lo?++sn:sn=1,Lo=t,"".concat(e??"").concat(t,"_").concat(sn)}function Me(e,t){var r,i=document.createElement(e),n=t??{};for(var o in n)i.style[o]=(r=n[o])!==null&&r!==void 0?r:"";return i}function wn(e,t,r){var i=0,n=0;for(n=e.length-1;i!==n;){var o=Math.floor((n+i)/2),a=n-i,s=e[o][t];if(r===e[i][t])return i;if(r===e[n][t])return n;if(r===s)return o;if(r>s?i=o:n=o,a<=2)break}return i}function Ac(e){var t=Math.floor(Tr(e)),r=Qe(t),i=e/r,n=0;return i<1.5?n=1:i<2.5?n=2:i<3.5?n=3:i<4.5?n=4:i<5.5?n=5:i<6.5?n=6:n=8,e=n*r,t>=-20?+e.toFixed(t<0?-t:0):e}function Bo(e,t){t==null&&(t=10),t=Math.min(Math.max(0,t),20);var r=(+e).toFixed(t);return+r}function kc(e){var t=e.toString(),r=t.indexOf("e");if(r>0){var i=+t.slice(r+1);return i<0?-i:0}else{var n=t.indexOf(".");return n<0?0:t.length-1-n}}function as(e,t,r){var i=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER];return e.forEach(function(n){var o,a;i[0]=Math.max((o=n[t])!==null&&o!==void 0?o:n,i[0]),i[1]=Math.min((a=n[r])!==null&&a!==void 0?a:n,i[1])}),i}function Tr(e){return Math.log(e)/Math.log(10)}function Qe(e){return Math.pow(10,e)}function No(){return{from:0,to:0,realFrom:0,realTo:0}}var Vo={MIN:1,MAX:50},Fc=6,Oc=50,Rc=(function(){function e(t){this._dateTimeFormat=this._buildDateTimeFormat(),this._zoomEnabled=!0,this._scrollEnabled=!0,this._loading=!0,this._loadMoreCallback=null,this._more=!0,this._totalBarSpace=0,this._barSpace=Fc,this._offsetRightDistance=Oc,this._startLastBarRightSideDiffBarCount=0,this._scrollLimitRole=0,this._minVisibleBarCount={left:2,right:2},this._maxOffsetDistance={left:50,right:50},this._visibleRange=No(),this._chartStore=t,this._gapBarSpace=this._calcGapBarSpace(),this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace}return e.prototype._calcGapBarSpace=function(){var t=Math.floor(this._barSpace*.82),r=Math.floor(this._barSpace),i=Math.min(t,r-1);return Math.max(1,i)},e.prototype.adjustVisibleRange=function(){var t,r=this._chartStore.getDataList(),i=r.length,n=this._totalBarSpace/this._barSpace,o,a;this._scrollLimitRole===1?(o=(this._totalBarSpace-this._maxOffsetDistance.right)/this._barSpace,a=(this._totalBarSpace-this._maxOffsetDistance.left)/this._barSpace):(o=this._minVisibleBarCount.left,a=this._minVisibleBarCount.right),o=Math.max(0,o),a=Math.max(0,a);var s=n-Math.min(o,i);this._lastBarRightSideDiffBarCount>s&&(this._lastBarRightSideDiffBarCount=s);var l=-i+Math.min(a,i);this._lastBarRightSideDiffBarCount<l&&(this._lastBarRightSideDiffBarCount=l);var u=Math.round(this._lastBarRightSideDiffBarCount+i+.5);u>i&&(u=i);var c=Math.round(u-n)-1;c<0&&(c=0);var f=this._lastBarRightSideDiffBarCount>0?Math.round(i+this._lastBarRightSideDiffBarCount-n)-1:c;if(this._visibleRange={from:c,to:u,realFrom:f,realTo:u},this._chartStore.getActionStore().execute(_e.OnVisibleRangeChange,this._visibleRange),this._chartStore.adjustVisibleDataList(),c===0&&this._more&&!this._loading&&this._loadMoreCallback!==null){this._loading=!0;var h=r[0];this._loadMoreCallback((t=h?.timestamp)!==null&&t!==void 0?t:null)}},e.prototype.setMore=function(t){return this._more=t,this},e.prototype.setLoading=function(t){return this._loading=t,this},e.prototype.getDateTimeFormat=function(){return this._dateTimeFormat},e.prototype._buildDateTimeFormat=function(t){var r={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};ot(t)&&(r.timeZone=t);var i=null;try{i=new Intl.DateTimeFormat("en",r)}catch{}return i},e.prototype.setTimezone=function(t){var r=this._buildDateTimeFormat(t);r!==null&&(this._dateTimeFormat=r)},e.prototype.getTimezone=function(){return this._dateTimeFormat.resolvedOptions().timeZone},e.prototype.getBarSpace=function(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:this._gapBarSpace/2}},e.prototype.setBarSpace=function(t,r){t<Vo.MIN||t>Vo.MAX||this._barSpace===t||(this._barSpace=t,this._gapBarSpace=this._calcGapBarSpace(),r?.(),this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0))},e.prototype.setTotalBarSpace=function(t){return this._totalBarSpace!==t&&(this._totalBarSpace=t,this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0)),this},e.prototype.setOffsetRightDistance=function(t,r){return this._offsetRightDistance=this._scrollLimitRole===1?Math.min(this._maxOffsetDistance.right,t):t,this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace,(r??!1)&&(this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0)),this},e.prototype.resetOffsetRightDistance=function(){this.setOffsetRightDistance(this._offsetRightDistance)},e.prototype.getInitialOffsetRightDistance=function(){return this._offsetRightDistance},e.prototype.getOffsetRightDistance=function(){return Math.max(0,this._lastBarRightSideDiffBarCount*this._barSpace)},e.prototype.getLastBarRightSideDiffBarCount=function(){return this._lastBarRightSideDiffBarCount},e.prototype.setLastBarRightSideDiffBarCount=function(t){return this._lastBarRightSideDiffBarCount=t,this},e.prototype.setMaxOffsetLeftDistance=function(t){return this._scrollLimitRole=1,this._maxOffsetDistance.left=t,this},e.prototype.setMaxOffsetRightDistance=function(t){return this._scrollLimitRole=1,this._maxOffsetDistance.right=t,this},e.prototype.setLeftMinVisibleBarCount=function(t){return this._scrollLimitRole=0,this._minVisibleBarCount.left=t,this},e.prototype.setRightMinVisibleBarCount=function(t){return this._scrollLimitRole=0,this._minVisibleBarCount.right=t,this},e.prototype.getVisibleRange=function(){return this._visibleRange},e.prototype.startScroll=function(){this._startLastBarRightSideDiffBarCount=this._lastBarRightSideDiffBarCount},e.prototype.scroll=function(t){if(this._scrollEnabled){var r=t/this._barSpace;this._chartStore.getActionStore().execute(_e.OnScroll),this._lastBarRightSideDiffBarCount=this._startLastBarRightSideDiffBarCount-r,this.adjustVisibleRange(),this._chartStore.getTooltipStore().recalculateCrosshair(!0),this._chartStore.getChart().adjustPaneViewport(!1,!0,!0,!0)}},e.prototype.getDataByDataIndex=function(t){var r;return(r=this._chartStore.getDataList()[t])!==null&&r!==void 0?r:null},e.prototype.coordinateToFloatIndex=function(t){var r=this._chartStore.getDataList().length,i=(this._totalBarSpace-t)/this._barSpace,n=r+this._lastBarRightSideDiffBarCount-i;return Math.round(n*1e6)/1e6},e.prototype.dataIndexToTimestamp=function(t){var r,i=this.getDataByDataIndex(t);return(r=i?.timestamp)!==null&&r!==void 0?r:null},e.prototype.timestampToDataIndex=function(t){var r=this._chartStore.getDataList();return r.length===0?0:wn(r,"timestamp",t)},e.prototype.dataIndexToCoordinate=function(t){var r=this._chartStore.getDataList().length,i=r+this._lastBarRightSideDiffBarCount-t;return Math.floor(this._totalBarSpace-(i-.5)*this._barSpace)-.5},e.prototype.coordinateToDataIndex=function(t){return Math.ceil(this.coordinateToFloatIndex(t))-1},e.prototype.zoom=function(t,r){var i=this,n;if(this._zoomEnabled){if(!Q(r?.x)){var o=this._chartStore.getTooltipStore().getCrosshair();r={x:(n=o?.x)!==null&&n!==void 0?n:this._totalBarSpace/2}}this._chartStore.getActionStore().execute(_e.OnZoom);var a=this.coordinateToFloatIndex(r?.x),s=this._barSpace+t*(this._barSpace/10);this.setBarSpace(s,function(){i._lastBarRightSideDiffBarCount+=a-i.coordinateToFloatIndex(r?.x)})}},e.prototype.setZoomEnabled=function(t){return this._zoomEnabled=t,this},e.prototype.getZoomEnabled=function(){return this._zoomEnabled},e.prototype.setScrollEnabled=function(t){return this._scrollEnabled=t,this},e.prototype.getScrollEnabled=function(){return this._scrollEnabled},e.prototype.setLoadMoreCallback=function(t){return this._loadMoreCallback=t,this},e.prototype.clear=function(){this._more=!0,this._loading=!0,this._visibleRange=No()},e})(),Lc={name:"AVP",shortName:"AVP",series:ae.Price,precision:2,figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:function(e){var t=0,r=0;return e.map(function(i){var n,o,a={},s=(n=i?.turnover)!==null&&n!==void 0?n:0,l=(o=i?.volume)!==null&&o!==void 0?o:0;return t+=s,r+=l,r!==0&&(a.avp=t/r),a})}},Bc={name:"AO",shortName:"AO",calcParams:[5,34],figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:function(e,t,r){var i,n,o,a,s=e.prev,l=e.current,u=(n=(i=s.indicatorData)===null||i===void 0?void 0:i.ao)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER,c=(a=(o=l.indicatorData)===null||o===void 0?void 0:o.ao)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER,f;c>u?f=kt(t.styles,"bars[0].upColor",r.bars[0].upColor):f=kt(t.styles,"bars[0].downColor",r.bars[0].downColor);var h=c>u?dt.Stroke:dt.Fill;return{color:f,style:h,borderColor:f}}}],calc:function(e,t){var r=t.calcParams,i=Math.max(r[0],r[1]),n=0,o=0,a=0,s=0;return e.map(function(l,u){var c={},f=(l.low+l.high)/2;if(n+=f,o+=f,u>=r[0]-1){a=n/r[0];var h=e[u-(r[0]-1)];n-=(h.low+h.high)/2}if(u>=r[1]-1){s=o/r[1];var h=e[u-(r[1]-1)];o-=(h.low+h.high)/2}return u>=i-1&&(c.ao=a-s),c})}},Nc={name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:function(e){return e.map(function(t,r){return{key:"bias".concat(r+1),title:"BIAS".concat(t,": "),type:"line"}})},calc:function(e,t){var r=t.calcParams,i=t.figures,n=[];return e.map(function(o,a){var s={},l=o.close;return r.forEach(function(u,c){var f;if(n[c]=((f=n[c])!==null&&f!==void 0?f:0)+l,a>=u-1){var h=n[c]/r[c];s[i[c].key]=(l-h)/h*100,n[c]-=e[a-(u-1)].close}}),s})}};function Vc(e,t){var r=e.length,i=0;return e.forEach(function(n){var o=n.close-t;i+=o*o}),i=Math.abs(i),Math.sqrt(i/r)}var $c={name:"BOLL",shortName:"BOLL",series:ae.Price,calcParams:[20,2],precision:2,shouldOhlc:!0,figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=r[0]-1,n=0;return e.map(function(o,a){var s=o.close,l={};if(n+=s,a>=i){l.mid=n/r[0];var u=Vc(e.slice(a-i,a+1),l.mid);l.up=l.mid+r[1]*u,l.dn=l.mid-r[1]*u,n-=e[a-i].close}return l})}},Wc={name:"BRAR",shortName:"BRAR",calcParams:[26],figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=0,n=0,o=0,a=0;return e.map(function(s,l){var u,c,f={},h=s.high,d=s.low,v=s.open,p=((u=e[l-1])!==null&&u!==void 0?u:s).close;if(o+=h-v,a+=v-d,i+=h-p,n+=p-d,l>=r[0]-1){a!==0?f.ar=o/a*100:f.ar=0,n!==0?f.br=i/n*100:f.br=0;var g=e[l-(r[0]-1)],m=g.high,S=g.low,y=g.open,x=((c=e[l-r[0]])!==null&&c!==void 0?c:e[l-(r[0]-1)]).close;i-=m-x,n-=x-S,o-=m-y,a-=y-S}return f})}},zc={name:"BBI",shortName:"BBI",series:ae.Price,precision:2,calcParams:[3,6,12,24],shouldOhlc:!0,figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=Math.max.apply(Math,rs([],Ht(r),!1)),n=[],o=[];return e.map(function(a,s){var l={},u=a.close;if(r.forEach(function(f,h){var d;n[h]=((d=n[h])!==null&&d!==void 0?d:0)+u,s>=f-1&&(o[h]=n[h]/f,n[h]-=e[s-(f-1)].close)}),s>=i-1){var c=0;o.forEach(function(f){c+=f}),l.bbi=c/4}return l})}},Yc={name:"CCI",shortName:"CCI",calcParams:[20],figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=r[0]-1,n=0,o=[];return e.map(function(a,s){var l={},u=(a.high+a.low+a.close)/3;if(n+=u,o.push(u),s>=i){var c=n/r[0],f=o.slice(s-i,s+1),h=0;f.forEach(function(p){h+=Math.abs(p-c)});var d=h/r[0];l.cci=d!==0?(u-c)/d/.015:0;var v=(e[s-i].high+e[s-i].low+e[s-i].close)/3;n-=v}return l})}},Hc={name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=Math.ceil(r[1]/2.5+1),n=Math.ceil(r[2]/2.5+1),o=Math.ceil(r[3]/2.5+1),a=Math.ceil(r[4]/2.5+1),s=0,l=[],u=0,c=[],f=0,h=[],d=0,v=[],p=[];return e.forEach(function(g,m){var S,y,x,C,E,w={},I=(S=e[m-1])!==null&&S!==void 0?S:g,O=(I.high+I.close+I.low+I.open)/4,A=Math.max(0,g.high-O),M=Math.max(0,O-g.low);m>=r[0]-1&&(M!==0?w.cr=A/M*100:w.cr=0,s+=w.cr,u+=w.cr,f+=w.cr,d+=w.cr,m>=r[0]+r[1]-2&&(l.push(s/r[1]),m>=r[0]+r[1]+i-3&&(w.ma1=l[l.length-1-i]),s-=(y=p[m-(r[1]-1)].cr)!==null&&y!==void 0?y:0),m>=r[0]+r[2]-2&&(c.push(u/r[2]),m>=r[0]+r[2]+n-3&&(w.ma2=c[c.length-1-n]),u-=(x=p[m-(r[2]-1)].cr)!==null&&x!==void 0?x:0),m>=r[0]+r[3]-2&&(h.push(f/r[3]),m>=r[0]+r[3]+o-3&&(w.ma3=h[h.length-1-o]),f-=(C=p[m-(r[3]-1)].cr)!==null&&C!==void 0?C:0),m>=r[0]+r[4]-2&&(v.push(d/r[4]),m>=r[0]+r[4]+a-3&&(w.ma4=v[v.length-1-a]),d-=(E=p[m-(r[4]-1)].cr)!==null&&E!==void 0?E:0)),p.push(w)}),p}},Xc={name:"DMA",shortName:"DMA",calcParams:[10,50,10],figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=Math.max(r[0],r[1]),n=0,o=0,a=0,s=[];return e.forEach(function(l,u){var c,f={},h=l.close;n+=h,o+=h;var d=0,v=0;if(u>=r[0]-1&&(d=n/r[0],n-=e[u-(r[0]-1)].close),u>=r[1]-1&&(v=o/r[1],o-=e[u-(r[1]-1)].close),u>=i-1){var p=d-v;f.dma=p,a+=p,u>=i+r[2]-2&&(f.ama=a/r[2],a-=(c=s[u-(r[2]-1)].dma)!==null&&c!==void 0?c:0)}s.push(f)}),s}},jc={name:"DMI",shortName:"DMI",calcParams:[14,6],figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=0,n=0,o=0,a=0,s=0,l=0,u=0,c=0,f=[];return e.forEach(function(h,d){var v,p,g={},m=(v=e[d-1])!==null&&v!==void 0?v:h,S=m.close,y=h.high,x=h.low,C=y-x,E=Math.abs(y-S),w=Math.abs(S-x),I=y-m.high,O=m.low-x,A=Math.max(Math.max(C,E),w),M=I>0&&I>O?I:0,z=O>0&&O>I?O:0;if(i+=A,n+=M,o+=z,d>=r[0]-1){d>r[0]-1?(a=a-a/r[0]+A,s=s-s/r[0]+M,l=l-l/r[0]+z):(a=i,s=n,l=o);var X=0,L=0;a!==0&&(X=s*100/a,L=l*100/a),g.pdi=X,g.mdi=L;var R=0;L+X!==0&&(R=Math.abs(L-X)/(L+X)*100),u+=R,d>=r[0]*2-2&&(d>r[0]*2-2?c=(c*(r[0]-1)+R)/r[0]:c=u/r[0],g.adx=c,d>=r[0]*2+r[1]-3&&(g.adxr=(((p=f[d-(r[1]-1)].adx)!==null&&p!==void 0?p:0)+c)/2))}f.push(g)}),f}},Uc={name:"EMV",shortName:"EMV",calcParams:[14,9],figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=0,n=[];return e.map(function(o,a){var s,l={};if(a>0){var u=e[a-1],c=o.high,f=o.low,h=(s=o.volume)!==null&&s!==void 0?s:0,d=(c+f)/2-(u.high+u.low)/2;if(h===0||c-f===0)l.emv=0;else{var v=h/1e8/(c-f);l.emv=d/v}i+=l.emv,n.push(l.emv),a>=r[0]&&(l.maEmv=i/r[0],i-=n[a-r[0]])}return l})}},Kc={name:"EMA",shortName:"EMA",series:ae.Price,calcParams:[6,12,20],precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:function(e){return e.map(function(t,r){return{key:"ema".concat(r+1),title:"EMA".concat(t,": "),type:"line"}})},calc:function(e,t){var r=t.calcParams,i=t.figures,n=0,o=[];return e.map(function(a,s){var l={},u=a.close;return n+=u,r.forEach(function(c,f){s>=c-1&&(s>c-1?o[f]=(2*u+(c-1)*o[f])/(c+1):o[f]=n/c,l[i[f].key]=o[f])}),l})}},Gc={name:"MTM",shortName:"MTM",calcParams:[12,6],figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=0,n=[];return e.forEach(function(o,a){var s,l={};if(a>=r[0]){var u=o.close,c=e[a-r[0]].close;l.mtm=u-c,i+=l.mtm,a>=r[0]+r[1]-1&&(l.maMtm=i/r[1],i-=(s=n[a-(r[1]-1)].mtm)!==null&&s!==void 0?s:0)}n.push(l)}),n}},Zc={name:"MA",shortName:"MA",series:ae.Price,calcParams:[5,10,30,60],precision:2,shouldOhlc:!0,figures:[{key:"ma5",title:"MA5: ",type:"line"},{key:"ma10",title:"MA10: ",type:"line"},{key:"ma30",title:"MA30: ",type:"line"},{key:"ma60",title:"MA60: ",type:"line"}],regenerateFigures:function(e){return e.map(function(t,r){return{key:"ma".concat(r+1),title:"MA".concat(t,": "),type:"line"}})},calc:function(e,t){var r=t.calcParams,i=t.figures,n=[];return e.map(function(o,a){var s={},l=o.close;return r.forEach(function(u,c){var f;n[c]=((f=n[c])!==null&&f!==void 0?f:0)+l,a>=u-1&&(s[i[c].key]=n[c]/u,n[c]-=e[a-(u-1)].close)}),s})}},qc={name:"MACD",shortName:"MACD",calcParams:[12,26,9],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:function(e,t,r){var i,n,o,a,s=e.prev,l=e.current,u=(n=(i=s.indicatorData)===null||i===void 0?void 0:i.macd)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER,c=(a=(o=l.indicatorData)===null||o===void 0?void 0:o.macd)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER,f;c>0?f=kt(t.styles,"bars[0].upColor",r.bars[0].upColor):c<0?f=kt(t.styles,"bars[0].downColor",r.bars[0].downColor):f=kt(t.styles,"bars[0].noChangeColor",r.bars[0].noChangeColor);var h=u<c?dt.Stroke:dt.Fill;return{style:h,color:f,borderColor:f}}}],calc:function(e,t){var r=t.calcParams,i=0,n,o,a=0,s=0,l=0,u=Math.max(r[0],r[1]);return e.map(function(c,f){var h={},d=c.close;return i+=d,f>=r[0]-1&&(f>r[0]-1?n=(2*d+(r[0]-1)*n)/(r[0]+1):n=i/r[0]),f>=r[1]-1&&(f>r[1]-1?o=(2*d+(r[1]-1)*o)/(r[1]+1):o=i/r[1]),f>=u-1&&(a=n-o,h.dif=a,s+=a,f>=u+r[2]-2&&(f>u+r[2]-2?l=(a*2+l*(r[2]-1))/(r[2]+1):l=s/r[2],h.macd=(a-l)*2,h.dea=l)),h})}},Jc={name:"OBV",shortName:"OBV",calcParams:[30],figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=0,n=0,o=[];return e.forEach(function(a,s){var l,u,c,f,h=(l=e[s-1])!==null&&l!==void 0?l:a;a.close<h.close?n-=(u=a.volume)!==null&&u!==void 0?u:0:a.close>h.close&&(n+=(c=a.volume)!==null&&c!==void 0?c:0);var d={obv:n};i+=n,s>=r[0]-1&&(d.maObv=i/r[0],i-=(f=o[s-(r[0]-1)].obv)!==null&&f!==void 0?f:0),o.push(d)}),o}},Qc={name:"PVT",shortName:"PVT",figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:function(e){var t=0;return e.map(function(r,i){var n,o,a={},s=r.close,l=(n=r.volume)!==null&&n!==void 0?n:1,u=((o=e[i-1])!==null&&o!==void 0?o:r).close,c=0,f=u*l;return f!==0&&(c=(s-u)/f),t+=c,a.pvt=t,a})}},tf={name:"PSY",shortName:"PSY",calcParams:[12,6],figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=0,n=0,o=[],a=[];return e.forEach(function(s,l){var u,c,f={},h=((u=e[l-1])!==null&&u!==void 0?u:s).close,d=s.close-h>0?1:0;o.push(d),i+=d,l>=r[0]-1&&(f.psy=i/r[0]*100,n+=f.psy,l>=r[0]+r[1]-2&&(f.maPsy=n/r[1],n-=(c=a[l-(r[1]-1)].psy)!==null&&c!==void 0?c:0),i-=o[l-(r[0]-1)]),a.push(f)}),a}},ef={name:"ROC",shortName:"ROC",calcParams:[12,6],figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=[],n=0;return e.forEach(function(o,a){var s,l,u={};if(a>=r[0]-1){var c=o.close,f=((s=e[a-r[0]])!==null&&s!==void 0?s:e[a-(r[0]-1)]).close;f!==0?u.roc=(c-f)/f*100:u.roc=0,n+=u.roc,a>=r[0]-1+r[1]-1&&(u.maRoc=n/r[1],n-=(l=i[a-(r[1]-1)].roc)!==null&&l!==void 0?l:0)}i.push(u)}),i}},rf={name:"RSI",shortName:"RSI",calcParams:[6,12,24],figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:function(e){return e.map(function(t,r){var i=r+1;return{key:"rsi".concat(i),title:"RSI".concat(i,": "),type:"line"}})},calc:function(e,t){var r=t.calcParams,i=t.figures,n=[],o=[];return e.map(function(a,s){var l,u={},c=((l=e[s-1])!==null&&l!==void 0?l:a).close,f=a.close-c;return r.forEach(function(h,d){var v,p,g;if(f>0?n[d]=((v=n[d])!==null&&v!==void 0?v:0)+f:o[d]=((p=o[d])!==null&&p!==void 0?p:0)+Math.abs(f),s>=h-1){o[d]!==0?u[i[d].key]=100-100/(1+n[d]/o[d]):u[i[d].key]=0;var m=e[s-(h-1)],S=(g=e[s-h])!==null&&g!==void 0?g:m,y=m.close-S.close;y>0?n[d]-=y:o[d]-=Math.abs(y)}}),u})}},nf={name:"SMA",shortName:"SMA",series:ae.Price,calcParams:[12,2],precision:2,figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:function(e,t){var r=t.calcParams,i=0,n=0;return e.map(function(o,a){var s={},l=o.close;return i+=l,a>=r[0]-1&&(a>r[0]-1?n=(l*r[1]+n*(r[0]-r[1]+1))/(r[0]+1):n=i/r[0],s.sma=n),s})}},of={name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=[];return e.forEach(function(n,o){var a,s,l,u,c={},f=n.close;if(o>=r[0]-1){var h=as(e.slice(o-(r[0]-1),o+1),"high","low"),d=h[0],v=h[1],p=d-v,g=(f-v)/(p===0?1:p)*100;c.k=((r[1]-1)*((s=(a=i[o-1])===null||a===void 0?void 0:a.k)!==null&&s!==void 0?s:50)+g)/r[1],c.d=((r[2]-1)*((u=(l=i[o-1])===null||l===void 0?void 0:l.d)!==null&&u!==void 0?u:50)+c.k)/r[2],c.j=3*c.k-2*c.d}i.push(c)}),i}},af={name:"SAR",shortName:"SAR",series:ae.Price,calcParams:[2,2,20],precision:2,shouldOhlc:!0,figures:[{key:"sar",title:"SAR: ",type:"circle",styles:function(e,t,r){var i,n,o=e.current,a=(n=(i=o.indicatorData)===null||i===void 0?void 0:i.sar)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER,s=o.kLineData,l=(s?.high+s?.low)/2,u=a<l?kt(t.styles,"circles[0].upColor",r.circles[0].upColor):kt(t.styles,"circles[0].downColor",r.circles[0].downColor);return{color:u}}}],calc:function(e,t){var r=t.calcParams,i=r[0]/100,n=r[1]/100,o=r[2]/100,a=i,s=-100,l=!1,u=0;return e.map(function(c,f){var h=u,d=c.high,v=c.low;if(l){(s===-100||s<d)&&(s=d,a=Math.min(a+n,o)),u=h+a*(s-h);var p=Math.min(e[Math.max(1,f)-1].low,v);u>c.low?(u=s,a=i,s=-100,l=!l):u>p&&(u=p)}else{(s===-100||s>v)&&(s=v,a=Math.min(a+n,o)),u=h+a*(s-h);var g=Math.max(e[Math.max(1,f)-1].high,d);u<c.high?(u=s,a=0,s=-100,l=!l):u<g&&(u=g)}return{sar:u}})}},sf={name:"TRIX",shortName:"TRIX",calcParams:[12,9],figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=0,n,o,a,s=0,l=0,u=0,c=[];return e.forEach(function(f,h){var d,v={},p=f.close;if(i+=p,h>=r[0]-1&&(h>r[0]-1?n=(2*p+(r[0]-1)*n)/(r[0]+1):n=i/r[0],s+=n,h>=r[0]*2-2&&(h>r[0]*2-2?o=(2*n+(r[0]-1)*o)/(r[0]+1):o=s/r[0],l+=o,h>=r[0]*3-3))){var g=void 0,m=0;h>r[0]*3-3?(g=(2*o+(r[0]-1)*a)/(r[0]+1),m=(g-a)/a*100):g=l/r[0],a=g,v.trix=m,u+=m,h>=r[0]*3+r[1]-4&&(v.maTrix=u/r[1],u-=(d=c[h-(r[1]-1)].trix)!==null&&d!==void 0?d:0)}c.push(v)}),c}},lf={name:"VOL",shortName:"VOL",series:ae.Volume,calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(e,t,r){var i=e.current.kLineData,n;return i.close>i.open?n=kt(t.styles,"bars[0].upColor",r.bars[0].upColor):i.close<i.open?n=kt(t.styles,"bars[0].downColor",r.bars[0].downColor):n=kt(t.styles,"bars[0].noChangeColor",r.bars[0].noChangeColor),{color:n}}}],regenerateFigures:function(e){var t=e.map(function(r,i){return{key:"ma".concat(i+1),title:"MA".concat(r,": "),type:"line"}});return t.push({key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(r,i,n){var o=r.current.kLineData,a;return o.close>o.open?a=kt(i.styles,"bars[0].upColor",n.bars[0].upColor):o.close<o.open?a=kt(i.styles,"bars[0].downColor",n.bars[0].downColor):a=kt(i.styles,"bars[0].noChangeColor",n.bars[0].noChangeColor),{color:a}}}),t},calc:function(e,t){var r=t.calcParams,i=t.figures,n=[];return e.map(function(o,a){var s,l=(s=o.volume)!==null&&s!==void 0?s:0,u={volume:l};return r.forEach(function(c,f){var h,d;n[f]=((h=n[f])!==null&&h!==void 0?h:0)+l,a>=c-1&&(u[i[f].key]=n[f]/c,n[f]-=(d=e[a-(c-1)].volume)!==null&&d!==void 0?d:0)}),u})}},uf={name:"VR",shortName:"VR",calcParams:[26,6],figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:function(e,t){var r=t.calcParams,i=0,n=0,o=0,a=0,s=[];return e.forEach(function(l,u){var c,f,h,d,v,p={},g=l.close,m=((c=e[u-1])!==null&&c!==void 0?c:l).close,S=(f=l.volume)!==null&&f!==void 0?f:0;if(g>m?i+=S:g<m?n+=S:o+=S,u>=r[0]-1){var y=o/2;n+y===0?p.vr=0:p.vr=(i+y)/(n+y)*100,a+=p.vr,u>=r[0]+r[1]-2&&(p.maVr=a/r[1],a-=(h=s[u-(r[1]-1)].vr)!==null&&h!==void 0?h:0);var x=e[u-(r[0]-1)],C=(d=e[u-r[0]])!==null&&d!==void 0?d:x,E=x.close,w=(v=x.volume)!==null&&v!==void 0?v:0;E>C.close?i-=w:E<C.close?n-=w:o-=w}s.push(p)}),s}},cf={name:"WR",shortName:"WR",calcParams:[6,10,14],figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:function(e){return e.map(function(t,r){return{key:"wr".concat(r+1),title:"WR".concat(r+1,": "),type:"line"}})},calc:function(e,t){var r=t.calcParams,i=t.figures;return e.map(function(n,o){var a={},s=n.close;return r.forEach(function(l,u){var c=l-1;if(o>=c){var f=as(e.slice(o-c,o+1),"high","low"),h=f[0],d=f[1],v=h-d;a[i[u].key]=v===0?0:(s-h)/v*100}}),a})}},ss={},ff=[Lc,Bc,Nc,$c,Wc,zc,Yc,Hc,Xc,jc,Uc,Kc,Gc,Zc,qc,Jc,Qc,tf,ef,rf,nf,of,af,sf,lf,uf,cf];ff.forEach(function(e){ss[e.name]=Ec.extend(e)});function ls(e){var t;return(t=ss[e])!==null&&t!==void 0?t:null}var hf=(function(){function e(t){this._instances=new Map,this._chartStore=t}return e.prototype._overrideInstance=function(t,r){var i=r.shortName,n=r.series,o=r.calcParams,a=r.precision,s=r.figures,l=r.minValue,u=r.maxValue,c=r.shouldOhlc,f=r.shouldFormatBigNumber,h=r.visible,d=r.zLevel,v=r.styles,p=r.extendData,g=r.regenerateFigures,m=r.createTooltipDataSource,S=r.draw,y=r.calc,x=!1;ot(i)&&t.setShortName(i)&&(x=!0),W(n)&&t.setSeries(n)&&(x=!0);var C=!1;Ee(o)&&t.setCalcParams(o)&&(x=!0,C=!0),Ee(s)&&t.setFigures(s)&&(x=!0,C=!0),t.setMinValue(l??null)&&(x=!0),t.setMinValue(u??null)&&(x=!0),Q(a)&&t.setPrecision(a)&&(x=!0),nr(c)&&t.setShouldOhlc(c)&&(x=!0),nr(f)&&t.setShouldFormatBigNumber(f)&&(x=!0),nr(h)&&t.setVisible(h)&&(x=!0);var E=!1;return Q(d)&&t.setZLevel(d)&&(x=!0,E=!0),W(v)&&t.setStyles(v)&&(x=!0),t.setExtendData(p)&&(x=!0,C=!0),g!==void 0&&t.setRegenerateFigures(g)&&(x=!0),m!==void 0&&t.setCreateTooltipDataSource(m)&&(x=!0),S!==void 0&&t.setDraw(S)&&(x=!0),De(y)&&(t.calc=y,C=!0),[x,C,E]},e.prototype._sort=function(t){var r;ot(t)?(r=this._instances.get(t))===null||r===void 0||r.sort(function(i,n){return i.zLevel-n.zLevel}):this._instances.forEach(function(i){i.sort(function(n,o){return n.zLevel-o.zLevel})})},e.prototype.addInstance=function(t,r,i){return fi(this,void 0,void 0,function(){var n,o,a,s,l;return hi(this,function(u){switch(u.label){case 0:return n=t.name,o=this._instances.get(r),W(o)?(a=o.find(function(c){return c.name===n}),W(a)?[4,Promise.reject(new Error("Duplicate indicators."))]:[3,2]):[3,2];case 1:return[2,u.sent()];case 2:return W(o)||(o=[]),s=ls(n),l=new s,this._overrideInstance(l,t),i||(o=[]),o.push(l),this._instances.set(r,o),this._sort(r),[4,l.calcIndicator(this._chartStore.getDataList())];case 3:return[2,u.sent()]}})})},e.prototype.getInstances=function(t){var r;return(r=this._instances.get(t))!==null&&r!==void 0?r:[]},e.prototype.removeInstance=function(t,r){var i,n=!1,o=this._instances.get(t);if(W(o)){if(ot(r)){var a=o.findIndex(function(s){return s.name===r});a>-1&&(o.splice(a,1),n=!0)}else this._instances.set(t,[]),n=!0;((i=this._instances.get(t))===null||i===void 0?void 0:i.length)===0&&this._instances.delete(t)}return n},e.prototype.hasInstances=function(t){return this._instances.has(t)},e.prototype.calcInstance=function(t,r){return fi(this,void 0,void 0,function(){var i,n,o,a,s=this;return hi(this,function(l){switch(l.label){case 0:return i=[],ot(t)?ot(r)?(n=this._instances.get(r),W(n)&&(o=n.find(function(u){return u.name===t}),W(o)&&i.push(o.calcIndicator(this._chartStore.getDataList())))):this._instances.forEach(function(u){var c=u.find(function(f){return f.name===t});W(c)&&i.push(c.calcIndicator(s._chartStore.getDataList()))}):this._instances.forEach(function(u){u.forEach(function(c){i.push(c.calcIndicator(s._chartStore.getDataList()))})}),[4,Promise.all(i)];case 1:return a=l.sent(),[2,a.includes(!0)]}})})},e.prototype.getInstanceByPaneId=function(t,r){var i,n,o=function(l){var u=new Map;return l.forEach(function(c){u.set(c.name,c)}),u};if(ot(t)){var a=(i=this._instances.get(t))!==null&&i!==void 0?i:[];return ot(r)?(n=a?.find(function(l){return l.name===r}))!==null&&n!==void 0?n:null:o(a)}var s=new Map;return this._instances.forEach(function(l,u){s.set(u,o(l))}),s},e.prototype.setSeriesPrecision=function(t){this._instances.forEach(function(r){r.forEach(function(i){i.series===ae.Price&&i.setPrecision(t.price,!0),i.series===ae.Volume&&i.setPrecision(t.volume,!0)})})},e.prototype.override=function(t,r){return fi(this,void 0,void 0,function(){var i,n,o,a,s,l,u,c=this;return hi(this,function(f){switch(f.label){case 0:return i=t.name,n=new Map,r!==null?(o=this._instances.get(r),W(o)&&n.set(r,o)):n=this._instances,a=!1,s=[],l=!1,n.forEach(function(h){var d=h.find(function(p){return p.name===i});if(W(d)){var v=c._overrideInstance(d,t);v[2]&&(l=!0),v[1]?s.push(d.calcIndicator(c._chartStore.getDataList())):v[0]&&(a=!0)}}),l&&this._sort(),[4,Promise.all(s)];case 1:return u=f.sent(),[2,[a,u.includes(!0)]]}})})},e})(),df=(function(){function e(t){this._crosshair={},this._activeIcon=null,this._chartStore=t}return e.prototype.setCrosshair=function(t,r){var i=this._chartStore.getDataList(),n=t??{},o,a;Q(n.x)?(o=this._chartStore.getTimeScaleStore().coordinateToDataIndex(n.x),o<0?a=0:o>i.length-1?a=i.length-1:a=o):(o=i.length-1,a=o);var s=i[a],l=this._chartStore.getTimeScaleStore().dataIndexToCoordinate(o),u={x:this._crosshair.x,y:this._crosshair.y,paneId:this._crosshair.paneId};this._crosshair=Z(Z({},n),{realX:l,kLineData:s,realDataIndex:o,dataIndex:a}),(u.x!==n.x||u.y!==n.y||u.paneId!==n.paneId)&&(s!==null&&this._chartStore.getChart().crosshairChange(this._crosshair),(r??!1)||this._chartStore.getChart().updatePane(1))},e.prototype.recalculateCrosshair=function(t){this.setCrosshair(this._crosshair,t)},e.prototype.getCrosshair=function(){return this._crosshair},e.prototype.setActiveIcon=function(t){this._activeIcon=t??null},e.prototype.getActiveIcon=function(){return this._activeIcon},e.prototype.clear=function(){this.setCrosshair({},!0),this.setActiveIcon()},e})(),vf={name:"fibonacciLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding,i=e.overlay,n=e.precision,o=e.thousandsSeparator,a=i.points;if(t.length>0){var s=[],l=[],u=0,c=r.width;if(t.length>1&&Q(a[0].value)&&Q(a[1].value)){var f=[1,.786,.618,.5,.382,.236,0],h=t[0].y-t[1].y,d=a[0].value-a[1].value;f.forEach(function(v){var p,g=t[1].y+h*v,m=Wt((((p=a[1].value)!==null&&p!==void 0?p:0)+d*v).toFixed(n.price),o);s.push({coordinates:[{x:u,y:g},{x:c,y:g}]}),l.push({x:u,y:g,text:"".concat(m," (").concat((v*100).toFixed(1),"%)"),baseline:"bottom"})})}return[{type:"line",attrs:s},{type:"text",isCheckEvent:!1,attrs:l}]}return[]}},pf={name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding,i={x:0,y:t[0].y};return W(t[1])&&t[0].x<t[1].x&&(i.x=r.width),[{type:"line",attrs:{coordinates:[t[0],i]}}]},performEventPressedMove:function(e){var t=e.points,r=e.performPoint;t[0].value=r.value,t[1].value=r.value},performEventMoveForDrawing:function(e){var t=e.currentStep,r=e.points,i=e.performPoint;t===2&&(r[0].value=i.value)}},gf={name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=[];return t.length===2&&r.push({coordinates:t}),[{type:"line",attrs:r}]},performEventPressedMove:function(e){var t=e.points,r=e.performPoint;t[0].value=r.value,t[1].value=r.value},performEventMoveForDrawing:function(e){var t=e.currentStep,r=e.points,i=e.performPoint;t===2&&(r[0].value=i.value)}},mf={name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding;return[{type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:r.width,y:t[0].y}]}}]}},jn=(function(){function e(){this._children=[],this._callbacks=new Map}return e.prototype.registerEvent=function(t,r){return this._callbacks.set(t,r),this},e.prototype.onEvent=function(t,r,i){var n=this._callbacks.get(t);return W(n)&&this.checkEventOn(r)?n(r,i):!1},e.prototype.checkEventOn=function(t){var r,i;try{for(var n=ar(this._children),o=n.next();!o.done;o=n.next()){var a=o.value;if(a.checkEventOn(t))return!0}}catch(s){r={error:s}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}return!1},e.prototype.dispatchEvent=function(t,r,i){var n=this._children.length-1;if(n>-1){for(var o=n;o>-1;o--)if(this._children[o].dispatchEvent(t,r,i))return!0}return this.onEvent(t,r,i)},e.prototype.addChild=function(t){return this._children.push(t),this},e.prototype.clear=function(){this._children=[]},e})(),Bt=2,_f=(function(e){lt(t,e);function t(r){var i=e.call(this)||this;return i.attrs=r.attrs,i.styles=r.styles,i}return t.prototype.checkEventOn=function(r){return this.checkEventOnImp(r,this.attrs,this.styles)},t.prototype.draw=function(r){this.drawImp(r,this.attrs,this.styles)},t.extend=function(r){var i=(function(n){lt(o,n);function o(){return n!==null&&n.apply(this,arguments)||this}return o.prototype.checkEventOnImp=function(a,s,l){return r.checkEventOn(a,s,l)},o.prototype.drawImp=function(a,s,l){r.draw(a,s,l)},o})(t);return i},t})(jn);function $o(e,t){return Math.sqrt(Math.pow(e.x+t.x,2)+Math.pow(e.y+t.y,2))}function yf(e){var t=$o(e[0],e[1]),r=$o(e[1],e[2]),i=t+r,n=[e[2].x-e[0].x,e[2].y-e[0].y];return[{x:e[1].x-n[0]*.5*t/i,y:e[1].y-n[1]*.5*t/i},{x:e[1].x+n[0]*.5*t/i,y:e[1].y+n[1]*.5*t/i}]}function xf(e,t){var r=t.coordinates;if(r.length>1)for(var i=1;i<r.length;i++){var n=r[i-1],o=r[i];if(n.x===o.x){if(Math.abs(n.y-e.y)+Math.abs(o.y-e.y)-Math.abs(n.y-o.y)<Bt+Bt&&Math.abs(e.x-n.x)<Bt)return!0}else{var a=Un(n,o),s=us(a,e),l=Math.abs(s-e.y);if(Math.abs(n.x-e.x)+Math.abs(o.x-e.x)-Math.abs(n.x-o.x)<Bt+Bt&&l*l/(a[0]*a[0]+1)<Bt*Bt)return!0}}return!1}function us(e,t){return e!=null?t.x*e[0]+e[1]:t.y}function Ti(e,t,r){var i=Un(e,t);return us(i,r)}function Un(e,t){var r=e.x-t.x;if(r!==0){var i=(e.y-t.y)/r,n=e.y-i*e.x;return[i,n]}return null}function Sf(e,t,r){var i=t.coordinates,n=i.length;if(n>1){var o=r.style,a=o===void 0?xt.Solid:o,s=r.smooth,l=r.size,u=l===void 0?1:l,c=r.color,f=c===void 0?"currentColor":c,h=r.dashedValue,d=h===void 0?[2,2]:h;if(e.lineWidth=u,e.strokeStyle=f,a===xt.Dashed?e.setLineDash(d):e.setLineDash([]),e.beginPath(),e.moveTo(i[0].x,i[0].y),s??!1){for(var v=[],p=1;p<n-1;p++)v=v.concat(yf([i[p-1],i[p],i[p+1]]));e.quadraticCurveTo(v[0].x,v[0].y,i[1].x,i[1].y);for(var g=2;g<n-1;g++)e.bezierCurveTo(v[(g-2)*2+1].x,v[(g-2)*2+1].y,v[(g-1)*2].x,v[(g-1)*2].y,i[g].x,i[g].y);e.quadraticCurveTo(v[(g-2)*2+1].x,v[(g-2)*2+1].y,i[g].x,i[g].y)}else for(var g=1;g<i.length;g++)e.lineTo(i[g].x,i[g].y);e.stroke(),e.closePath()}}var bf={name:"line",checkEventOn:xf,draw:function(e,t,r){Sf(e,t,r)}};function cs(e,t,r){var i=r??0,n=[];if(e.length>1)if(e[0].x===e[1].x){var o=0,a=t.height;if(n.push({coordinates:[{x:e[0].x,y:o},{x:e[0].x,y:a}]}),e.length>2){n.push({coordinates:[{x:e[2].x,y:o},{x:e[2].x,y:a}]});for(var s=e[0].x-e[2].x,l=0;l<i;l++){var u=s*(l+1);n.push({coordinates:[{x:e[0].x+u,y:o},{x:e[0].x+u,y:a}]})}}}else{var c=0,f=t.width,h=Un(e[0],e[1]),d=h[0],v=h[1];if(n.push({coordinates:[{x:c,y:c*d+v},{x:f,y:f*d+v}]}),e.length>2){var p=e[2].y-d*e[2].x;n.push({coordinates:[{x:c,y:c*d+p},{x:f,y:f*d+p}]});for(var s=v-p,l=0;l<i;l++){var g=v+s*(l+1);n.push({coordinates:[{x:c,y:c*d+g},{x:f,y:f*d+g}]})}}}return n}var Cf={name:"parallelStraightLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding;return[{type:"line",attrs:cs(t,r)}]}},wf={name:"priceChannelLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding;return[{type:"line",attrs:cs(t,r,1)}]}},Ef={name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding,i=e.precision,n=e.overlay,o=e.thousandsSeparator,a=n.points[0].value,s=a===void 0?0:a;return[{type:"line",attrs:{coordinates:[t[0],{x:r.width,y:t[0].y}]}},{type:"text",ignoreEvent:!0,attrs:{x:t[0].x,y:t[0].y,text:Wt(s.toFixed(i.price),o),baseline:"bottom"}}]}};function If(e,t){if(e.length>1){var r=void 0;return e[0].x===e[1].x&&e[0].y!==e[1].y?e[0].y<e[1].y?r={x:e[0].x,y:t.height}:r={x:e[0].x,y:0}:e[0].x>e[1].x?r={x:0,y:Ti(e[0],e[1],{x:0,y:e[0].y})}:r={x:t.width,y:Ti(e[0],e[1],{x:t.width,y:e[0].y})},{coordinates:[e[0],r]}}return[]}var Mf={name:"rayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding;return[{type:"line",attrs:If(t,r)}]}},Tf={name:"segment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates;return t.length===2?[{type:"line",attrs:{coordinates:t}}]:[]}},Df={name:"straightLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding;return t.length===2?t[0].x===t[1].x?[{type:"line",attrs:{coordinates:[{x:t[0].x,y:0},{x:t[0].x,y:r.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:Ti(t[0],t[1],{x:0,y:t[0].y})},{x:r.width,y:Ti(t[0],t[1],{x:r.width,y:t[0].y})}]}}]:[]}},Pf={name:"verticalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding;if(t.length===2){var i={x:t[0].x,y:0};return t[0].y<t[1].y&&(i.y=r.height),[{type:"line",attrs:{coordinates:[t[0],i]}}]}return[]},performEventPressedMove:function(e){var t=e.points,r=e.performPoint;t[0].timestamp=r.timestamp,t[0].dataIndex=r.dataIndex,t[1].timestamp=r.timestamp,t[1].dataIndex=r.dataIndex},performEventMoveForDrawing:function(e){var t=e.currentStep,r=e.points,i=e.performPoint;t===2&&(r[0].timestamp=i.timestamp,r[0].dataIndex=i.dataIndex)}},Af={name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates;return t.length===2?[{type:"line",attrs:{coordinates:t}}]:[]},performEventPressedMove:function(e){var t=e.points,r=e.performPoint;t[0].timestamp=r.timestamp,t[0].dataIndex=r.dataIndex,t[1].timestamp=r.timestamp,t[1].dataIndex=r.dataIndex},performEventMoveForDrawing:function(e){var t=e.currentStep,r=e.points,i=e.performPoint;t===2&&(r[0].timestamp=i.timestamp,r[0].dataIndex=i.dataIndex)}},kf={name:"verticalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var t=e.coordinates,r=e.bounding;return[{type:"line",attrs:{coordinates:[{x:t[0].x,y:0},{x:t[0].x,y:r.height}]}}]}},Ff={name:"simpleAnnotation",totalStep:2,styles:{line:{style:xt.Dashed}},createPointFigures:function(e){var t,r=e.overlay,i=e.coordinates,n;W(r.extendData)&&(De(r.extendData)?n=r.extendData(r):n=(t=r.extendData)!==null&&t!==void 0?t:"");var o=i[0].x,a=i[0].y-6,s=a-50,l=s-5;return[{type:"line",attrs:{coordinates:[{x:o,y:a},{x:o,y:s}]},ignoreEvent:!0},{type:"polygon",attrs:{coordinates:[{x:o,y:s},{x:o-4,y:l},{x:o+4,y:l}]},ignoreEvent:!0},{type:"text",attrs:{x:o,y:l,text:n??"",align:"center",baseline:"bottom"},ignoreEvent:!0}]}},Of={name:"simpleTag",totalStep:2,styles:{line:{style:xt.Dashed}},createPointFigures:function(e){var t=e.bounding,r=e.coordinates;return{type:"line",attrs:{coordinates:[{x:0,y:r[0].y},{x:t.width,y:r[0].y}]},ignoreEvent:!0}},createYAxisFigures:function(e){var t,r,i=e.overlay,n=e.coordinates,o=e.bounding,a=e.yAxis,s=e.precision,l=(t=a?.isFromZero())!==null&&t!==void 0?t:!1,u,c;l?(u="left",c=0):(u="right",c=o.width);var f;return W(i.extendData)&&(De(i.extendData)?f=i.extendData(i):f=(r=i.extendData)!==null&&r!==void 0?r:""),!W(f)&&Q(i.points[0].value)&&(f=Ot(i.points[0].value,s.price)),{type:"text",attrs:{x:c,y:n[0].y,text:f??"",align:u,baseline:"middle"}}}},Kn={},Rf=[vf,pf,gf,mf,Cf,wf,Ef,Mf,Tf,Df,Pf,Af,kf,Ff,Of];Rf.forEach(function(e){Kn[e.name]=ns.extend(e)});function Lf(e){Kn[e.name]=ns.extend(e)}function Bf(e){var t;return(t=Kn[e])!==null&&t!==void 0?t:null}var Nf=30,Vf=100,yt={CANDLE:"candle_pane",INDICATOR:"indicator_pane_",X_AXIS:"x_axis_pane"},$f=(function(){function e(t){this._instances=new Map,this._progressInstanceInfo=null,this._pressedInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._hoverInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._clickInstanceInfo={paneId:"",instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._chartStore=t}return e.prototype._overrideInstance=function(t,r){var i=r.id,n=r.groupId,o=r.points,a=r.styles,s=r.lock,l=r.visible,u=r.zLevel,c=r.mode,f=r.modeSensitivity,h=r.extendData,d=r.onDrawStart,v=r.onDrawing,p=r.onDrawEnd,g=r.onClick,m=r.onDoubleClick,S=r.onRightClick,y=r.onPressedMoveStart,x=r.onPressedMoving,C=r.onPressedMoveEnd,E=r.onMouseEnter,w=r.onMouseLeave,I=r.onRemoved,O=r.onSelected,A=r.onDeselected,M=!1,z=!1;return ot(i)&&t.setId(i),ot(n)&&t.setGroupId(n),Ee(o)&&t.setPoints(o)&&(M=!0),W(a)&&t.setStyles(a)&&(M=!0),nr(s)&&t.setLock(s),nr(l)&&t.setVisible(l)&&(M=!0),Q(u)&&t.setZLevel(u)&&(M=!0,z=!0),W(c)&&t.setMode(c),Q(f)&&t.setModeSensitivity(f),t.setExtendData(h)&&(M=!0),d!==void 0&&t.setOnDrawStartCallback(d),v!==void 0&&t.setOnDrawingCallback(v),p!==void 0&&t.setOnDrawEndCallback(p),g!==void 0&&t.setOnClickCallback(g),m!==void 0&&t.setOnDoubleClickCallback(m),S!==void 0&&t.setOnRightClickCallback(S),y!==void 0&&t.setOnPressedMoveStartCallback(y),x!==void 0&&t.setOnPressedMovingCallback(x),C!==void 0&&t.setOnPressedMoveEndCallback(C),E!==void 0&&t.setOnMouseEnterCallback(E),w!==void 0&&t.setOnMouseLeaveCallback(w),I!==void 0&&t.setOnRemovedCallback(I),O!==void 0&&t.setOnSelectedCallback(O),A!==void 0&&t.setOnDeselectedCallback(A),[M,z]},e.prototype.getInstanceById=function(t){var r,i;try{for(var n=ar(this._instances),o=n.next();!o.done;o=n.next()){var a=o.value,s=a[1],l=s.find(function(u){return u.id===t});if(W(l))return l}}catch(u){r={error:u}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}return this._progressInstanceInfo!==null&&this._progressInstanceInfo.instance.id===t?this._progressInstanceInfo.instance:null},e.prototype._sort=function(t){var r;ot(t)?(r=this._instances.get(t))===null||r===void 0||r.sort(function(i,n){return i.zLevel-n.zLevel}):this._instances.forEach(function(i){i.sort(function(n,o){return n.zLevel-o.zLevel})})},e.prototype.addInstances=function(t,r,i){var n=this,o=t.map(function(a){var s,l,u,c,f=(s=a.id)!==null&&s!==void 0?s:os(Mc);if(n.getInstanceById(f)===null){var h=Bf(a.name);if(h!==null){var d=new h;d.setPaneId(r);var v=(l=a.groupId)!==null&&l!==void 0?l:f;return a.id=f,a.groupId=v,n._overrideInstance(d,a),d.isDrawing()?n._progressInstanceInfo={paneId:r,instance:d,appointPaneFlag:i}:(n._instances.has(r)||n._instances.set(r,[]),(u=n._instances.get(r))===null||u===void 0||u.push(d)),d.isStart()&&((c=d.onDrawStart)===null||c===void 0||c.call(d,{overlay:d})),f}}return null});return o.some(function(a){return a!==null})&&(this._sort(),this._chartStore.getChart().updatePane(1,r)),o},e.prototype.getProgressInstanceInfo=function(){return this._progressInstanceInfo},e.prototype.progressInstanceComplete=function(){var t;if(this._progressInstanceInfo!==null){var r=this._progressInstanceInfo,i=r.instance,n=r.paneId;i.isDrawing()||(this._instances.has(n)||this._instances.set(n,[]),(t=this._instances.get(n))===null||t===void 0||t.push(i),this._sort(n),this._progressInstanceInfo=null)}},e.prototype.updateProgressInstanceInfo=function(t,r){this._progressInstanceInfo!==null&&(nr(r)&&r&&(this._progressInstanceInfo.appointPaneFlag=r),this._progressInstanceInfo.paneId=t,this._progressInstanceInfo.instance.setPaneId(t))},e.prototype.getInstances=function(t){var r;if(!ot(t)){var i=[];return this._instances.forEach(function(n){i=i.concat(n)}),i}return(r=this._instances.get(t))!==null&&r!==void 0?r:[]},e.prototype.override=function(t){var r=this,i=t.id,n=t.groupId,o=t.name,a=!1,s=!1,l=function(d){var v=r._overrideInstance(d,t);v[0]&&(a=!0),v[1]&&(s=!0)};if(ot(i)){var u=this.getInstanceById(i);u!==null&&l(u)}else{var c=ot(o),f=ot(n);if(this._instances.forEach(function(d){d.forEach(function(v){(c&&v.name===o||f&&v.groupId===n||!c&&!f)&&l(v)})}),this._progressInstanceInfo!==null){var h=this._progressInstanceInfo.instance;(c&&h.name===o||f&&h.groupId===n||!c&&!f)&&l(h)}}s&&this._sort(),a&&this._chartStore.getChart().updatePane(1)},e.prototype.removeInstance=function(t){var r,i,n,o=function(p,g){if(ot(p.id)){if(g.id!==p.id)return!1}else if(ot(p.groupId)){if(g.groupId!==p.groupId)return!1}else if(ot(p.name)&&g.name!==p.name)return!1;return!0},a=[],s=W(t);if(this._progressInstanceInfo!==null){var l=this._progressInstanceInfo.instance;(!s||s&&o(t,l))&&(a.push(this._progressInstanceInfo.paneId),(n=l.onRemoved)===null||n===void 0||n.call(l,{overlay:l}),this._progressInstanceInfo=null)}if(s){var u=new Map,c=function(p){var g=p[1],m=g.filter(function(S){var y;return o(t,S)?(a.includes(p[0])||a.push(p[0]),(y=S.onRemoved)===null||y===void 0||y.call(S,{overlay:S}),!1):!0});m.length>0&&u.set(p[0],m)};try{for(var f=ar(this._instances),h=f.next();!h.done;h=f.next()){var d=h.value;c(d)}}catch(p){r={error:p}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}this._instances=u}else this._instances.forEach(function(p,g){a.push(g),p.forEach(function(m){var S;(S=m.onRemoved)===null||S===void 0||S.call(m,{overlay:m})})}),this._instances.clear();if(a.length>0){var v=this._chartStore.getChart();a.forEach(function(p){v.updatePane(1,p)}),v.updatePane(1,yt.X_AXIS)}},e.prototype.setPressedInstanceInfo=function(t){this._pressedInstanceInfo=t},e.prototype.getPressedInstanceInfo=function(){return this._pressedInstanceInfo},e.prototype.setHoverInstanceInfo=function(t,r){var i,n,o=this._hoverInstanceInfo,a=o.instance,s=o.figureType,l=o.figureKey,u=o.figureIndex;if((a?.id!==((i=t.instance)===null||i===void 0?void 0:i.id)||s!==t.figureType||u!==t.figureIndex)&&(this._hoverInstanceInfo=t,a?.id!==((n=t.instance)===null||n===void 0?void 0:n.id))){var c=!1,f=!1;a!==null&&(f=!0,De(a.onMouseLeave)&&(a.onMouseLeave(Z({overlay:a,figureKey:l,figureIndex:u},r)),c=!0)),t.instance!==null&&(f=!0,t.instance.setZLevel(Tc),De(t.instance.onMouseEnter)&&(t.instance.onMouseEnter(Z({overlay:t.instance,figureKey:t.figureKey,figureIndex:t.figureIndex},r)),c=!0)),f&&this._sort(),c||this._chartStore.getChart().updatePane(1)}},e.prototype.getHoverInstanceInfo=function(){return this._hoverInstanceInfo},e.prototype.setClickInstanceInfo=function(t,r){var i,n,o,a,s,l,u,c,f,h=this._clickInstanceInfo,d=h.paneId,v=h.instance,p=h.figureType,g=h.figureKey,m=h.figureIndex;if((n=(i=t.instance)===null||i===void 0?void 0:i.isDrawing())!==null&&n!==void 0&&n||(a=(o=t.instance)===null||o===void 0?void 0:o.onClick)===null||a===void 0||a.call(o,Z({overlay:t.instance,figureKey:t.figureKey,figureIndex:t.figureIndex},r)),(v?.id!==((s=t.instance)===null||s===void 0?void 0:s.id)||p!==t.figureType||m!==t.figureIndex)&&(this._clickInstanceInfo=t,v?.id!==((l=t.instance)===null||l===void 0?void 0:l.id))){(u=v?.onDeselected)===null||u===void 0||u.call(v,Z({overlay:v,figureKey:g,figureIndex:m},r)),(f=(c=t.instance)===null||c===void 0?void 0:c.onSelected)===null||f===void 0||f.call(c,Z({overlay:t.instance,figureKey:t.figureKey,figureIndex:t.figureIndex},r));var S=this._chartStore.getChart();S.updatePane(1,t.paneId),d!==t.paneId&&S.updatePane(1,d),S.updatePane(1,yt.X_AXIS)}},e.prototype.getClickInstanceInfo=function(){return this._clickInstanceInfo},e.prototype.isEmpty=function(){return this._instances.size===0&&this._progressInstanceInfo===null},e.prototype.isDrawing=function(){var t,r;return this._progressInstanceInfo!==null&&((r=(t=this._progressInstanceInfo)===null||t===void 0?void 0:t.instance.isDrawing())!==null&&r!==void 0?r:!1)},e})(),Wf=(function(){function e(){this._actions=new Map}return e.prototype.execute=function(t,r){var i;(i=this._actions.get(t))===null||i===void 0||i.execute(r)},e.prototype.subscribe=function(t,r){var i;this._actions.has(t)||this._actions.set(t,new wc),(i=this._actions.get(t))===null||i===void 0||i.subscribe(r)},e.prototype.unsubscribe=function(t,r){var i=this._actions.get(t);W(i)&&(i.unsubscribe(r),i.isEmpty()&&this._actions.delete(t))},e.prototype.has=function(t){var r=this._actions.get(t);return W(r)&&!r.isEmpty()},e})(),zf={grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},text:{color:"#76808F"}}},indicator:{tooltip:{text:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},Yf={grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},text:{color:"#929AA5"}}},indicator:{tooltip:{text:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}},Hf={light:zf,dark:Yf};function fs(e){var t;return(t=Hf[e])!==null&&t!==void 0?t:null}var Xf=(function(){function e(t,r){this._styles=yc(),this._customApi=Dc(),this._locale=Pc,this._precision={price:2,volume:0},this._thousandsSeparator=",",this._dataList=[],this._timeScaleStore=new Rc(this),this._indicatorStore=new hf(this),this._overlayStore=new $f(this),this._tooltipStore=new df(this),this._actionStore=new Wf,this._visibleDataList=[],this._chart=t,this.setOptions(r)}return e.prototype.adjustVisibleDataList=function(){this._visibleDataList=[];for(var t=this._timeScaleStore.getVisibleRange(),r=t.from,i=t.to,n=r;n<i;n++){var o=this._dataList[n],a=this._timeScaleStore.dataIndexToCoordinate(n);this._visibleDataList.push({dataIndex:n,x:a,data:o})}},e.prototype.setOptions=function(t){if(W(t)){var r=t.locale,i=t.timezone,n=t.styles,o=t.customApi,a=t.thousandsSeparator;ot(r)&&(this._locale=r),ot(i)&&this._timeScaleStore.setTimezone(i),W(n)&&(ot(n)?ve(this._styles,fs(n)):ve(this._styles,n)),W(o)&&ve(this._customApi,o),ot(a)&&(this._thousandsSeparator=a)}return this},e.prototype.getStyles=function(){return this._styles},e.prototype.getLocale=function(){return this._locale},e.prototype.getCustomApi=function(){return this._customApi},e.prototype.getThousandsSeparator=function(){return this._thousandsSeparator},e.prototype.getPrecision=function(){return this._precision},e.prototype.setPrecision=function(t){return this._precision=t,this._indicatorStore.setSeriesPrecision(t),this},e.prototype.getDataList=function(){return this._dataList},e.prototype.getVisibleDataList=function(){return this._visibleDataList},e.prototype.addData=function(t,r,i){if(Ee(t)){this._timeScaleStore.setLoading(!1),this._timeScaleStore.setMore(i??!0);var n=this._dataList.length===0;this._dataList=t.concat(this._dataList),n&&this._timeScaleStore.resetOffsetRightDistance(),this._timeScaleStore.adjustVisibleRange()}else{var o=this._dataList.length;if(r>=o){this._dataList.push(t);var a=this._timeScaleStore.getLastBarRightSideDiffBarCount();a<0&&this._timeScaleStore.setLastBarRightSideDiffBarCount(--a),this._timeScaleStore.adjustVisibleRange()}else this._dataList[r]=t,this.adjustVisibleDataList()}this._tooltipStore.recalculateCrosshair(!0)},e.prototype.clear=function(){this._dataList=[],this._visibleDataList=[],this._timeScaleStore.clear(),this._tooltipStore.clear()},e.prototype.getTimeScaleStore=function(){return this._timeScaleStore},e.prototype.getIndicatorStore=function(){return this._indicatorStore},e.prototype.getOverlayStore=function(){return this._overlayStore},e.prototype.getTooltipStore=function(){return this._tooltipStore},e.prototype.getActionStore=function(){return this._actionStore},e.prototype.getChart=function(){return this._chart},e})(),st={MAIN:"main",X_AXIS:"xAxis",Y_AXIS:"yAxis",SEPARATOR:"separator"},$r=7;function hs(e){var t={width:0,height:0,left:0,right:0,top:0,bottom:0};return W(e)&&ve(t,e),t}var ds=(function(e){lt(t,e);function t(r,i){var n=e.call(this)||this;return n._bounding=hs(),n._pane=i,n.init(r),n}return t.prototype.init=function(r){this._rootContainer=r,this._container=this.createContainer(),r.appendChild(this._container)},t.prototype.setBounding=function(r){return ve(this._bounding,r),this},t.prototype.getContainer=function(){return this._container},t.prototype.getBounding=function(){return this._bounding},t.prototype.getPane=function(){return this._pane},t.prototype.update=function(r){this.updateImp(this._container,this._bounding,r??3)},t.prototype.destroy=function(){this._rootContainer.removeChild(this._container)},t})(jn);function En(e){return window.requestAnimationFrame==null?window.setTimeout(e,20):window.requestAnimationFrame(e)}function Di(e){window.cancelAnimationFrame==null&&window.clearTimeout(e),window.cancelAnimationFrame(e)}var fr=-1,Gn=(function(e){lt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._mainRequestAnimationId=fr,r._overlayRequestAnimationId=fr,r}return t.prototype.init=function(r){e.prototype.init.call(this,r),this._mainCanvas=Me("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"}),this._mainCtx=this._mainCanvas.getContext("2d"),this._overlayCanvas=Me("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"}),this._overlayCtx=this._overlayCanvas.getContext("2d");var i=this.getContainer();i.appendChild(this._mainCanvas),i.appendChild(this._overlayCanvas)},t.prototype.createContainer=function(){return Me("div",{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box",zIndex:"1"})},t.prototype._clearCanvas=function(r,i,n,o){if(o.clearRect(0,0,n.offsetWidth,n.offsetHeight),r!==n.offsetWidth||i!==n.offsetHeight){var a=or(n),s=Math.round(r*a),l=Math.round(i*a);n.style.width="".concat(r,"px"),n.style.height="".concat(i,"px"),n.width=s,n.height=l,o.scale(a,a)}},t.prototype._optimalUpdateMain=function(r,i){var n=this;this._mainRequestAnimationId!==fr&&(Di(this._mainRequestAnimationId),this._mainRequestAnimationId=fr),this._mainRequestAnimationId=En(function(){n._clearCanvas(r,i,n._mainCanvas,n._mainCtx),n.updateMain(n._mainCtx)})},t.prototype._optimalUpdateOverlay=function(r,i){var n=this;this._overlayRequestAnimationId!==fr&&(Di(this._overlayRequestAnimationId),this._overlayRequestAnimationId=fr),this._overlayRequestAnimationId=En(function(){if(r!==n._overlayCanvas.offsetWidth||i!==n._overlayCanvas.offsetHeight){n._overlayCtx.clearRect(0,0,n._overlayCanvas.offsetWidth,n._overlayCanvas.offsetHeight);var o=or(n._overlayCanvas),a=Math.floor(r*o),s=Math.floor(i*o);n._overlayCanvas.style.width="".concat(r,"px"),n._overlayCanvas.style.height="".concat(i,"px"),n._overlayCanvas.width=a,n._overlayCanvas.height=s,n._overlayCtx.scale(o,o)}else n._overlayCtx.clearRect(0,0,n._overlayCanvas.offsetWidth,n._overlayCanvas.offsetHeight);n.updateOverlay(n._overlayCtx)})},t.prototype.updateImp=function(r,i,n){var o=i.width,a=i.height,s=i.left;r.style.left="".concat(s,"px");var l=n;switch((o!==r.offsetWidth||a!==r.offsetHeight)&&(r.style.width="".concat(o,"px"),r.style.height="".concat(a,"px"),l=3),l){case 0:{this._optimalUpdateMain(o,a);break}case 1:{this._optimalUpdateOverlay(o,a);break}case 3:case 4:{this._optimalUpdateMain(o,a),this._optimalUpdateOverlay(o,a);break}}},t.prototype.getImage=function(r){var i=this.getBounding(),n=i.width,o=i.height,a=Me("canvas",{width:"".concat(n,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),s=a.getContext("2d"),l=or(a);return a.width=n*l,a.height=o*l,s.scale(l,l),s.drawImage(this._mainCanvas,0,0,n,o),r&&s.drawImage(this._overlayCanvas,0,0,n,o),a},t})(ds);function jf(e){return/^[rR][gG][Bb][Aa][\\(]([\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\s]*,){3}[\s]*(1|1.0|0|0.[0-9])[\s]*[\\)]{1}$/.test(e)}function Uf(e){return/^[hH][Ss][Ll][Aa][\\(]([\s]*(2[0-9][0-9]|3603[0-5][0-9]|[01]?[0-9][0-9]?)[\s]*,)([\s]*((100|[0-9][0-9]?)%|0)[\s]*,){2}([\s]*(1|1.0|0|0.[0-9])[\s]*)[\\)]$/.test(e)}function Sr(e){var t,r;return e==="transparent"||e==="none"||jf(e)&&parseFloat(((t=e.match(/(\d(\.\d+)?)+/g))!==null&&t!==void 0?t:[])[3])===0||Uf(e)&&parseFloat(((r=e.match(/(\d(\.\d+)?)+/g))!==null&&r!==void 0?r:[])[3])===0}function Kf(e,t){var r=e.x-t.x,i=e.y-t.y,n=t.r;return!(r*r+i*i>n*n)}function Gf(e,t,r){var i=t.x,n=t.y,o=t.r,a=r.style,s=a===void 0?dt.Fill:a,l=r.color,u=l===void 0?"currentColor":l,c=r.borderSize,f=c===void 0?1:c,h=r.borderColor,d=h===void 0?"currentColor":h,v=r.borderStyle,p=v===void 0?xt.Solid:v,g=r.borderDashedValue,m=g===void 0?[2,2]:g;(s===dt.Fill||r.style===dt.StrokeFill)&&(!ot(u)||!Sr(u))&&(e.fillStyle=u,e.beginPath(),e.arc(i,n,o,0,Math.PI*2),e.closePath(),e.fill()),(s===dt.Stroke||r.style===dt.StrokeFill)&&f>0&&!Sr(d)&&(e.strokeStyle=d,e.lineWidth=f,p===xt.Dashed?e.setLineDash(m):e.setLineDash([]),e.beginPath(),e.arc(i,n,o,0,Math.PI*2),e.closePath(),e.stroke())}var Zf={name:"circle",checkEventOn:Kf,draw:function(e,t,r){Gf(e,t,r)}};function qf(e,t){for(var r=!1,i=t.coordinates,n=0,o=i.length-1;n<i.length;o=n++)i[n].y>e.y!=i[o].y>e.y&&e.x<(i[o].x-i[n].x)*(e.y-i[n].y)/(i[o].y-i[n].y)+i[n].x&&(r=!r);return r}function Jf(e,t,r){var i=t.coordinates,n=r.style,o=n===void 0?dt.Fill:n,a=r.color,s=a===void 0?"currentColor":a,l=r.borderSize,u=l===void 0?1:l,c=r.borderColor,f=c===void 0?"currentColor":c,h=r.borderStyle,d=h===void 0?xt.Solid:h,v=r.borderDashedValue,p=v===void 0?[2,2]:v;if((o===dt.Fill||r.style===dt.StrokeFill)&&(!ot(s)||!Sr(s))){e.fillStyle=s,e.beginPath(),e.moveTo(i[0].x,i[0].y);for(var g=1;g<i.length;g++)e.lineTo(i[g].x,i[g].y);e.closePath(),e.fill()}if((o===dt.Stroke||r.style===dt.StrokeFill)&&u>0&&!Sr(f)){e.strokeStyle=f,e.lineWidth=u,d===xt.Dashed?e.setLineDash(p):e.setLineDash([]),e.beginPath(),e.moveTo(i[0].x,i[0].y);for(var g=1;g<i.length;g++)e.lineTo(i[g].x,i[g].y);e.closePath(),e.stroke()}}var Qf={name:"polygon",checkEventOn:qf,draw:function(e,t,r){Jf(e,t,r)}};function th(e,t){var r=t.x,i=t.width;i<Bt*2&&(r-=Bt,i=Bt*2);var n=t.y,o=t.height;return o<Bt*2&&(n-=Bt,o=Bt*2),e.x>=r&&e.x<=r+i&&e.y>=n&&e.y<=n+o}function vs(e,t,r){var i=t.x,n=t.y,o=t.width,a=t.height,s=r.style,l=s===void 0?dt.Fill:s,u=r.color,c=u===void 0?"transparent":u,f=r.borderSize,h=f===void 0?1:f,d=r.borderColor,v=d===void 0?"transparent":d,p=r.borderStyle,g=p===void 0?xt.Solid:p,m=r.borderRadius,S=m===void 0?0:m,y=r.borderDashedValue,x=y===void 0?[2,2]:y;(l===dt.Fill||r.style===dt.StrokeFill)&&(!ot(c)||!Sr(c))&&(e.fillStyle=c,e.beginPath(),e.moveTo(i+S,n),e.arcTo(i+o,n,i+o,n+a,S),e.arcTo(i+o,n+a,i,n+a,S),e.arcTo(i,n+a,i,n,S),e.arcTo(i,n,i+o,n,S),e.closePath(),e.fill()),(l===dt.Stroke||r.style===dt.StrokeFill)&&h>0&&!Sr(v)&&(e.strokeStyle=v,e.lineWidth=h,g===xt.Dashed?e.setLineDash(x):e.setLineDash([]),e.beginPath(),e.moveTo(i+S,n),e.arcTo(i+o,n,i+o,n+a,S),e.arcTo(i+o,n+a,i,n+a,S),e.arcTo(i,n+a,i,n,S),e.arcTo(i,n,i+o,n,S),e.closePath(),e.stroke())}var eh={name:"rect",checkEventOn:th,draw:function(e,t,r){vs(e,t,r)}};function ps(e,t){var r=t.size,i=r===void 0?12:r,n=t.paddingLeft,o=n===void 0?0:n,a=t.paddingTop,s=a===void 0?0:a,l=t.paddingRight,u=l===void 0?0:l,c=t.paddingBottom,f=c===void 0?0:c,h=t.weight,d=h===void 0?"normal":h,v=t.family,p=e.x,g=e.y,m=e.text,S=e.align,y=S===void 0?"left":S,x=e.baseline,C=x===void 0?"top":x,E=e.width,w=e.height,I=E??o+Mi(m,i,d,v)+u,O=w??s+i+f,A;switch(y){case"left":case"start":{A=p;break}case"right":case"end":{A=p-I;break}default:{A=p-I/2;break}}var M;switch(C){case"top":case"hanging":{M=g;break}case"bottom":case"ideographic":case"alphabetic":{M=g-O;break}default:{M=g-O/2;break}}return{x:A,y:M,width:I,height:O}}function rh(e,t,r){var i=ps(t,r),n=i.x,o=i.y,a=i.width,s=i.height;return e.x>=n&&e.x<=n+a&&e.y>=o&&e.y<=o+s}function ih(e,t,r){var i=t.text,n=r.color,o=n===void 0?"currentColor":n,a=r.size,s=a===void 0?12:a,l=r.family,u=r.weight,c=r.paddingLeft,f=c===void 0?0:c,h=r.paddingTop,d=h===void 0?0:h,v=r.paddingRight,p=v===void 0?0:v,g=ps(t,r);vs(e,g,Z(Z({},r),{color:r.backgroundColor})),e.textAlign="left",e.textBaseline="top",e.font=sr(s,u,l),e.fillStyle=o,e.fillText(i,g.x+f,g.y+d,g.width-f-p)}var gs={name:"text",checkEventOn:function(e,t,r){return rh(e,t,r)},draw:function(e,t,r){ih(e,t,r)}},nh=gs;function oh(e,t){var r=e.x-t.x,i=e.y-t.y;return Math.sqrt(r*r+i*i)}function ah(e,t){if(Math.abs(oh(e,t)-t.r)<Bt){var r=t.r,i=t.startAngle,n=t.endAngle,o=r*Math.cos(i)+t.x,a=r*Math.sin(i)+t.y,s=r*Math.cos(n)+t.x,l=r*Math.sin(n)+t.y;return e.x<=Math.max(o,s)+Bt&&e.x>=Math.min(o,s)-Bt&&e.y<=Math.max(a,l)+Bt&&e.y>=Math.min(a,l)-Bt}return!1}function sh(e,t,r){var i=t.x,n=t.y,o=t.r,a=t.startAngle,s=t.endAngle,l=r.style,u=l===void 0?xt.Solid:l,c=r.size,f=c===void 0?1:c,h=r.color,d=h===void 0?"currentColor":h,v=r.dashedValue,p=v===void 0?[2,2]:v;e.lineWidth=f,e.strokeStyle=d,u===xt.Dashed?e.setLineDash(p):e.setLineDash([]),e.beginPath(),e.arc(i,n,o,a,s),e.stroke(),e.closePath()}var lh={name:"arc",checkEventOn:ah,draw:function(e,t,r){sh(e,t,r)}},ms={},uh=[Zf,bf,Qf,eh,gs,nh,lh];uh.forEach(function(e){ms[e.name]=_f.extend(e)});function ch(e){var t;return(t=ms[e])!==null&&t!==void 0?t:null}var ke=(function(e){lt(t,e);function t(r){var i=e.call(this)||this;return i._widget=r,i}return t.prototype.getWidget=function(){return this._widget},t.prototype.createFigure=function(r,i,n,o){var a=ch(r);if(a!==null){var s=new a({name:r,attrs:i,styles:n});if(W(o)){for(var l in o)o.hasOwnProperty(l)&&s.registerEvent(l,o[l]);this.addChild(s)}return s}return null},t.prototype.draw=function(r){this.clear(),this.drawImp(r)},t})(jn),fh=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var i=this,n=this.getWidget(),o=this.getWidget().getPane(),a=o.getChart(),s=n.getBounding(),l=a.getStyles().grid,u=l.show;if(u){r.save(),r.globalCompositeOperation="destination-over";var c=l.horizontal,f=c.show;if(f){var h=o.getAxisComponent();h.getTicks().forEach(function(g){var m;(m=i.createFigure("line",{coordinates:[{x:0,y:g.coord},{x:s.width,y:g.coord}]},c))===null||m===void 0||m.draw(r)})}var d=l.vertical,v=d.show;if(v){var p=a.getXAxisPane().getAxisComponent();p.getTicks().forEach(function(g){var m;(m=i.createFigure("line",{coordinates:[{x:g.coord,y:0},{x:g.coord,y:s.height}]},d))===null||m===void 0||m.draw(r)})}r.restore()}},t})(ke);function hh(e,t){var r=0;return function(){var i=Date.now();i-r>t&&(e.apply(this,arguments),r=i)}}function Zn(e,t){if(!De(e)||W(t)&&!De(t))throw new TypeError("Expected a function");var r=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var o=De(t)?t.apply(this,i):i[0],a=r.cache;if(a.has(o))return a.get(o);var s=e.apply(this,i);return r.cache=a.set(o,s)||a,s};return r.cache=new(Zn.Cache||Map),r}Zn.Cache=Map;var qn=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.eachChildren=function(r){var i=this.getWidget().getPane(),n=i.getChart().getChartStore(),o=n.getVisibleDataList(),a=n.getTimeScaleStore().getBarSpace();o.forEach(function(s,l){r(s,a,l)})},t})(ke),_s=(function(e){lt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._boundCandleBarClickEvent=function(i){return function(){return r.getWidget().getPane().getChart().getChartStore().getActionStore().execute(_e.OnCandleBarClick,i),!1}},r._calcOhlcSize=Zn(function(i){return Math.min(Math.max(Math.round(i*.1),1),3)}),r}return t.prototype.drawImp=function(r){var i=this,n=this.getWidget().getPane(),o=n.getId()===yt.CANDLE,a=n.getChart().getChartStore(),s=this.getCandleBarOptions(a);if(s!==null){var l=n.getAxisComponent();this.eachChildren(function(u,c){i._drawCandleBar(r,l,u,c,s,o)})}},t.prototype.getCandleBarOptions=function(r){var i=r.getStyles().candle;return{type:i.type,styles:i.bar}},t.prototype._drawCandleBar=function(r,i,n,o,a,s){var l=this,u=n.data,c=n.x,f=u.open,h=u.high,d=u.low,v=u.close,p=o.halfGapBar,g=o.gapBar,m=a.type,S=a.styles,y,x,C;v>f?(y=S.upColor,x=S.upBorderColor,C=S.upWickColor):v<f?(y=S.downColor,x=S.downBorderColor,C=S.downWickColor):(y=S.noChangeColor,x=S.noChangeBorderColor,C=S.noChangeWickColor);var E=i.convertToPixel(f),w=i.convertToPixel(v),I=[E,w,i.convertToPixel(h),i.convertToPixel(d)];I.sort(function(z,X){return z-X});var O=Math.max(1,I[2]-I[1]),A=[];if(m!==we.Ohlc)A.push({name:"rect",attrs:{x:c-.5,y:I[0],width:1,height:I[1]-I[0]},styles:{color:C}}),m===we.CandleStroke||m===we.CandleUpStroke&&f<v||m===we.CandleDownStroke&&f>v?A.push({name:"rect",attrs:{x:c-p+.5,y:I[1],width:g-1,height:O},styles:{style:dt.Stroke,borderColor:x}}):A.push({name:"rect",attrs:{x:c-p+.5,y:I[1],width:g-1,height:O},styles:{style:dt.StrokeFill,color:y,borderColor:x}}),A.push({name:"rect",attrs:{x:c-.5,y:I[2],width:1,height:I[3]-I[2]},styles:{color:C}});else{var M=this._calcOhlcSize(o.gapBar);A=[{name:"rect",attrs:{x:c-M/2,y:I[0],width:M,height:I[3]-I[0]},styles:{color:y}},{name:"rect",attrs:{x:c-p,y:E+M>I[3]?I[3]-M:E,width:p-M/2,height:M},styles:{color:y}},{name:"rect",attrs:{x:c+M/2,y:w+M>I[3]?I[3]-M:w,width:p-M/2,height:M},styles:{color:y}}]}A.forEach(function(z){var X,L=z.attrs,R=z.styles,T;s&&(T={mouseClickEvent:l._boundCandleBarClickEvent(n)}),(X=l.createFigure("rect",L,R,T))===null||X===void 0||X.draw(r)})},t})(qn),dh=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCandleBarOptions=function(r){var i,n,o=this.getWidget().getPane(),a=o.getAxisComponent();if(!a.isInCandle()){var s=r.getIndicatorStore().getInstances(o.getId());try{for(var l=ar(s),u=l.next();!u.done;u=l.next()){var c=u.value;if(c.shouldOhlc&&c.visible){var f=c.styles,h=r.getStyles().indicator,d=kt(f,"ohlc.upColor",h.ohlc.upColor),v=kt(f,"ohlc.downColor",h.ohlc.downColor),p=kt(f,"ohlc.noChangeColor",h.ohlc.noChangeColor);return{type:we.Ohlc,styles:{upColor:d,downColor:v,noChangeColor:p,upBorderColor:d,downBorderColor:v,noChangeBorderColor:p,upWickColor:d,downWickColor:v,noChangeWickColor:p}}}}}catch(g){i={error:g}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}}return null},t.prototype.drawImp=function(r){var i=this;e.prototype.drawImp.call(this,r);var n=this.getWidget(),o=n.getPane(),a=o.getChart(),s=n.getBounding(),l=a.getXAxisPane().getAxisComponent(),u=o.getAxisComponent(),c=a.getChartStore(),f=c.getDataList(),h=c.getTimeScaleStore(),d=h.getVisibleRange(),v=c.getIndicatorStore().getInstances(o.getId()),p=c.getStyles().indicator;r.save(),v.forEach(function(g){var m;if(g.visible){g.zLevel<0?r.globalCompositeOperation="destination-over":r.globalCompositeOperation="source-over";var S=!1;if(g.draw!==null&&(r.save(),S=(m=g.draw({ctx:r,kLineDataList:f,indicator:g,visibleRange:d,bounding:s,barSpace:h.getBarSpace(),defaultStyles:p,xAxis:l,yAxis:u}))!==null&&m!==void 0?m:!1,r.restore()),!S){var y=g.result;i.eachChildren(function(x,C){var E,w,I,O=C.halfGapBar,A=C.gapBar,M=x.dataIndex,z=x.x,X=l.convertToPixel(M-1),L=l.convertToPixel(M+1),R=(E=y[M-1])!==null&&E!==void 0?E:{},T=(w=y[M])!==null&&w!==void 0?w:{},V=(I=y[M+1])!==null&&I!==void 0?I:{},P={x:X},U={x:z},G={x:L};g.figures.forEach(function(j){var q=j.key;P[q]=u.convertToPixel(R[q]),U[q]=u.convertToPixel(T[q]),G[q]=u.convertToPixel(V[q])}),Xn(f,g,M,p,function(j,q){var et,ct,ft;if(W(T[j.key])){var gt=U[j.key],vt=(et=j.attrs)===null||et===void 0?void 0:et.call(j,{coordinate:{prev:P,current:U,next:G},bounding:s,barSpace:C,xAxis:l,yAxis:u});if(!W(vt))switch(j.type){case"circle":{vt={x:z,y:gt,r:O};break}case"rect":case"bar":{var Et=(ct=j.baseValue)!==null&&ct!==void 0?ct:u.getExtremum().min,Dt=u.convertToPixel(Et),ht=Math.abs(Dt-gt);Et!==T[j.key]&&(ht=Math.max(1,ht));var St=void 0;gt>Dt?St=Dt:St=gt,vt={x:z-O,y:St,width:A,height:ht};break}case"line":{Q(U[j.key])&&Q(G[j.key])&&(vt={coordinates:[{x:U.x,y:U[j.key]},{x:G.x,y:G[j.key]}]});break}}if(W(vt)){var _=j.type;(ft=i.createFigure(_==="bar"?"rect":_,vt,q))===null||ft===void 0||ft.draw(r)}}})})}}}),r.restore()},t})(_s),vh=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var i=this.getWidget(),n=i.getPane(),o=i.getBounding(),a=i.getPane().getChart().getChartStore(),s=a.getTooltipStore().getCrosshair(),l=a.getStyles().crosshair;if(ot(s.paneId)&&l.show){if(s.paneId===n.getId()){var u=s.y;this._drawLine(r,[{x:0,y:u},{x:o.width,y:u}],l.horizontal)}var c=s.realX;this._drawLine(r,[{x:c,y:0},{x:c,y:o.height}],l.vertical)}},t.prototype._drawLine=function(r,i,n){var o;if(n.show){var a=n.line;a.show&&((o=this.createFigure("line",{coordinates:i},a))===null||o===void 0||o.draw(r))}},t})(ke),ys=(function(e){lt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._boundIconClickEvent=function(i,n){return function(){var o=r.getWidget().getPane();return o.getChart().getChartStore().getActionStore().execute(_e.OnTooltipIconClick,Z(Z({},i),{iconId:n})),!0}},r._boundIconMouseMoveEvent=function(i,n){return function(){var o=r.getWidget().getPane(),a=o.getChart().getChartStore().getTooltipStore();return a.setActiveIcon(Z(Z({},i),{iconId:n})),!0}},r}return t.prototype.drawImp=function(r){var i=this.getWidget(),n=i.getPane(),o=n.getChart().getChartStore(),a=o.getTooltipStore().getCrosshair();if(W(a.kLineData)){var s=i.getBounding(),l=o.getCustomApi(),u=o.getThousandsSeparator(),c=o.getIndicatorStore().getInstances(n.getId()),f=o.getTooltipStore().getActiveIcon(),h=o.getStyles().indicator;this.drawIndicatorTooltip(r,n.getId(),o.getDataList(),a,f,c,l,u,s,h)}},t.prototype.drawIndicatorTooltip=function(r,i,n,o,a,s,l,u,c,f,h){var d=this,v=f.tooltip,p=0;if(this.isDrawTooltip(o,v)){var g=v.text,m=0,S=h??0,y=0;s.forEach(function(x){var C=d.getIndicatorTooltipData(n,o,x,l,u,f),E=C.name,w=C.calcParamsText,I=C.values,O=C.icons,A=E.length>0,M=I.length>0;if(A||M){var z=Ht(d.classifyTooltipIcons(O),3),X=z[0],L=z[1],R=z[2],T=Ht(d.drawStandardTooltipIcons(r,c,{paneId:i,indicatorName:x.name,iconId:""},a,X,m,S,y),4),V=T[0],P=T[1],U=T[2],G=T[3];if(m=V,S=P,p+=G,y=U,A){var j=E;w.length>0&&(j="".concat(j).concat(w));var q=Ht(d.drawStandardTooltipLabels(r,c,[{title:{text:"",color:g.color},value:{text:j,color:g.color}}],m,S,y,g),4),et=q[0],ct=q[1],ft=q[2],gt=q[3];m=et,S=ct,p+=gt,y=ft}var vt=Ht(d.drawStandardTooltipIcons(r,c,{paneId:i,indicatorName:x.name,iconId:""},a,L,m,S,y),4),Et=vt[0],Dt=vt[1],ht=vt[2],St=vt[3];if(m=Et,S=Dt,p+=St,y=ht,M){var _=Ht(d.drawStandardTooltipLabels(r,c,I,m,S,y,g),4),b=_[0],D=_[1],B=_[2],F=_[3];m=b,S=D,p+=F,y=B}var k=Ht(d.drawStandardTooltipIcons(r,c,{paneId:i,indicatorName:x.name,iconId:""},a,R,m,S,y),4),Y=k[1],H=k[2],$=k[3];m=0,p+=$,S=Y+H,y=0}})}return p},t.prototype.drawStandardTooltipIcons=function(r,i,n,o,a,s,l,u){var c=this,f=s,h=l,d=0,v=0,p=0;return a.length>0&&(a.forEach(function(g){var m=g.marginLeft,S=g.marginTop,y=g.marginRight,x=g.marginBottom,C=g.paddingLeft,E=g.paddingTop,w=g.paddingRight,I=g.paddingBottom,O=g.size,A=g.fontFamily,M=g.icon;r.font=sr(O,"normal",A),d+=m+C+r.measureText(M).width+w+y,v=Math.max(v,S+E+O+I+x)}),f+d>i.width?(f=a[0].marginLeft,h+=u,p=v):p=Math.max(0,v-u),a.forEach(function(g){var m,S=g.marginLeft,y=g.marginTop,x=g.marginRight,C=g.paddingLeft,E=g.paddingTop,w=g.paddingRight,I=g.paddingBottom,O=g.color,A=g.activeColor,M=g.size,z=g.fontFamily,X=g.icon,L=g.backgroundColor,R=g.activeBackgroundColor;f+=S;var T=o?.paneId===n.paneId&&o?.indicatorName===n.indicatorName&&o?.iconId===g.id;(m=c.createFigure("text",{text:X,x:f,y:h+y},{paddingLeft:C,paddingTop:E,paddingRight:w,paddingBottom:I,color:T?A:O,size:M,family:z,backgroundColor:T?R:L},{mouseClickEvent:c._boundIconClickEvent(n,g.id),mouseMoveEvent:c._boundIconMouseMoveEvent(n,g.id)}))===null||m===void 0||m.draw(r),f+=C+r.measureText(X).width+w+x})),[f,h,Math.max(u,v),p]},t.prototype.drawStandardTooltipLabels=function(r,i,n,o,a,s,l){var u=this,c=o,f=a,h=0,d=0,v=s;if(n.length>0){var p=l.marginLeft,g=l.marginTop,m=l.marginRight,S=l.marginBottom,y=l.size,x=l.family,C=l.weight;r.font=sr(y,C,x),n.forEach(function(E){var w,I,O=E.title,A=E.value,M=r.measureText(O.text).width,z=r.measureText(A.text).width,X=M+z,L=y+g+S;c+p+X+m>i.width?(c=p,f+=L,d+=L):(c+=p,d+=Math.max(0,L-v)),h=Math.max(v,L),v=h,O.text.length>0&&((w=u.createFigure("text",{x:c,y:f+g,text:O.text},{color:O.color,size:y,family:x,weight:C}))===null||w===void 0||w.draw(r),c+=M),(I=u.createFigure("text",{x:c,y:f+g,text:A.text},{color:A.color,size:y,family:x,weight:C}))===null||I===void 0||I.draw(r),c+=z+m})}return[c,f,h,d]},t.prototype.isDrawTooltip=function(r,i){var n=i.showRule;return n===xr.Always||n===xr.FollowCross&&ot(r.paneId)},t.prototype.getIndicatorTooltipData=function(r,i,n,o,a,s){var l,u,c=s.tooltip,f=c.showName?n.shortName:"",h="",d=n.calcParams;d.length>0&&c.showParams&&(h="(".concat(d.join(","),")"));var v={name:f,calcParamsText:h,values:[],icons:c.icons},p=i.dataIndex,g=(l=n.result)!==null&&l!==void 0?l:[],m=[];if(n.visible){var S=(u=g[p])!==null&&u!==void 0?u:{};Xn(r,n,p,s,function(X,L){if(ot(X.title)){var R=L.color,T=S[X.key];W(T)&&(T=Ot(T,n.precision),n.shouldFormatBigNumber&&(T=o.formatBigNumber(T))),m.push({title:{text:X.title,color:R},value:{text:Wt(T??c.defaultValue,a),color:R}})}}),v.values=m}if(n.createTooltipDataSource!==null){var y=this.getWidget(),x=y.getPane(),C=x.getChart().getChartStore(),E=n.createTooltipDataSource({kLineDataList:r,indicator:n,visibleRange:C.getTimeScaleStore().getVisibleRange(),bounding:y.getBounding(),crosshair:i,defaultStyles:s,xAxis:x.getChart().getXAxisPane().getAxisComponent(),yAxis:x.getAxisComponent()}),w=E.name,I=E.calcParamsText,O=E.values,A=E.icons;if(ot(w)&&c.showName&&(v.name=w),ot(I)&&c.showParams&&(v.calcParamsText=I),W(A)&&(v.icons=A),W(O)&&n.visible){var M=[],z=s.tooltip.text.color;O.forEach(function(X){var L={text:"",color:z};Ie(X.title)?L=X.title:L.text=X.title;var R={text:"",color:z};Ie(X.value)?R=X.value:R.text=X.value,R.text=Wt(R.text,a),M.push({title:L,value:R})}),v.values=M}}return v},t.prototype.classifyTooltipIcons=function(r){var i=[],n=[],o=[];return r.forEach(function(a){switch(a.position){case Vr.Left:{i.push(a);break}case Vr.Middle:{n.push(a);break}case Vr.Right:{o.push(a);break}}}),[i,n,o]},t})(ke),xs=(function(e){lt(t,e);function t(r){var i=e.call(this,r)||this;return i._initEvent(),i}return t.prototype._initEvent=function(){var r=this,i=this.getWidget().getPane(),n=i.getId(),o=i.getChart().getChartStore().getOverlayStore();this.registerEvent("mouseMoveEvent",function(a){var s,l=o.getProgressInstanceInfo();if(l!==null){var u=l.instance,c=l.paneId;u.isStart()&&(o.updateProgressInstanceInfo(n),c=n);var f=u.points.length-1,h="".concat(cr,"point_").concat(f);return u.isDrawing()&&c===n&&(u.eventMoveForDrawing(r._coordinateToPoint(l.instance,a)),(s=u.onDrawing)===null||s===void 0||s.call(u,Z({overlay:u,figureKey:h,figureIndex:f},a))),r._figureMouseMoveEvent(u,1,h,f,0)(a)}return o.setHoverInstanceInfo({paneId:n,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},a),!1}).registerEvent("mouseClickEvent",function(a){var s,l,u=o.getProgressInstanceInfo();if(u!==null){var c=u.instance,f=u.paneId;c.isStart()&&(o.updateProgressInstanceInfo(n,!0),f=n);var h=c.points.length-1,d="".concat(cr,"point_").concat(h);return c.isDrawing()&&f===n&&(c.eventMoveForDrawing(r._coordinateToPoint(c,a)),(s=c.onDrawing)===null||s===void 0||s.call(c,Z({overlay:c,figureKey:d,figureIndex:h},a)),c.nextStep(),c.isDrawing()||(o.progressInstanceComplete(),(l=c.onDrawEnd)===null||l===void 0||l.call(c,Z({overlay:c,figureKey:d,figureIndex:h},a)))),r._figureMouseClickEvent(c,1,d,h,0)(a)}return o.setClickInstanceInfo({paneId:n,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},a),!1}).registerEvent("mouseDoubleClickEvent",function(a){var s,l=o.getProgressInstanceInfo();if(l!==null){var u=l.instance,c=l.paneId;if(u.isDrawing()&&c===n&&(u.forceComplete(),!u.isDrawing())){o.progressInstanceComplete();var f=u.points.length-1,h="".concat(cr,"point_").concat(f);(s=u.onDrawEnd)===null||s===void 0||s.call(u,Z({overlay:u,figureKey:h,figureIndex:f},a))}var d=u.points.length-1;return r._figureMouseDoubleClickEvent(u,1,"".concat(cr,"point_").concat(d),d,0)(a)}return!1}).registerEvent("mouseRightClickEvent",function(a){var s=o.getProgressInstanceInfo();if(s!==null){var l=s.instance;if(l.isDrawing()){var u=l.points.length-1;return r._figureMouseRightClickEvent(l,1,"".concat(cr,"point_").concat(u),u,0)(a)}}return!1}).registerEvent("mouseUpEvent",function(a){var s,l=o.getPressedInstanceInfo(),u=l.instance,c=l.figureIndex,f=l.figureKey;return u!==null&&((s=u.onPressedMoveEnd)===null||s===void 0||s.call(u,Z({overlay:u,figureKey:f,figureIndex:c},a))),o.setPressedInstanceInfo({paneId:n,instance:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1}),!1}).registerEvent("pressedMouseMoveEvent",function(a){var s,l,u=o.getPressedInstanceInfo(),c=u.instance,f=u.figureType,h=u.figureIndex,d=u.figureKey;if(c!==null){if(!c.lock&&!((l=(s=c.onPressedMoving)===null||s===void 0?void 0:s.call(c,Z({overlay:c,figureIndex:h,figureKey:d},a)))!==null&&l!==void 0&&l)){var v=r._coordinateToPoint(c,a);if(f===1)c.eventPressedPointMove(v,h);else{var p=r.getWidget().getPane(),g=p.getChart().getChartStore().getDataList();c.eventPressedOtherMove(v,r.getWidget().getPane().getChart().getChartStore().getTimeScaleStore(),g)}}return!0}return!1})},t.prototype._createFigureEvents=function(r,i,n,o,a,s){var l;if(!r.isDrawing()){var u=[];if(W(s)&&(nr(s)?s&&(u=Ic()):u=s),u.length===0)return{mouseMoveEvent:this._figureMouseMoveEvent(r,i,n,o,a),mouseDownEvent:this._figureMouseDownEvent(r,i,n,o,a),mouseClickEvent:this._figureMouseClickEvent(r,i,n,o,a),mouseRightClickEvent:this._figureMouseRightClickEvent(r,i,n,o,a),mouseDoubleClickEvent:this._figureMouseDoubleClickEvent(r,i,n,o,a)};l={},!u.includes("mouseMoveEvent")&&!u.includes("touchMoveEvent")&&(l.mouseMoveEvent=this._figureMouseMoveEvent(r,i,n,o,a)),!u.includes("mouseDownEvent")&&!u.includes("touchStartEvent")&&(l.mouseDownEvent=this._figureMouseDownEvent(r,i,n,o,a)),!u.includes("mouseClickEvent")&&!u.includes("tapEvent")&&(l.mouseClickEvent=this._figureMouseClickEvent(r,i,n,o,a)),!u.includes("mouseDoubleClickEvent")&&!u.includes("doubleTapEvent")&&(l.mouseDoubleClickEvent=this._figureMouseDoubleClickEvent(r,i,n,o,a)),u.includes("mouseRightClickEvent")||(l.mouseRightClickEvent=this._figureMouseRightClickEvent(r,i,n,o,a))}return l},t.prototype._figureMouseMoveEvent=function(r,i,n,o,a){var s=this;return function(l){var u=s.getWidget().getPane(),c=u.getChart().getChartStore().getOverlayStore();return c.setHoverInstanceInfo({paneId:u.getId(),instance:r,figureType:i,figureKey:n,figureIndex:o,attrsIndex:a},l),!0}},t.prototype._figureMouseDownEvent=function(r,i,n,o,a){var s=this;return function(l){var u,c=s.getWidget().getPane(),f=c.getId(),h=c.getChart().getChartStore().getOverlayStore();return r.startPressedMove(s._coordinateToPoint(r,l)),(u=r.onPressedMoveStart)===null||u===void 0||u.call(r,Z({overlay:r,figureIndex:o,figureKey:n},l)),h.setPressedInstanceInfo({paneId:f,instance:r,figureType:i,figureKey:n,figureIndex:o,attrsIndex:a}),!0}},t.prototype._figureMouseClickEvent=function(r,i,n,o,a){var s=this;return function(l){var u=s.getWidget().getPane(),c=u.getId(),f=u.getChart().getChartStore().getOverlayStore();return f.setClickInstanceInfo({paneId:c,instance:r,figureType:i,figureKey:n,figureIndex:o,attrsIndex:a},l),!0}},t.prototype._figureMouseDoubleClickEvent=function(r,i,n,o,a){return function(s){var l;return(l=r.onDoubleClick)===null||l===void 0||l.call(r,Z(Z({},s),{figureIndex:o,figureKey:n,overlay:r})),!0}},t.prototype._figureMouseRightClickEvent=function(r,i,n,o,a){var s=this;return function(l){var u,c;if(!((c=(u=r.onRightClick)===null||u===void 0?void 0:u.call(r,Z({overlay:r,figureIndex:o,figureKey:n},l)))!==null&&c!==void 0&&c)){var f=s.getWidget().getPane(),h=f.getChart().getChartStore().getOverlayStore();h.removeInstance(r)}return!0}},t.prototype._coordinateToPoint=function(r,i){var n,o={},a=this.getWidget().getPane(),s=a.getChart(),l=a.getId(),u=s.getChartStore().getTimeScaleStore();if(this.coordinateToPointTimestampDataIndexFlag()){var c=s.getXAxisPane().getAxisComponent(),f=c.convertFromPixel(i.x),h=(n=u.dataIndexToTimestamp(f))!==null&&n!==void 0?n:void 0,d=s.getChartStore().getDataList();if(h===void 0){var v=f<0?0:f>d.length-1?d.length-1:f;o.timestamp=d[v].timestamp,o.dataIndex=v}else o.dataIndex=f,o.timestamp=h}if(this.coordinateToPointValueFlag()){var p=a.getAxisComponent(),g=p.convertFromPixel(i.y);if(r.mode!==_r.Normal&&l===yt.CANDLE&&Q(o.dataIndex)){var m=u.getDataByDataIndex(o.dataIndex);if(m!==null){var S=r.modeSensitivity;if(g>m.high)if(r.mode===_r.WeakMagnet){var y=p.convertToPixel(m.high),x=p.convertFromPixel(y-S);g<x&&(g=m.high)}else g=m.high;else if(g<m.low)if(r.mode===_r.WeakMagnet){var C=p.convertToPixel(m.low),x=p.convertFromPixel(C-S);g>x&&(g=m.low)}else g=m.low;else{var E=Math.max(m.open,m.close),w=Math.min(m.open,m.close);g>E?g-E<m.high-g?g=E:g=m.high:g<w?g-m.low<w-g?g=m.low:g=w:E-g<g-w?g=E:g=w}}}o.value=g}return o},t.prototype.coordinateToPointValueFlag=function(){return!0},t.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},t.prototype.dispatchEvent=function(r,i,n){return this.getWidget().getPane().getChart().getChartStore().getOverlayStore().isDrawing()?this.onEvent(r,i,n):e.prototype.dispatchEvent.call(this,r,i,n)},t.prototype.checkEventOn=function(){return!0},t.prototype.drawImp=function(r){var i=this,n=this.getWidget(),o=n.getPane(),a=o.getId(),s=o.getChart(),l=o.getAxisComponent(),u=s.getXAxisPane().getAxisComponent(),c=n.getBounding(),f=s.getChartStore(),h=f.getCustomApi(),d=f.getThousandsSeparator(),v=f.getTimeScaleStore(),p=v.getDateTimeFormat(),g=v.getBarSpace(),m=f.getPrecision(),S=f.getStyles().overlay,y=f.getOverlayStore(),x=y.getHoverInstanceInfo(),C=y.getClickInstanceInfo(),E=this.getCompleteOverlays(y,a);E.forEach(function(O){O.visible&&i._drawOverlay(r,O,c,g,m,p,h,d,S,u,l,x,C,v)});var w=y.getProgressInstanceInfo();if(w!==null){var I=this.getProgressOverlay(w,a);I!==null&&I.visible&&this._drawOverlay(r,I,c,g,m,p,h,d,S,u,l,x,C,v)}},t.prototype._drawOverlay=function(r,i,n,o,a,s,l,u,c,f,h,d,v,p){var g=i.points,m=g.map(function(y){var x,C,E=y.dataIndex;Q(y.timestamp)&&(E=p.timestampToDataIndex(y.timestamp));var w={x:0,y:0};return Q(E)&&(w.x=(x=f?.convertToPixel(E))!==null&&x!==void 0?x:0),Q(y.value)&&(w.y=(C=h?.convertToPixel(y.value))!==null&&C!==void 0?C:0),w});if(m.length>0){var S=new Array().concat(this.getFigures(i,m,n,o,a,u,s,c,f,h));this.drawFigures(r,i,S,c)}this.drawDefaultFigures(r,i,m,n,a,s,l,u,c,f,h,d,v)},t.prototype.drawFigures=function(r,i,n,o){var a=this;n.forEach(function(s,l){var u=s.type,c=s.styles,f=s.attrs,h=s.ignoreEvent,d=[].concat(f);d.forEach(function(v,p){var g,m,S,y=a._createFigureEvents(i,2,(g=s.key)!==null&&g!==void 0?g:"",l,p,h),x=Z(Z(Z({},o[u]),(m=i.styles)===null||m===void 0?void 0:m[u]),c);(S=a.createFigure(u,v,x,y))===null||S===void 0||S.draw(r)})})},t.prototype.getCompleteOverlays=function(r,i){return r.getInstances(i)},t.prototype.getProgressOverlay=function(r,i){return r.paneId===i?r.instance:null},t.prototype.getFigures=function(r,i,n,o,a,s,l,u,c,f){var h,d;return(d=(h=r.createPointFigures)===null||h===void 0?void 0:h.call(r,{overlay:r,coordinates:i,bounding:n,barSpace:o,precision:a,thousandsSeparator:s,dateTimeFormat:l,defaultStyles:u,xAxis:c,yAxis:f}))!==null&&d!==void 0?d:[]},t.prototype.drawDefaultFigures=function(r,i,n,o,a,s,l,u,c,f,h,d,v){var p=this,g,m;if(i.needDefaultPointFigure&&(((g=d.instance)===null||g===void 0?void 0:g.id)===i.id&&d.figureType!==0||((m=v.instance)===null||m===void 0?void 0:m.id)===i.id&&v.figureType!==0)){var S=i.styles,y=Z(Z({},c.point),S?.point);n.forEach(function(x,C){var E,w,I,O=x.x,A=x.y,M=y.radius,z=y.color,X=y.borderColor,L=y.borderSize;((E=d.instance)===null||E===void 0?void 0:E.id)===i.id&&d.figureType===1&&d.figureIndex===C&&(M=y.activeRadius,z=y.activeColor,X=y.activeBorderColor,L=y.activeBorderSize),(w=p.createFigure("circle",{x:O,y:A,r:M+L},{color:X},p._createFigureEvents(i,1,"".concat(cr,"point_").concat(C),C,0)))===null||w===void 0||w.draw(r),(I=p.createFigure("circle",{x:O,y:A,r:M},{color:z}))===null||I===void 0||I.draw(r)})}},t})(ke),Ss=(function(e){lt(t,e);function t(r,i){var n=e.call(this,r,i)||this;return n._gridView=new fh(n),n._indicatorView=new dh(n),n._crosshairLineView=new vh(n),n._tooltipView=n.createTooltipView(),n._overlayView=new xs(n),n.addChild(n._tooltipView),n.addChild(n._overlayView),n.getContainer().style.cursor="crosshair",n.registerEvent("mouseMoveEvent",function(){return i.getChart().getChartStore().getTooltipStore().setActiveIcon(),!1}),n}return t.prototype.getName=function(){return st.MAIN},t.prototype.updateMain=function(r){this.updateMainContent(r),this._indicatorView.draw(r),this._gridView.draw(r)},t.prototype.createTooltipView=function(){return new ys(this)},t.prototype.updateMainContent=function(r){},t.prototype.updateOverlay=function(r){this._overlayView.draw(r),this._crosshairLineView.draw(r),this._tooltipView.draw(r)},t})(Gn),ph=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var i,n,o=this.getWidget(),a=o.getPane(),s=a.getChart(),l=o.getBounding(),u=a.getAxisComponent(),c=s.getStyles().candle.area,f=[],h=[],d=Number.MAX_SAFE_INTEGER;this.eachChildren(function(x,C,E){var w=x.data,I=x.x,O=C.halfGapBar,A=w[c.value];if(Q(A)){var M=u.convertToPixel(A);if(E===0){var z=I-O;h.push({x:z,y:l.height}),h.push({x:z,y:M}),f.push({x:z,y:M})}f.push({x:I,y:M}),h.push({x:I,y:M}),d=Math.min(d,M)}});var v=h.length;if(v>0){var p=h[v-1],g=p.x;f.push({x:g,y:p.y}),h.push({x:g,y:p.y}),h.push({x:g,y:l.height})}if(f.length>0&&((i=this.createFigure("line",{coordinates:f},{color:c.lineColor,size:c.lineSize}))===null||i===void 0||i.draw(r)),h.length>0){var m=c.backgroundColor,S=void 0;if(Ee(m)){var y=r.createLinearGradient(0,l.height,0,d);try{m.forEach(function(x){var C=x.offset,E=x.color;y.addColorStop(C,E)})}catch{}S=y}else S=m;(n=this.createFigure("polygon",{coordinates:h},{color:S}))===null||n===void 0||n.draw(r)}},t})(qn),gh=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var i=this.getWidget(),n=i.getPane(),o=n.getChart().getChartStore(),a=o.getStyles().candle.priceMark,s=a.high,l=a.low;if(a.show&&(s.show||l.show)){var u=o.getThousandsSeparator(),c=o.getPrecision(),f=n.getAxisComponent(),h=Number.MIN_SAFE_INTEGER,d=0,v=Number.MAX_SAFE_INTEGER,p=0;this.eachChildren(function(S){var y=S.data,x=S.x;h<y.high&&(h=y.high,d=x),v>y.low&&(v=y.low,p=x)});var g=f.convertToPixel(h),m=f.convertToPixel(v);s.show&&h!==Number.MIN_SAFE_INTEGER&&this._drawMark(r,Wt(Ot(h,c.price),u),{x:d,y:g},g<m?[-2,-5]:[2,5],s),l.show&&v!==Number.MAX_SAFE_INTEGER&&this._drawMark(r,Wt(Ot(v,c.price),u),{x:p,y:m},g<m?[2,5]:[-2,-5],l)}},t.prototype._drawMark=function(r,i,n,o,a){var s,l,u,c=n.x,f=n.y+o[0];(s=this.createFigure("line",{coordinates:[{x:c-2,y:f+o[0]},{x:c,y:f},{x:c+2,y:f+o[0]}]},{color:a.color}))===null||s===void 0||s.draw(r);var h,d,v,p=this.getWidget().getBounding().width;c>p/2?(h=c-5,d=h-a.textOffset,v="right"):(h=c+5,v="left",d=h+a.textOffset);var g=f+o[1];(l=this.createFigure("line",{coordinates:[{x:c,y:f},{x:c,y:g},{x:h,y:g}]},{color:a.color}))===null||l===void 0||l.draw(r),(u=this.createFigure("text",{x:d,y:g,text:i,align:v,baseline:"middle"},{color:a.color,size:a.textSize,family:a.textFamily,weight:a.textWeight}))===null||u===void 0||u.draw(r)},t})(qn),mh=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var i,n=this.getWidget(),o=n.getPane(),a=n.getBounding(),s=o.getChart().getChartStore(),l=s.getStyles().candle.priceMark,u=l.last,c=u.line;if(l.show&&u.show&&c.show){var f=o.getAxisComponent(),h=s.getDataList(),d=h[h.length-1];if(d!=null){var v=d.close,p=d.open,g=f.convertToNicePixel(v),m=void 0;v>p?m=u.upColor:v<p?m=u.downColor:m=u.noChangeColor,(i=this.createFigure("line",{coordinates:[{x:0,y:g},{x:a.width,y:g}]},{style:c.style,color:m,size:c.size,dashedValue:c.dashedValue}))===null||i===void 0||i.draw(r)}}},t})(ke),_h={time:"",open:"",high:"",low:"",close:"",volume:"",turnover:"",change:""},yh={time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: ",turnover:"Turnover: ",change:"Change: "},xh={"zh-CN":_h,"en-US":yh};function Sh(e,t){var r,i;return(i=(r=xh[t])===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:e}var bh=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var i,n=this.getWidget(),o=n.getPane(),a=o.getId(),s=o.getChart().getChartStore(),l=s.getTooltipStore().getCrosshair();if(W(l.kLineData)){var u=n.getBounding(),c=(i=o.getYAxisWidget())===null||i===void 0?void 0:i.getBounding(),f=s.getDataList(),h=s.getPrecision(),d=s.getLocale(),v=s.getCustomApi(),p=s.getThousandsSeparator(),g=s.getTooltipStore().getActiveIcon(),m=s.getIndicatorStore().getInstances(o.getId()),S=s.getTimeScaleStore().getDateTimeFormat(),y=s.getStyles(),x=y.candle,C=y.indicator;if(x.tooltip.showType===Ce.Rect&&C.tooltip.showType===Ce.Rect){var E=this.isDrawTooltip(l,x.tooltip),w=this.isDrawTooltip(l,C.tooltip);this._drawRectTooltip(r,f,m,u,c,l,h,S,d,v,p,E,w,y,0)}else if(x.tooltip.showType===Ce.Standard&&C.tooltip.showType===Ce.Standard){var I=this._drawCandleStandardTooltip(r,f,a,u,l,g,h,S,d,v,p,x);this.drawIndicatorTooltip(r,a,f,l,g,m,v,p,u,C,I)}else if(x.tooltip.showType===Ce.Rect&&C.tooltip.showType===Ce.Standard){var O=this.drawIndicatorTooltip(r,a,f,l,g,m,v,p,u,C,0),E=this.isDrawTooltip(l,x.tooltip);this._drawRectTooltip(r,f,m,u,c,l,h,S,d,v,p,E,!1,y,O)}else{var A=this._drawCandleStandardTooltip(r,f,a,u,l,g,h,S,d,v,p,x),w=this.isDrawTooltip(l,C.tooltip);this._drawRectTooltip(r,f,m,u,c,l,h,S,d,v,p,!1,w,y,A)}}},t.prototype._drawCandleStandardTooltip=function(r,i,n,o,a,s,l,u,c,f,h,d){var v,p,g,m=d.tooltip,S=m.text,y=0;if(this.isDrawTooltip(a,m)){var x=(v=a.dataIndex)!==null&&v!==void 0?v:0,C=this._getCandleTooltipData({prev:(p=i[x-1])!==null&&p!==void 0?p:null,current:a.kLineData,next:(g=i[x+1])!==null&&g!==void 0?g:null},l,u,c,f,h,d),E=0,w=0,I=0,O=Ht(this.classifyTooltipIcons(m.icons),3),A=O[0],M=O[1],z=O[2],X=Ht(this.drawStandardTooltipIcons(r,o,{paneId:n,indicatorName:"",iconId:""},s,A,E,w,0),4),L=X[0],R=X[1],T=X[2],V=X[3];E=L,w=R,y+=V,I=T;var P=Ht(this.drawStandardTooltipIcons(r,o,{paneId:n,indicatorName:"",iconId:""},s,M,E,w,I),4),U=P[0],G=P[1],j=P[2],q=P[3];if(E=U,w=G,y+=q,I=j,C.length>0){var et=Ht(this.drawStandardTooltipLabels(r,o,C,E,w,I,S),4),ct=et[0],ft=et[1],gt=et[2],vt=et[3];E=ct,w=ft,y+=vt,I=gt}var Et=Ht(this.drawStandardTooltipIcons(r,o,{paneId:n,indicatorName:"",iconId:""},s,z,E,w,I),4),Dt=Et[0],ht=Et[1],St=Et[2],_=Et[3];E=Dt,w=ht,y+=_,I=St}return y},t.prototype._drawRectTooltip=function(r,i,n,o,a,s,l,u,c,f,h,d,v,p,g){var m=this,S,y,x,C,E,w=p.candle,I=p.indicator,O=w.tooltip,A=I.tooltip;if(d||v){var M=(S=s.dataIndex)!==null&&S!==void 0?S:0,z=this._getCandleTooltipData({prev:(y=i[M-1])!==null&&y!==void 0?y:null,current:s.kLineData,next:(x=i[M+1])!==null&&x!==void 0?x:null},l,u,c,f,h,w),X=O.text,L=X.marginLeft,R=X.marginRight,T=X.marginTop,V=X.marginBottom,P=X.size,U=X.weight,G=X.family,j=O.rect,q=j.position,et=j.paddingLeft,ct=j.paddingRight,ft=j.paddingTop,gt=j.paddingBottom,vt=j.offsetLeft,Et=j.offsetRight,Dt=j.offsetTop,ht=j.offsetBottom,St=j.borderSize,_=j.borderRadius,b=j.borderColor,D=j.color,B=0,F=0,k=0;d&&(r.font=sr(P,U,G),z.forEach(function(le){var Ut=le.title,ue=le.value,pe="".concat(Ut.text).concat(ue.text),Fe=r.measureText(pe).width+L+R;B=Math.max(B,Fe)}),k+=(V+T+P)*z.length);var Y=A.text,H=Y.marginLeft,$=Y.marginRight,N=Y.marginTop,tt=Y.marginBottom,K=Y.size,J=Y.weight,rt=Y.family,ut=[];if(v&&(r.font=sr(K,J,rt),n.forEach(function(le){var Ut,ue=(Ut=m.getIndicatorTooltipData(i,s,le,f,h,I).values)!==null&&Ut!==void 0?Ut:[];ut.push(ue),ue.forEach(function(pe){var Fe=pe.title,ei=pe.value,zs="".concat(Fe.text).concat(ei.text),Ys=r.measureText(zs).width+H+$;B=Math.max(B,Ys),k+=N+tt+K})})),F+=B,F!==0&&k!==0){F+=St*2+et+ct,k+=St*2+ft+gt;var bt=o.width/2,pt=q===Ii.Pointer&&s.paneId===yt.CANDLE,Nt=((C=s.realX)!==null&&C!==void 0?C:0)>bt,It=0;if(pt){var ee=s.realX;Nt?It=ee-Et-F:It=ee+vt}else Nt?(It=vt,p.yAxis.inside&&p.yAxis.position===Ke.Left&&(It+=a.width)):(It=o.width-Et-F,p.yAxis.inside&&p.yAxis.position===Ke.Right&&(It-=a.width));var Lt=g+Dt;if(pt){var Ge=s.y;Lt=Ge-k/2,Lt+k>o.height-ht&&(Lt=o.height-ht-k),Lt<g+Dt&&(Lt=g+Dt)}(E=this.createFigure("rect",{x:It,y:Lt,width:F,height:k},{style:dt.StrokeFill,color:D,borderColor:b,borderSize:St,borderRadius:_}))===null||E===void 0||E.draw(r);var ti=It+St+et+L,Pt=Lt+St+ft;if(d&&z.forEach(function(le){var Ut,ue;Pt+=T;var pe=le.title;(Ut=m.createFigure("text",{x:ti,y:Pt,text:pe.text},{color:pe.color,size:P,family:G,weight:U}))===null||Ut===void 0||Ut.draw(r);var Fe=le.value;(ue=m.createFigure("text",{x:It+F-St-R-ct,y:Pt,text:Fe.text,align:"right"},{color:Fe.color,size:P,family:G,weight:U}))===null||ue===void 0||ue.draw(r),Pt+=P+V}),v){var se=It+St+et+H;ut.forEach(function(le){le.forEach(function(Ut){var ue,pe;Pt+=N;var Fe=Ut.title,ei=Ut.value;(ue=m.createFigure("text",{x:se,y:Pt,text:Fe.text},{color:Fe.color,size:K,family:rt,weight:J}))===null||ue===void 0||ue.draw(r),(pe=m.createFigure("text",{x:It+F-St-$-ct,y:Pt,text:ei.text,align:"right"},{color:ei.color,size:K,family:rt,weight:J}))===null||pe===void 0||pe.draw(r),Pt+=K+tt})})}}}},t.prototype._getCandleTooltipData=function(r,i,n,o,a,s,l){var u,c,f,h,d,v,p=l.tooltip,g=p.text.color,m=r.current,S=(c=(u=r.prev)===null||u===void 0?void 0:u.close)!==null&&c!==void 0?c:m.close,y=m.close-S,x=i.price,C=i.volume,E={"{time}":a.formatDate(n,m.timestamp,"YYYY-MM-DD HH:mm",zt.Tooltip),"{open}":Wt(Ot(m.open,x),s),"{high}":Wt(Ot(m.high,x),s),"{low}":Wt(Ot(m.low,x),s),"{close}":Wt(Ot(m.close,x),s),"{volume}":Wt(a.formatBigNumber(Ot((f=m.volume)!==null&&f!==void 0?f:p.defaultValue,C)),s),"{turnover}":Wt(Ot((h=m.turnover)!==null&&h!==void 0?h:p.defaultValue,x),s),"{change}":S===0?p.defaultValue:"".concat(Ot(y/S*100),"%")},w=(v=De(p.custom)?(d=p.custom)===null||d===void 0?void 0:d.call(p,r,l):p.custom)!==null&&v!==void 0?v:[{title:"time",value:"{time}"},{title:"open",value:"{open}"},{title:"high",value:"{high}"},{title:"low",value:"{low}"},{title:"close",value:"{close}"},{title:"volume",value:"{volume}"}];return w.map(function(I){var O,A=I.title,M=I.value,z={text:"",color:""};Ie(A)?z=Z({},A):(z.text=A,z.color=g),z.text=Sh(z.text,o);var X={text:p.defaultValue,color:""};Ie(M)?X=Z({},M):(X.text=M,X.color=g);var L=X.text.match(/{(\S*)}/);if(L!==null&&L.length>1){var R="{".concat(L[1],"}");X.text=X.text.replace(R,(O=E[R])!==null&&O!==void 0?O:p.defaultValue),R==="{change}"&&(X.color=y===0?l.priceMark.last.noChangeColor:y>0?l.priceMark.last.upColor:l.priceMark.last.downColor)}return{title:z,value:X}})},t})(ys),Ch=(function(e){lt(t,e);function t(r,i){var n=e.call(this,r,i)||this;return n._candleBarView=new _s(n),n._candleAreaView=new ph(n),n._candleHighLowPriceView=new gh(n),n._candleLastPriceLineView=new mh(n),n.addChild(n._candleBarView),n}return t.prototype.updateMainContent=function(r){var i=this.getPane().getChart().getStyles().candle;i.type!==we.Area?(this._candleBarView.draw(r),this._candleHighLowPriceView.draw(r)):this._candleAreaView.draw(r),this._candleLastPriceLineView.draw(r)},t.prototype.createTooltipView=function(){return new bh(this)},t})(Ss),bs=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var i=this,n,o=this.getWidget(),a=o.getPane(),s=o.getBounding(),l=a.getAxisComponent(),u=this.getAxisStyles(a.getChart().getStyles());if(u.show){u.axisLine.show&&((n=this.createFigure("line",this.createAxisLine(s,u),u.axisLine))===null||n===void 0||n.draw(r));var c=l.getTicks();if(u.tickLine.show){var f=this.createTickLines(c,s,u);f.forEach(function(d){var v;(v=i.createFigure("line",d,u.tickLine))===null||v===void 0||v.draw(r)})}if(u.tickText.show){var h=this.createTickTexts(c,s,u);h.forEach(function(d){var v;(v=i.createFigure("text",d,u.tickText))===null||v===void 0||v.draw(r)})}}},t})(ke),wh=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getAxisStyles=function(r){return r.yAxis},t.prototype.createAxisLine=function(r,i){var n=this.getWidget().getPane().getAxisComponent(),o=i.axisLine.size,a;return n.isFromZero()?a=o/2:a=r.width-o,{coordinates:[{x:a,y:0},{x:a,y:r.height}]}},t.prototype.createTickLines=function(r,i,n){var o=this.getWidget().getPane().getAxisComponent(),a=n.axisLine,s=n.tickLine,l=0,u=0;return o.isFromZero()?(l=0,a.show&&(l+=a.size),u=l+s.length):(l=i.width,a.show&&(l-=a.size),u=l-s.length),r.map(function(c){return{coordinates:[{x:l,y:c.coord},{x:u,y:c.coord}]}})},t.prototype.createTickTexts=function(r,i,n){var o=this.getWidget().getPane().getAxisComponent(),a=n.axisLine,s=n.tickLine,l=n.tickText,u=0;o.isFromZero()?(u=l.marginStart,a.show&&(u+=a.size),s.show&&(u+=s.length)):(u=i.width-l.marginEnd,a.show&&(u-=a.size),s.show&&(u-=s.length));var c=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return r.map(function(f){return{x:u,y:f.coord,text:f.text,align:c,baseline:"middle"}})},t})(bs),Eh=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var i,n=this.getWidget(),o=n.getPane(),a=n.getBounding(),s=o.getChart().getChartStore(),l=s.getStyles().candle.priceMark,u=l.last,c=u.text;if(l.show&&u.show&&c.show){var f=s.getPrecision(),h=o.getAxisComponent(),d=s.getDataList(),v=s.getVisibleDataList(),p=d[d.length-1];if(W(p)){var g=p.close,m=p.open,S=h.convertToNicePixel(g),y=void 0;g>m?y=u.upColor:g<m?y=u.downColor:y=u.noChangeColor;var x=void 0;if(h.getType()===Vt.Percentage){var C=v[0].data,E=C.close;x="".concat(((g-E)/E*100).toFixed(2),"%")}else x=Ot(g,f.price);x=Wt(x,s.getThousandsSeparator());var w=void 0,I=void 0;h.isFromZero()?(w=0,I="left"):(w=a.width,I="right"),(i=this.createFigure("text",{x:w,y:S,text:x,align:I,baseline:"middle"},Z(Z({},c),{backgroundColor:y})))===null||i===void 0||i.draw(r)}}},t})(ke),Ih=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var i=this,n=this.getWidget(),o=n.getPane(),a=n.getBounding(),s=o.getChart().getChartStore(),l=s.getCustomApi(),u=s.getStyles().indicator,c=u.lastValueMark,f=c.text;if(c.show){var h=o.getAxisComponent(),d=s.getDataList(),v=d.length-1,p=s.getIndicatorStore().getInstances(o.getId()),g=s.getThousandsSeparator();p.forEach(function(m){var S=m.result,y=S[v];if(W(y)&&m.visible){var x=m.precision;Xn(d,m,v,u,function(C,E){var w,I=y[C.key];if(W(I)){var O=h.convertToNicePixel(I),A=Ot(I,x);m.shouldFormatBigNumber&&(A=l.formatBigNumber(A)),A=Wt(A,g);var M=void 0,z=void 0;h.isFromZero()?(M=0,z="left"):(M=a.width,z="right"),(w=i.createFigure("text",{x:M,y:O,text:A,align:z,baseline:"middle"},Z(Z({},f),{backgroundColor:E.color})))===null||w===void 0||w.draw(r)}})}})}},t})(ke),Cs=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!1},t.prototype.drawDefaultFigures=function(r,i,n,o,a,s,l,u,c,f,h,d,v){this.drawFigures(r,i,this.getDefaultFigures(i,n,o,a,s,l,u,f,h,v),c)},t.prototype.getDefaultFigures=function(r,i,n,o,a,s,l,u,c,f){var h,d,v=[];if(r.needDefaultYAxisFigure&&r.id===((h=f.instance)===null||h===void 0?void 0:h.id)&&f.paneId===this.getWidget().getPane().getId()){var p=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER,m=(d=c?.isFromZero())!==null&&d!==void 0?d:!1,S,y;m?(S="left",y=0):(S="right",y=n.width),i.forEach(function(x,C){var E=r.points[C];if(Q(E.value)){p=Math.min(p,x.y),g=Math.max(g,x.y);var w=Wt(Ot(E.value,o.price),l);v.push({type:"text",attrs:{x:y,y:x.y,text:w,align:S,baseline:"middle"},ignoreEvent:!0})}}),i.length>1&&v.unshift({type:"rect",attrs:{x:0,y:p,width:n.width,height:g-p},ignoreEvent:!0})}return v},t.prototype.getFigures=function(r,i,n,o,a,s,l,u,c,f){var h,d;return(d=(h=r.createYAxisFigures)===null||h===void 0?void 0:h.call(r,{overlay:r,coordinates:i,bounding:n,barSpace:o,precision:a,thousandsSeparator:s,dateTimeFormat:l,defaultStyles:u,xAxis:c,yAxis:f}))!==null&&d!==void 0?d:[]},t})(xs),ws=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.drawImp=function(r){var i,n=this.getWidget(),o=n.getPane(),a=n.getBounding(),s=n.getPane().getChart().getChartStore(),l=s.getTooltipStore().getCrosshair(),u=s.getStyles().crosshair;if(ot(l.paneId)&&this.compare(l,o.getId())&&u.show){var c=this.getDirectionStyles(u),f=c.text;if(c.show&&f.show){var h=o.getAxisComponent(),d=this.getText(l,s,h);r.font=sr(f.size,f.weight,f.family),(i=this.createFigure("text",this.getTextAttrs(d,r.measureText(d).width,l,a,h,f),f))===null||i===void 0||i.draw(r)}}},t.prototype.compare=function(r,i){return r.paneId===i},t.prototype.getDirectionStyles=function(r){return r.horizontal},t.prototype.getText=function(r,i,n){var o,a,s=n,l=n.convertFromPixel(r.y),u;if(s.getType()===Vt.Percentage){var c=i.getVisibleDataList(),f=(a=(o=c[0])===null||o===void 0?void 0:o.data)!==null&&a!==void 0?a:{};u="".concat(((l-f.close)/f.close*100).toFixed(2),"%")}else{var h=i.getIndicatorStore().getInstances(r.paneId),d=0,v=!1;s.isInCandle()?d=i.getPrecision().price:h.forEach(function(p){d=Math.max(p.precision,d),v||(v=p.shouldFormatBigNumber)}),u=Ot(l,d),v&&(u=i.getCustomApi().formatBigNumber(u))}return Wt(u,i.getThousandsSeparator())},t.prototype.getTextAttrs=function(r,i,n,o,a,s){var l=a,u,c;return l.isFromZero()?(u=0,c="left"):(u=o.width,c="right"),{x:u,y:n.y,text:r,align:c,baseline:"middle"}},t})(ke),Mh=(function(e){lt(t,e);function t(r,i){var n=e.call(this,r,i)||this;return n._yAxisView=new wh(n),n._candleLastPriceLabelView=new Eh(n),n._indicatorLastValueView=new Ih(n),n._overlayYAxisView=new Cs(n),n._crosshairHorizontalLabelView=new ws(n),n.getContainer().style.cursor="ns-resize",n.addChild(n._overlayYAxisView),n}return t.prototype.getName=function(){return st.Y_AXIS},t.prototype.updateMain=function(r){this._yAxisView.draw(r),this.getPane().getAxisComponent().isInCandle()&&this._candleLastPriceLabelView.draw(r),this._indicatorLastValueView.draw(r)},t.prototype.updateOverlay=function(r){this._overlayYAxisView.draw(r),this._crosshairHorizontalLabelView.draw(r)},t})(Gn),Es=(function(){function e(t){this._extremum={min:0,max:0,range:0,realMin:0,realMax:0,realRange:0},this._prevExtremum={min:0,max:0,range:0,realMin:0,realMax:0,realRange:0},this._ticks=[],this._autoCalcTickFlag=!0,this._parent=t}return e.prototype.getParent=function(){return this._parent},e.prototype.buildTicks=function(t){return this._autoCalcTickFlag&&(this._extremum=this.calcExtremum()),this._prevExtremum.min!==this._extremum.min||this._prevExtremum.max!==this._extremum.max||t?(this._prevExtremum=this._extremum,this._ticks=this.optimalTicks(this._calcTicks()),!0):!1},e.prototype.getTicks=function(){return this._ticks},e.prototype.getScrollZoomEnabled=function(){var t;return(t=this.getParent().getOptions().axisOptions.scrollZoomEnabled)!==null&&t!==void 0?t:!0},e.prototype.setExtremum=function(t){this._autoCalcTickFlag=!1,this._extremum=t},e.prototype.getExtremum=function(){return this._extremum},e.prototype.setAutoCalcTickFlag=function(t){this._autoCalcTickFlag=t},e.prototype.getAutoCalcTickFlag=function(){return this._autoCalcTickFlag},e.prototype._calcTicks=function(){var t=this._extremum,r=t.realMin,i=t.realMax,n=t.realRange,o=[];if(n>=0){var a=Ht(this._calcTickInterval(n),2),s=a[0],l=a[1],u=Bo(Math.ceil(r/s)*s,l),c=Bo(Math.floor(i/s)*s,l),f=0,h=u;if(s!==0)for(;h<=c;){var d=h.toFixed(l);o[f]={text:d,coord:0,value:d},++f,h+=s}}return o},e.prototype._calcTickInterval=function(t){var r=Ac(t/8),i=kc(r);return[r,i]},e})(),Th=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.calcExtremum=function(){var r,i,n,o,a,s=this.getParent(),l=s.getChart(),u=l.getChartStore(),c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER,h=[],d=!1,v=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER,m=u.getIndicatorStore().getInstances(s.getId());m.forEach(function(et){var ct,ft,gt;d||(d=(ct=et.shouldOhlc)!==null&&ct!==void 0?ct:!1),g=Math.min(g,et.precision),et.minValue!==null&&(v=Math.min(v,et.minValue)),et.maxValue!==null&&(p=Math.max(p,et.maxValue)),h.push({figures:(ft=et.figures)!==null&&ft!==void 0?ft:[],result:(gt=et.result)!==null&&gt!==void 0?gt:[]})});var S=4,y=this.isInCandle();if(y){var x=u.getPrecision().price;g!==Number.MAX_SAFE_INTEGER?S=Math.min(g,x):S=x}else g!==Number.MAX_SAFE_INTEGER&&(S=g);var C=u.getVisibleDataList(),E=l.getStyles().candle,w=E.type===we.Area,I=E.area.value,O=y&&!w||!y&&d;C.forEach(function(et){var ct=et.dataIndex,ft=et.data;if(O&&(c=Math.min(c,ft.low),f=Math.max(f,ft.high)),y&&w){var gt=ft[I];c=Math.min(c,gt),f=Math.max(f,gt)}h.forEach(function(vt){var Et,Dt=vt.figures,ht=vt.result,St=(Et=ht[ct])!==null&&Et!==void 0?Et:{};Dt.forEach(function(_){var b=St[_.key];W(b)&&(c=Math.min(c,b),f=Math.max(f,b))})})}),c!==Number.MAX_SAFE_INTEGER&&f!==Number.MIN_SAFE_INTEGER?(c=Math.min(v,c),f=Math.max(p,f)):(c=0,f=10);var A=this.getType(),M;switch(A){case Vt.Percentage:{var z=(r=C[0])===null||r===void 0?void 0:r.data;Q(z?.close)&&(c=(c-z.close)/z.close*100,f=(f-z.close)/z.close*100),M=Math.pow(10,-2);break}case Vt.Log:{c=Tr(c),f=Tr(f),M=.05*Qe(-S);break}default:M=Qe(-S)}if(c===f||Math.abs(c-f)<M){var X=v===c,L=p===f;c=X?c:L?c-8*M:c-4*M,f=L?f:X?f+8*M:f+4*M}var R=(n=(i=this.getParent().getYAxisWidget())===null||i===void 0?void 0:i.getBounding().height)!==null&&n!==void 0?n:0,T=s.getOptions().gap,V=(o=T?.top)!==null&&o!==void 0?o:.2;V>=1&&(V=V/R);var P=(a=T?.bottom)!==null&&a!==void 0?a:.1;P>=1&&(P=P/R);var U=Math.abs(f-c);c=c-U*P,f=f+U*V,U=Math.abs(f-c);var G,j,q;return A===Vt.Log?(G=Qe(c),j=Qe(f),q=Math.abs(j-G)):(G=c,j=f,q=U),{min:c,max:f,range:U,realMin:G,realMax:j,realRange:q}},t.prototype._innerConvertToPixel=function(r){var i,n,o=(n=(i=this.getParent().getYAxisWidget())===null||i===void 0?void 0:i.getBounding().height)!==null&&n!==void 0?n:0,a=this.getExtremum(),s=a.min,l=a.range,u=(r-s)/l;return this.isReverse()?Math.round(u*o):Math.round((1-u)*o)},t.prototype.isInCandle=function(){return this.getParent().getId()===yt.CANDLE},t.prototype.getType=function(){return this.isInCandle()?this.getParent().getChart().getStyles().yAxis.type:Vt.Normal},t.prototype.getPosition=function(){return this.getParent().getChart().getStyles().yAxis.position},t.prototype.isReverse=function(){return this.isInCandle()?this.getParent().getChart().getStyles().yAxis.reverse:!1},t.prototype.isFromZero=function(){var r=this.getParent().getChart().getStyles().yAxis,i=r.inside;return r.position===Ke.Left&&i||r.position===Ke.Right&&!i},t.prototype.optimalTicks=function(r){var i=this,n,o,a=this.getParent(),s=(o=(n=a.getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&o!==void 0?o:0,l=a.getChart().getChartStore(),u=l.getCustomApi(),c=[],f=this.getType(),h=l.getIndicatorStore().getInstances(a.getId()),d=l.getThousandsSeparator(),v=0,p=!1;this.isInCandle()?v=l.getPrecision().price:h.forEach(function(S){v=Math.max(v,S.precision),p||(p=S.shouldFormatBigNumber)});var g=l.getStyles().xAxis.tickText.size,m;return r.forEach(function(S){var y=S.value,x,C=i._innerConvertToPixel(+y);switch(f){case Vt.Percentage:{x="".concat(Ot(y,2),"%");break}case Vt.Log:{C=i._innerConvertToPixel(Tr(+y)),x=Ot(y,v);break}default:{x=Ot(y,v),p&&(x=u.formatBigNumber(y));break}}x=Wt(x,d);var E=Q(m);C>g&&C<s-g&&(E&&Math.abs(m-C)>g*2||!E)&&(c.push({text:x,coord:C,value:y}),m=C)}),c},t.prototype.getAutoSize=function(){var r=this.getParent(),i=r.getChart(),n=i.getStyles(),o=n.yAxis,a=o.size;if(a!=="auto")return a;var s=i.getChartStore(),l=s.getCustomApi(),u=0;if(o.show&&(o.axisLine.show&&(u+=o.axisLine.size),o.tickLine.show&&(u+=o.tickLine.length),o.tickText.show)){var c=0;this.getTicks().forEach(function(x){c=Math.max(c,Mi(x.text,o.tickText.size,o.tickText.weight,o.tickText.family))}),u+=o.tickText.marginStart+o.tickText.marginEnd+c}var f=n.crosshair,h=0;if(f.show&&f.horizontal.show&&f.horizontal.text.show){var d=s.getIndicatorStore().getInstances(r.getId()),v=0,p=!1;d.forEach(function(x){v=Math.max(x.precision,v),p||(p=x.shouldFormatBigNumber)});var g=2;if(this.getType()!==Vt.Percentage)if(this.isInCandle()){var m=s.getPrecision().price,S=n.indicator.lastValueMark;S.show&&S.text.show?g=Math.max(v,m):g=m}else g=v;var y=Ot(this.getExtremum().max,g);p&&(y=l.formatBigNumber(y)),h+=f.horizontal.text.paddingLeft+f.horizontal.text.paddingRight+f.horizontal.text.borderSize*2+Mi(y,f.horizontal.text.size,f.horizontal.text.weight,f.horizontal.text.family)}return Math.max(u,h)},t.prototype.convertFromPixel=function(r){var i,n,o,a=(n=(i=this.getParent().getYAxisWidget())===null||i===void 0?void 0:i.getBounding().height)!==null&&n!==void 0?n:0,s=this.getExtremum(),l=s.min,u=s.range,c=this.isReverse()?r/a:1-r/a,f=c*u+l;switch(this.getType()){case Vt.Percentage:{var h=this.getParent().getChart().getChartStore(),d=h.getVisibleDataList(),v=(o=d[0])===null||o===void 0?void 0:o.data;return Q(v?.close)?v.close*f/100+v.close:0}case Vt.Log:return Qe(f);default:return f}},t.prototype.convertToRealValue=function(r){var i=r;return this.getType()===Vt.Log&&(i=Qe(r)),i},t.prototype.convertToPixel=function(r){var i,n=r;switch(this.getType()){case Vt.Percentage:{var o=this.getParent().getChart().getChartStore(),a=o.getVisibleDataList(),s=(i=a[0])===null||i===void 0?void 0:i.data;Q(s?.close)&&(n=(r-s.close)/s.close*100);break}case Vt.Log:{n=Tr(r);break}default:n=r}return this._innerConvertToPixel(n)},t.prototype.convertToNicePixel=function(r){var i,n,o=(n=(i=this.getParent().getYAxisWidget())===null||i===void 0?void 0:i.getBounding().height)!==null&&n!==void 0?n:0,a=this.convertToPixel(r);return Math.round(Math.max(o*.05,Math.min(a,o*.98)))},t})(Es),Is=(function(){function e(t,r,i,n){this._bounding=hs(),this._chart=i,this._id=n,this._init(t,r)}return e.prototype._init=function(t,r){this._rootContainer=t,this._container=Me("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"}),r!==null?t.insertBefore(this._container,r):t.appendChild(this._container)},e.prototype.getContainer=function(){return this._container},e.prototype.getId=function(){return this._id},e.prototype.getChart=function(){return this._chart},e.prototype.getBounding=function(){return this._bounding},e.prototype.update=function(t){this._bounding.height!==this._container.offsetHeight&&(this._container.style.height="".concat(this._bounding.height,"px")),this.updateImp(t??3,this._container,this._bounding)},e.prototype.destroy=function(){this._rootContainer.removeChild(this._container)},e})(),Ms=(function(e){lt(t,e);function t(r,i,n,o){var a=e.call(this,r,i,n,o)||this;a._yAxisWidget=null,a._axis=a.createAxisComponent(),a._options={minHeight:Nf,dragEnabled:!0,gap:{top:.2,bottom:.1},axisOptions:{scrollZoomEnabled:!0}};var s=a.getContainer();return a._mainWidget=a.createMainWidget(s),a._yAxisWidget=a.createYAxisWidget(s),a}return t.prototype.setOptions=function(r){var i,n,o;ve(this._options,r);var a,s;return this.getId()===yt.X_AXIS?(a=this.getMainWidget().getContainer(),s="ew-resize"):(a=(i=this.getYAxisWidget())===null||i===void 0?void 0:i.getContainer(),s="ns-resize"),!((o=(n=r.axisOptions)===null||n===void 0?void 0:n.scrollZoomEnabled)!==null&&o!==void 0)||o?a.style.cursor=s:a.style.cursor="default",this},t.prototype.getOptions=function(){return this._options},t.prototype.getAxisComponent=function(){return this._axis},t.prototype.setBounding=function(r,i,n){var o,a;ve(this.getBounding(),r);var s={};return W(r.height)&&(s.height=r.height),W(r.top)&&(s.top=r.top),this._mainWidget.setBounding(s),(o=this._yAxisWidget)===null||o===void 0||o.setBounding(s),W(i)&&this._mainWidget.setBounding(i),W(n)&&((a=this._yAxisWidget)===null||a===void 0||a.setBounding(n)),this},t.prototype.getMainWidget=function(){return this._mainWidget},t.prototype.getYAxisWidget=function(){return this._yAxisWidget},t.prototype.updateImp=function(r){var i;this._mainWidget.update(r),(i=this._yAxisWidget)===null||i===void 0||i.update(r)},t.prototype.getImage=function(r){var i=this.getBounding(),n=i.width,o=i.height,a=Me("canvas",{width:"".concat(n,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),s=a.getContext("2d"),l=or(a);a.width=n*l,a.height=o*l,s.scale(l,l);var u=this._mainWidget.getBounding();if(s.drawImage(this._mainWidget.getImage(r),u.left,0,u.width,u.height),this._yAxisWidget!==null){var c=this._yAxisWidget.getBounding();s.drawImage(this._yAxisWidget.getImage(r),c.left,0,c.width,c.height)}return a},t.prototype.createYAxisWidget=function(r){return null},t})(Is),Ts=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createAxisComponent=function(){return new Th(this)},t.prototype.createMainWidget=function(r){return new Ss(r,this)},t.prototype.createYAxisWidget=function(r){return new Mh(r,this)},t})(Ms),Dh=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createMainWidget=function(r){return new Ch(r,this)},t})(Ts),Ph=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getAxisStyles=function(r){return r.xAxis},t.prototype.createAxisLine=function(r,i){var n=i.axisLine.size/2;return{coordinates:[{x:0,y:n},{x:r.width,y:n}]}},t.prototype.createTickLines=function(r,i,n){var o=n.tickLine,a=n.axisLine.size;return r.map(function(s){return{coordinates:[{x:s.coord,y:0},{x:s.coord,y:a+o.length}]}})},t.prototype.createTickTexts=function(r,i,n){var o=n.tickText,a=n.axisLine.size,s=n.tickLine.length;return r.map(function(l){return{x:l.coord,y:a+s+o.marginStart,text:l.text,align:"center",baseline:"top"}})},t})(bs),Ah=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},t.prototype.coordinateToPointValueFlag=function(){return!1},t.prototype.getCompleteOverlays=function(r){return r.getInstances()},t.prototype.getProgressOverlay=function(r){return r.instance},t.prototype.getDefaultFigures=function(r,i,n,o,a,s,l,u,c,f){var h,d=[];if(r.needDefaultXAxisFigure&&r.id===((h=f.instance)===null||h===void 0?void 0:h.id)){var v=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;i.forEach(function(g,m){v=Math.min(v,g.x),p=Math.max(p,g.x);var S=r.points[m];if(Q(S.timestamp)){var y=s.formatDate(a,S.timestamp,"YYYY-MM-DD HH:mm",zt.Crosshair);d.push({type:"text",attrs:{x:g.x,y:0,text:y,align:"center"},ignoreEvent:!0})}}),i.length>1&&d.unshift({type:"rect",attrs:{x:v,y:0,width:p-v,height:n.height},ignoreEvent:!0})}return d},t.prototype.getFigures=function(r,i,n,o,a,s,l,u,c,f){var h,d;return(d=(h=r.createXAxisFigures)===null||h===void 0?void 0:h.call(r,{overlay:r,coordinates:i,bounding:n,barSpace:o,precision:a,thousandsSeparator:s,dateTimeFormat:l,defaultStyles:u,xAxis:c,yAxis:f}))!==null&&d!==void 0?d:[]},t})(Cs),kh=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(r){return W(r.kLineData)&&r.dataIndex===r.realDataIndex},t.prototype.getDirectionStyles=function(r){return r.vertical},t.prototype.getText=function(r,i){var n,o=(n=r.kLineData)===null||n===void 0?void 0:n.timestamp;return i.getCustomApi().formatDate(i.getTimeScaleStore().getDateTimeFormat(),o,"YYYY-MM-DD HH:mm",zt.Crosshair)},t.prototype.getTextAttrs=function(r,i,n,o,a,s){var l=n.realX,u,c="center";return l-i/2-s.paddingLeft<0?(u=0,c="left"):l+i/2+s.paddingRight>o.width?(u=o.width,c="right"):u=l,{x:u,y:0,text:r,align:c,baseline:"top"}},t})(ws),Fh=(function(e){lt(t,e);function t(r,i){var n=e.call(this,r,i)||this;return n._xAxisView=new Ph(n),n._overlayXAxisView=new Ah(n),n._crosshairVerticalLabelView=new kh(n),n.getContainer().style.cursor="ew-resize",n.addChild(n._overlayXAxisView),n}return t.prototype.getName=function(){return st.X_AXIS},t.prototype.updateMain=function(r){this._xAxisView.draw(r)},t.prototype.updateOverlay=function(r){this._overlayXAxisView.draw(r),this._crosshairVerticalLabelView.draw(r)},t})(Gn),Oh=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.calcExtremum=function(){var r=this.getParent().getChart().getChartStore(),i=r.getTimeScaleStore().getVisibleRange(),n=i.from,o=i.to,a=n,s=o-1,l=o-n;return{min:a,max:s,range:l,realMin:a,realMax:s,realRange:l}},t.prototype.optimalTicks=function(r){var i,n,o,a=this.getParent().getChart(),s=a.getChartStore(),l=s.getCustomApi().formatDate,u=[],c=r.length,f=s.getDataList();if(c>0){var h=s.getTimeScaleStore().getDateTimeFormat(),d=a.getStyles().xAxis.tickText,v=Mi("00-00 00:00",d.size,d.weight,d.family),p=parseInt(r[0].value,10),g=this.convertToPixel(p),m=1;if(c>1){var S=parseInt(r[1].value,10),y=this.convertToPixel(S),x=Math.abs(y-g);x<v&&(m=Math.ceil(v/x))}for(var C=0;C<c;C+=m){var E=parseInt(r[C].value,10),w=f[E],I=w.timestamp,O=l(h,I,"HH:mm",zt.XAxis);if(C!==0){var A=parseInt(r[C-m].value,10),M=f[A],z=M.timestamp;O=(i=this._optimalTickLabel(l,h,I,z))!==null&&i!==void 0?i:O}var X=this.convertToPixel(E);if(u.push({text:O,coord:X,value:I}),u.length>2&&C===c-1*m)for(var L=u[u.length-1],R=Number(L.value)-Number(u[u.length-2].value),T=L.coord-u[u.length-2].coord,V=10,P=0,U=1;U<V;U+=1)P=Number(L.value)+Number(U*R),u.push({text:(n=this._optimalTickLabel(l,h,P,Number(L.value)))!==null&&n!==void 0?n:O,coord:L.coord+U*T,value:Number(L.value)+Number(U*R)})}var G=u.length;if(G===1)u[0].text=l(h,u[0].value,"YYYY-MM-DD HH:mm",zt.XAxis);else{var j=u[0].value,q=u[1].value;if(W(u[2])){var et=u[2].text;/^[0-9]{2}-[0-9]{2}$/.test(et)?u[0].text=l(h,j,"MM-DD",zt.XAxis):/^[0-9]{4}-[0-9]{2}$/.test(et)?u[0].text=l(h,j,"YYYY-MM",zt.XAxis):/^[0-9]{4}$/.test(et)&&(u[0].text=l(h,j,"YYYY",zt.XAxis))}else u[0].text=(o=this._optimalTickLabel(l,h,j,q))!==null&&o!==void 0?o:u[0].text}}return u},t.prototype._optimalTickLabel=function(r,i,n,o){var a=r(i,n,"YYYY",zt.XAxis),s=r(i,n,"YYYY-MM",zt.XAxis),l=r(i,n,"MM-DD",zt.XAxis);return a!==r(i,o,"YYYY",zt.XAxis)?a:s!==r(i,o,"YYYY-MM",zt.XAxis)?s:l!==r(i,o,"MM-DD",zt.XAxis)?l:null},t.prototype.getAutoSize=function(){var r=this.getParent().getChart().getStyles(),i=r.xAxis,n=i.size;if(n!=="auto")return n;var o=r.crosshair,a=0;i.show&&(i.axisLine.show&&(a+=i.axisLine.size),i.tickLine.show&&(a+=i.tickLine.length),i.tickText.show&&(a+=i.tickText.marginStart+i.tickText.marginEnd+i.tickText.size));var s=0;return o.show&&o.vertical.show&&o.vertical.text.show&&(s+=o.vertical.text.paddingTop+o.vertical.text.paddingBottom+o.vertical.text.borderSize*2+o.vertical.text.size),Math.max(a,s)},t.prototype.convertTimestampFromPixel=function(r){var i=this.getParent().getChart().getChartStore().getTimeScaleStore(),n=i.coordinateToDataIndex(r);return i.dataIndexToTimestamp(n)},t.prototype.convertTimestampToPixel=function(r){var i=this.getParent().getChart().getChartStore().getTimeScaleStore(),n=i.timestampToDataIndex(r);return i.dataIndexToCoordinate(n)},t.prototype.convertFromPixel=function(r){return this.getParent().getChart().getChartStore().getTimeScaleStore().coordinateToDataIndex(r)},t.prototype.convertToPixel=function(r){return this.getParent().getChart().getChartStore().getTimeScaleStore().dataIndexToCoordinate(r)},t})(Es),Rh=(function(e){lt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createAxisComponent=function(){return new Oh(this)},t.prototype.createMainWidget=function(r){return new Fh(r,this)},t})(Ms),Lh=(function(e){lt(t,e);function t(r,i){var n=e.call(this,r,i)||this;return n._dragFlag=!1,n._dragStartY=0,n._topPaneHeight=0,n._bottomPaneHeight=0,n._pressedMouseMoveEvent=hh(n._pressedTouchMouseMoveEvent,20),n.registerEvent("touchStartEvent",n._mouseDownEvent.bind(n)).registerEvent("touchMoveEvent",n._pressedMouseMoveEvent.bind(n)).registerEvent("touchEndEvent",n._mouseUpEvent.bind(n)).registerEvent("mouseDownEvent",n._mouseDownEvent.bind(n)).registerEvent("mouseUpEvent",n._mouseUpEvent.bind(n)).registerEvent("pressedMouseMoveEvent",n._pressedMouseMoveEvent.bind(n)).registerEvent("mouseEnterEvent",n._mouseEnterEvent.bind(n)).registerEvent("mouseLeaveEvent",n._mouseLeaveEvent.bind(n)),n}return t.prototype.getName=function(){return st.SEPARATOR},t.prototype.checkEventOn=function(){return!0},t.prototype._mouseDownEvent=function(r){this._dragFlag=!0,this._dragStartY=r.pageY;var i=this.getPane();return this._topPaneHeight=i.getTopPane().getBounding().height,this._bottomPaneHeight=i.getBottomPane().getBounding().height,!0},t.prototype._mouseUpEvent=function(){return this._dragFlag=!1,this._mouseLeaveEvent()},t.prototype._pressedTouchMouseMoveEvent=function(r){var i=r.pageY-this._dragStartY,n=this.getPane(),o=n.getTopPane(),a=n.getBottomPane(),s=i<0;if(o!==null&&a!==null&&a.getOptions().dragEnabled){var l=void 0,u=void 0,c=void 0,f=void 0;s?(l=o,u=a,c=this._topPaneHeight,f=this._bottomPaneHeight):(l=a,u=o,c=this._bottomPaneHeight,f=this._topPaneHeight);var h=l.getOptions().minHeight;if(c>h){var d=Math.max(c-Math.abs(i),h),v=c-d;l.setBounding({height:d}),u.setBounding({height:f+v});var p=n.getChart();p.getChartStore().getActionStore().execute(_e.OnPaneDrag,{paneId:n.getId}),p.adjustPaneViewport(!0,!0,!0,!0,!0)}}return!0},t.prototype._mouseEnterEvent=function(){var r,i=this.getPane(),n=i.getBottomPane();if((r=n?.getOptions().dragEnabled)!==null&&r!==void 0&&r){var o=i.getChart(),a=o.getStyles().separator;return this.getContainer().style.background=a.activeBackgroundColor,!0}return!1},t.prototype._mouseLeaveEvent=function(){return this._dragFlag?!1:(this.getContainer().style.background="",!0)},t.prototype.createContainer=function(){return Me("div",{width:"100%",height:"".concat($r,"px"),margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"})},t.prototype.updateImp=function(r,i,n){if(n===4||n===2){var o=this.getPane().getChart().getStyles().separator;r.style.top="".concat(-Math.floor(($r-o.size)/2),"px"),r.style.height="".concat($r,"px")}},t})(ds),Wo=(function(e){lt(t,e);function t(r,i,n,o,a,s){var l=e.call(this,r,i,n,o)||this;return l.getContainer().style.overflow="",l._topPane=a,l._bottomPane=s,l._separatorWidget=new Lh(l.getContainer(),l),l}return t.prototype.setBounding=function(r){return ve(this.getBounding(),r),this},t.prototype.getTopPane=function(){return this._topPane},t.prototype.setTopPane=function(r){return this._topPane=r,this},t.prototype.getBottomPane=function(){return this._bottomPane},t.prototype.setBottomPane=function(r){return this._bottomPane=r,this},t.prototype.getWidget=function(){return this._separatorWidget},t.prototype.getImage=function(r){var i=this.getBounding(),n=i.width,o=i.height,a=this.getChart().getStyles().separator,s=Me("canvas",{width:"".concat(n,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),l=s.getContext("2d"),u=or(s);return s.width=n*u,s.height=o*u,l.scale(u,u),l.fillStyle=a.color,l.fillRect(0,0,n,o),s},t.prototype.updateImp=function(r,i,n){if(r===4||r===2){var o=this.getChart().getStyles().separator;i.style.backgroundColor=o.color,i.style.height="".concat(n.height,"px"),i.style.marginLeft="".concat(n.left,"px"),i.style.width="".concat(n.width,"px"),this._separatorWidget.update(r)}},t})(Is);function zo(){var e;return typeof window>"u"?!1:((e=window.navigator.userAgent.toLowerCase().indexOf("firefox"))!==null&&e!==void 0?e:-1)>-1}function ln(){return typeof window>"u"?!1:/iPhone|iPad|iPod/.test(window.navigator.platform)}var Bh=10,Nh=(function(){function e(t,r,i){var n=this;this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!ln(),this._onFirefoxOutsideMouseUp=function(o){n._mouseUpHandler(o)},this._onMobileSafariDoubleClick=function(o){if(n._firesTouchEvents(o)){if(++n._tapCount,n._tapTimeoutId!==null&&n._tapCount>1){var a=n._mouseTouchMoveWithDownInfo(n._getCoordinate(o),n._tapCoordinate).manhattanDistance;a<30&&!n._cancelTap&&n._processEvent(n._makeCompatEvent(o),n._handler.doubleTapEvent),n._resetTapTimeout()}}else if(++n._clickCount,n._clickTimeoutId!==null&&n._clickCount>1){var a=n._mouseTouchMoveWithDownInfo(n._getCoordinate(o),n._clickCoordinate).manhattanDistance;a<5&&!n._cancelClick&&n._processEvent(n._makeCompatEvent(o),n._handler.mouseDoubleClickEvent),n._resetClickTimeout()}},this._target=t,this._handler=r,this._options=i,this._init()}return e.prototype.destroy=function(){this._unsubscribeOutsideMouseEvents!==null&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),this._unsubscribeOutsideTouchEvents!==null&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),this._unsubscribeMousemove!==null&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),this._unsubscribeMouseWheel!==null&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),this._unsubscribeContextMenu!==null&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),this._unsubscribeMobileSafariEvents!==null&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()},e.prototype._mouseEnterHandler=function(t){var r=this,i,n,o;(i=this._unsubscribeMousemove)===null||i===void 0||i.call(this),(n=this._unsubscribeMouseWheel)===null||n===void 0||n.call(this),(o=this._unsubscribeContextMenu)===null||o===void 0||o.call(this);var a=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){r._target.removeEventListener("mousemove",a)},this._target.addEventListener("mousemove",a);var s=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=function(){r._target.removeEventListener("wheel",s)},this._target.addEventListener("wheel",s,{passive:!1});var l=this._contextMenuHandler.bind(this);this._unsubscribeContextMenu=function(){r._target.removeEventListener("contextmenu",l)},this._target.addEventListener("contextmenu",l,{passive:!1}),!this._firesTouchEvents(t)&&(this._processEvent(this._makeCompatEvent(t),this._handler.mouseEnterEvent),this._acceptMouseLeave=!0)},e.prototype._resetClickTimeout=function(){this._clickTimeoutId!==null&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},e.prototype._resetTapTimeout=function(){this._tapTimeoutId!==null&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},e.prototype._mouseMoveHandler=function(t){this._mousePressed||this._touchMoveStartCoordinate!==null||this._firesTouchEvents(t)||(this._processEvent(this._makeCompatEvent(t),this._handler.mouseMoveEvent),this._acceptMouseLeave=!0)},e.prototype._mouseWheelHandler=function(t){if(Math.abs(t.deltaX)>Math.abs(t.deltaY)){if(!W(this._handler.mouseWheelHortEvent)||(this._preventDefault(t),Math.abs(t.deltaX)===0))return;this._handler.mouseWheelHortEvent(this._makeCompatEvent(t),-t.deltaX)}else{if(!W(this._handler.mouseWheelVertEvent))return;var r=-(t.deltaY/100);if(r===0)return;switch(this._preventDefault(t),t.deltaMode){case t.DOM_DELTA_PAGE:r*=120;break;case t.DOM_DELTA_LINE:r*=32;break}if(r!==0){var i=Math.sign(r)*Math.min(1,Math.abs(r));this._handler.mouseWheelVertEvent(this._makeCompatEvent(t),i)}}},e.prototype._contextMenuHandler=function(t){this._preventDefault(t)},e.prototype._touchMoveHandler=function(t){var r=this._touchWithId(t.changedTouches,this._activeTouchId);if(r!==null&&(this._lastTouchEventTimeStamp=this._eventTimeStamp(t),this._startPinchMiddleCoordinate===null&&!this._preventTouchDragProcess)){this._pinchPrevented=!0;var i=this._mouseTouchMoveWithDownInfo(this._getCoordinate(r),this._touchMoveStartCoordinate),n=i.xOffset,o=i.yOffset,a=i.manhattanDistance;if(!(!this._touchMoveExceededManhattanDistance&&a<5)){if(!this._touchMoveExceededManhattanDistance){var s=n*.5,l=o>=s&&!this._options.treatVertDragAsPageScroll(),u=s>o&&!this._options.treatHorzDragAsPageScroll();!l&&!u&&(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}this._preventTouchDragProcess||this._processEvent(this._makeCompatEvent(t,r),this._handler.touchMoveEvent)}}},e.prototype._mouseMoveWithDownHandler=function(t){if(t.button===0){var r=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._mouseMoveStartCoordinate),i=r.manhattanDistance;i>=5&&(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick&&this._processEvent(this._makeCompatEvent(t),this._handler.pressedMouseMoveEvent)}},e.prototype._mouseTouchMoveWithDownInfo=function(t,r){var i=Math.abs(r.x-t.x),n=Math.abs(r.y-t.y),o=i+n;return{xOffset:i,yOffset:n,manhattanDistance:o}},e.prototype._touchEndHandler=function(t){var r=this._touchWithId(t.changedTouches,this._activeTouchId);if(r===null&&t.touches.length===0&&(r=t.changedTouches[0]),r!==null){this._activeTouchId=null,this._lastTouchEventTimeStamp=this._eventTimeStamp(t),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var i=this._makeCompatEvent(t,r);if(this._processEvent(i,this._handler.touchEndEvent),++this._tapCount,this._tapTimeoutId!==null&&this._tapCount>1){var n=this._mouseTouchMoveWithDownInfo(this._getCoordinate(r),this._tapCoordinate).manhattanDistance;n<30&&!this._cancelTap&&this._processEvent(i,this._handler.doubleTapEvent),this._resetTapTimeout()}else this._cancelTap||(this._processEvent(i,this._handler.tapEvent),W(this._handler.tapEvent)&&this._preventDefault(t));this._tapCount===0&&this._preventDefault(t),t.touches.length===0&&this._longTapActive&&(this._longTapActive=!1,this._preventDefault(t))}},e.prototype._mouseUpHandler=function(t){if(t.button===0){var r=this._makeCompatEvent(t);if(this._mouseMoveStartCoordinate=null,this._mousePressed=!1,this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),zo()){var i=this._target.ownerDocument.documentElement;i.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp)}if(!this._firesTouchEvents(t))if(this._processEvent(r,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId!==null&&this._clickCount>1){var n=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._clickCoordinate).manhattanDistance;n<5&&!this._cancelClick&&this._processEvent(r,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()}else this._cancelClick||this._processEvent(r,this._handler.mouseClickEvent)}},e.prototype._clearLongTapTimeout=function(){this._longTapTimeoutId!==null&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},e.prototype._touchStartHandler=function(t){if(this._activeTouchId===null){var r=t.changedTouches[0];this._activeTouchId=r.identifier,this._lastTouchEventTimeStamp=this._eventTimeStamp(t);var i=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=this._getCoordinate(r),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);{var n=this._touchMoveHandler.bind(this),o=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=function(){i.removeEventListener("touchmove",n),i.removeEventListener("touchend",o)},i.addEventListener("touchmove",n,{passive:!1}),i.addEventListener("touchend",o,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,t),500)}this._processEvent(this._makeCompatEvent(t,r),this._handler.touchStartEvent),this._tapTimeoutId===null&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),500),this._tapCoordinate=this._getCoordinate(r))}},e.prototype._mouseDownHandler=function(t){if(t.button===2){this._preventDefault(t),this._processEvent(this._makeCompatEvent(t),this._handler.mouseRightClickEvent);return}if(t.button===0){var r=this._target.ownerDocument.documentElement;zo()&&r.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=this._getCoordinate(t),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);{var i=this._mouseMoveWithDownHandler.bind(this),n=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=function(){r.removeEventListener("mousemove",i),r.removeEventListener("mouseup",n)},r.addEventListener("mousemove",i),r.addEventListener("mouseup",n)}this._mousePressed=!0,!this._firesTouchEvents(t)&&(this._processEvent(this._makeCompatEvent(t),this._handler.mouseDownEvent),this._clickTimeoutId===null&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500),this._clickCoordinate=this._getCoordinate(t)))}},e.prototype._init=function(){var t=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));{var r=this._target.ownerDocument,i=function(n){t._handler.mouseDownOutsideEvent!=null&&(n.composed&&t._target.contains(n.composedPath()[0])||n.target!==null&&t._target.contains(n.target)||t._handler.mouseDownOutsideEvent({x:0,y:0,pageX:0,pageY:0}))};this._unsubscribeOutsideTouchEvents=function(){r.removeEventListener("touchstart",i)},this._unsubscribeOutsideMouseEvents=function(){r.removeEventListener("mousedown",i)},r.addEventListener("mousedown",i),r.addEventListener("touchstart",i,{passive:!0})}ln()&&(this._unsubscribeMobileSafariEvents=function(){t._target.removeEventListener("dblclick",t._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),this._target.addEventListener("mousedown",function(n){if(n.button===1)return n.preventDefault(),!1}),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})},e.prototype._initPinch=function(){var t=this;!W(this._handler.pinchStartEvent)&&!W(this._handler.pinchEvent)&&!W(this._handler.pinchEndEvent)||(this._target.addEventListener("touchstart",function(r){return t._checkPinchState(r.touches)},{passive:!0}),this._target.addEventListener("touchmove",function(r){if(!(r.touches.length!==2||t._startPinchMiddleCoordinate===null)&&W(t._handler.pinchEvent)){var i=t._getTouchDistance(r.touches[0],r.touches[1]),n=i/t._startPinchDistance;t._handler.pinchEvent(Z(Z({},t._startPinchMiddleCoordinate),{pageX:0,pageY:0}),n),t._preventDefault(r)}},{passive:!1}),this._target.addEventListener("touchend",function(r){t._checkPinchState(r.touches)}))},e.prototype._checkPinchState=function(t){t.length===1&&(this._pinchPrevented=!1),t.length!==2||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(t)},e.prototype._startPinch=function(t){var r,i=(r=this._target.getBoundingClientRect())!==null&&r!==void 0?r:{left:0,top:0};this._startPinchMiddleCoordinate={x:(t[0].clientX-i.left+(t[1].clientX-i.left))/2,y:(t[0].clientY-i.top+(t[1].clientY-i.top))/2},this._startPinchDistance=this._getTouchDistance(t[0],t[1]),W(this._handler.pinchStartEvent)&&this._handler.pinchStartEvent({x:0,y:0,pageX:0,pageY:0}),this._clearLongTapTimeout()},e.prototype._stopPinch=function(){this._startPinchMiddleCoordinate!==null&&(this._startPinchMiddleCoordinate=null,W(this._handler.pinchEndEvent)&&this._handler.pinchEndEvent({x:0,y:0,pageX:0,pageY:0}))},e.prototype._mouseLeaveHandler=function(t){var r,i,n;(r=this._unsubscribeMousemove)===null||r===void 0||r.call(this),(i=this._unsubscribeMouseWheel)===null||i===void 0||i.call(this),(n=this._unsubscribeContextMenu)===null||n===void 0||n.call(this),!this._firesTouchEvents(t)&&this._acceptMouseLeave&&(this._processEvent(this._makeCompatEvent(t),this._handler.mouseLeaveEvent),this._acceptMouseLeave=!ln())},e.prototype._longTapHandler=function(t){var r=this._touchWithId(t.touches,this._activeTouchId);r!==null&&(this._processEvent(this._makeCompatEvent(t,r),this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0)},e.prototype._firesTouchEvents=function(t){var r;return W((r=t.sourceCapabilities)===null||r===void 0?void 0:r.firesTouchEvents)?t.sourceCapabilities.firesTouchEvents:this._eventTimeStamp(t)<this._lastTouchEventTimeStamp+500},e.prototype._processEvent=function(t,r){r?.call(this._handler,t)},e.prototype._makeCompatEvent=function(t,r){var i=this,n,o=r??t,a=(n=this._target.getBoundingClientRect())!==null&&n!==void 0?n:{left:0,top:0};return{x:o.clientX-a.left,y:o.clientY-a.top,pageX:o.pageX,pageY:o.pageY,isTouch:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",preventDefault:function(){t.type!=="touchstart"&&i._preventDefault(t)}}},e.prototype._getTouchDistance=function(t,r){var i=t.clientX-r.clientX,n=t.clientY-r.clientY;return Math.sqrt(i*i+n*n)},e.prototype._preventDefault=function(t){t.cancelable&&t.preventDefault()},e.prototype._getCoordinate=function(t){return{x:t.pageX,y:t.pageY}},e.prototype._eventTimeStamp=function(t){var r;return(r=t.timeStamp)!==null&&r!==void 0?r:performance.now()},e.prototype._touchWithId=function(t,r){for(var i=0;i<t.length;++i)if(t[i].identifier===r)return t[i];return null},e})(),Vh=(function(){function e(t,r){var i=this;this._flingStartTime=new Date().getTime(),this._flingScrollRequestId=null,this._startScrollCoordinate=null,this._touchCoordinate=null,this._touchCancelCrosshair=!1,this._touchZoomed=!1,this._pinchScale=1,this._mouseDownWidget=null,this._prevYAxisExtremum=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,this._mouseMoveTriggerWidgetInfo={pane:null,widget:null},this._boundKeyBoardDownEvent=function(n){if(n.shiftKey)switch(n.code){case"Equal":{i._chart.getChartStore().getTimeScaleStore().zoom(.5);break}case"Minus":{i._chart.getChartStore().getTimeScaleStore().zoom(-.5);break}case"ArrowLeft":{var o=i._chart.getChartStore().getTimeScaleStore();o.startScroll(),o.scroll(-3*o.getBarSpace().bar);break}case"ArrowRight":{var o=i._chart.getChartStore().getTimeScaleStore();o.startScroll(),o.scroll(3*o.getBarSpace().bar);break}}},this._container=t,this._chart=r,this._event=new Nh(t,this,{treatVertDragAsPageScroll:function(){return!1},treatHorzDragAsPageScroll:function(){return!1}}),t.addEventListener("keydown",this._boundKeyBoardDownEvent)}return e.prototype.pinchStartEvent=function(){return this._touchZoomed=!0,this._pinchScale=1,!0},e.prototype.pinchEvent=function(t,r){var i=this._findWidgetByEvent(t),n=i.pane,o=i.widget;if(n?.getId()!==yt.X_AXIS&&o?.getName()===st.MAIN){var a=this._makeWidgetEvent(t,o),s=(r-this._pinchScale)*5;return this._pinchScale=r,this._chart.getChartStore().getTimeScaleStore().zoom(s,{x:a.x,y:a.y}),!0}return!1},e.prototype.mouseWheelHortEvent=function(t,r){var i=this._chart.getChartStore().getTimeScaleStore();return i.startScroll(),i.scroll(r),!0},e.prototype.mouseWheelVertEvent=function(t,r){var i,n=this._findWidgetByEvent(t).widget,o=(i=t.isTouch)!==null&&i!==void 0?i:!1,a=this._makeWidgetEvent(t,n),s=null,l=n?.getName();if(o)if(l===st.MAIN||l===st.X_AXIS)s={x:a.x,y:a.y};else{var u=this._chart.getCandlePane().getBounding();s={x:u.width/2,y:u.height/2}}else l===st.MAIN&&(s={x:a.x,y:a.y});return s!==null?(this._chart.getChartStore().getTimeScaleStore().zoom(r,{x:a.x,y:a.y}),!0):!1},e.prototype.mouseDownEvent=function(t){var r,i,n=this._findWidgetByEvent(t),o=n.pane,a=n.widget;if(this._mouseDownWidget=a,a!==null){var s=this._makeWidgetEvent(t,a),l=a.getName();switch(l){case st.SEPARATOR:return a.dispatchEvent("mouseDownEvent",s);case st.MAIN:{var u=(r=o.getAxisComponent().getExtremum())!==null&&r!==void 0?r:null;return this._prevYAxisExtremum=u===null?u:Z({},u),this._startScrollCoordinate={x:s.x,y:s.y},this._chart.getChartStore().getTimeScaleStore().startScroll(),a.dispatchEvent("mouseDownEvent",s)}case st.X_AXIS:{var c=a.dispatchEvent("mouseDownEvent",s);return c&&this._chart.updatePane(1),this._xAxisStartScaleCoordinate={x:s.x,y:s.y},this._xAxisStartScaleDistance=s.pageX,c}case st.Y_AXIS:{var c=a.dispatchEvent("mouseDownEvent",s);c&&this._chart.updatePane(1);var u=(i=o.getAxisComponent().getExtremum())!==null&&i!==void 0?i:null;return this._prevYAxisExtremum=u===null?u:Z({},u),this._yAxisStartScaleDistance=s.pageY,c}}}return!1},e.prototype.mouseMoveEvent=function(t){var r,i,n,o=this._findWidgetByEvent(t),a=o.pane,s=o.widget,l=this._makeWidgetEvent(t,s);if((((r=this._mouseMoveTriggerWidgetInfo.pane)===null||r===void 0?void 0:r.getId())!==a?.getId()||((i=this._mouseMoveTriggerWidgetInfo.widget)===null||i===void 0?void 0:i.getName())!==s?.getName())&&(s?.dispatchEvent("mouseEnterEvent",l),(n=this._mouseMoveTriggerWidgetInfo.widget)===null||n===void 0||n.dispatchEvent("mouseLeaveEvent",l),this._mouseMoveTriggerWidgetInfo={pane:a,widget:s}),s!==null){var u=s.getName();switch(u){case st.MAIN:{var c=s.dispatchEvent("mouseMoveEvent",l),f=this._chart.getChartStore(),h={x:l.x,y:l.y,paneId:a?.getId()};return c&&f.getTooltipStore().getActiveIcon()!==null&&(h=void 0,s!==null&&(s.getContainer().style.cursor="pointer")),this._chart.getChartStore().getTooltipStore().setCrosshair(h),c}case st.SEPARATOR:case st.X_AXIS:case st.Y_AXIS:{var c=s.dispatchEvent("mouseMoveEvent",l);return this._chart.getChartStore().getTooltipStore().setCrosshair(),c}}}return!1},e.prototype.pressedMouseMoveEvent=function(t){var r,i,n,o,a;if(this._mouseDownWidget!==null&&this._mouseDownWidget.getName()===st.SEPARATOR)return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent",t);var s=this._findWidgetByEvent(t),l=s.pane,u=s.widget;if(u!==null&&((r=this._mouseDownWidget)===null||r===void 0?void 0:r.getPane().getId())===l?.getId()&&((i=this._mouseDownWidget)===null||i===void 0?void 0:i.getName())===u.getName()){var c=this._makeWidgetEvent(t,u),f=u.getName();switch(f){case st.MAIN:{var h=u.getBounding(),d=u.dispatchEvent("pressedMouseMoveEvent",c);if(!d&&this._startScrollCoordinate!==null){var v=l.getAxisComponent();if(this._prevYAxisExtremum!==null&&!v.getAutoCalcTickFlag()&&v.getScrollZoomEnabled()){var p=this._prevYAxisExtremum,g=p.min,m=p.max,S=p.range,y;(n=v?.isReverse())!==null&&n!==void 0&&n?y=this._startScrollCoordinate.y-c.y:y=c.y-this._startScrollCoordinate.y;var x=y/h.height,C=S*x,E=g+C,w=m+C,I=v.convertToRealValue(E),O=v.convertToRealValue(w);v.setExtremum({min:E,max:w,range:w-E,realMin:I,realMax:O,realRange:O-I})}var A=c.x-this._startScrollCoordinate.x;this._chart.getChartStore().getTimeScaleStore().scroll(A)}return this._chart.getChartStore().getTooltipStore().setCrosshair({x:c.x,y:c.y,paneId:l?.getId()}),d}case st.X_AXIS:{var d=u.dispatchEvent("pressedMouseMoveEvent",c);if(d)this._chart.updatePane(1);else{var M=l.getAxisComponent();if(!((o=M?.getScrollZoomEnabled())!==null&&o!==void 0)||o){var x=this._xAxisStartScaleDistance/c.pageX,z=(x-this._xAxisScale)*10;this._xAxisScale=x,this._chart.getChartStore().getTimeScaleStore().zoom(z,(a=this._xAxisStartScaleCoordinate)!==null&&a!==void 0?a:void 0)}}return d}case st.Y_AXIS:{var d=u.dispatchEvent("pressedMouseMoveEvent",c);if(d)this._chart.updatePane(1);else{var v=l.getAxisComponent();if(this._prevYAxisExtremum!==null&&v.getScrollZoomEnabled()){var X=this._prevYAxisExtremum,g=X.min,m=X.max,S=X.range,x=c.pageY/this._yAxisStartScaleDistance,L=S*x,C=(L-S)/2,E=g-C,w=m+C,I=v.convertToRealValue(E),O=v.convertToRealValue(w);v.setExtremum({min:E,max:w,range:L,realMin:I,realMax:O,realRange:O-I}),this._chart.adjustPaneViewport(!1,!0,!0,!0)}}return d}}}return!1},e.prototype.mouseUpEvent=function(t){var r=this._findWidgetByEvent(t).widget,i=!1;if(r!==null){var n=this._makeWidgetEvent(t,r),o=r.getName();switch(o){case st.MAIN:case st.SEPARATOR:case st.X_AXIS:case st.Y_AXIS:{i=r.dispatchEvent("mouseUpEvent",n);break}}i&&this._chart.updatePane(1)}return this._mouseDownWidget=null,this._startScrollCoordinate=null,this._prevYAxisExtremum=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,i},e.prototype.mouseClickEvent=function(t){var r=this._findWidgetByEvent(t).widget;if(r!==null){var i=this._makeWidgetEvent(t,r);return r.dispatchEvent("mouseClickEvent",i)}return!1},e.prototype.mouseRightClickEvent=function(t){var r=this._findWidgetByEvent(t).widget,i=!1;if(r!==null){var n=this._makeWidgetEvent(t,r),o=r.getName();switch(o){case st.MAIN:case st.X_AXIS:case st.Y_AXIS:{i=r.dispatchEvent("mouseRightClickEvent",n);break}}i&&this._chart.updatePane(1)}return!1},e.prototype.mouseDoubleClickEvent=function(t){var r=this._findWidgetByEvent(t),i=r.pane,n=r.widget;if(n!==null){var o=n.getName();switch(o){case st.MAIN:{var a=this._makeWidgetEvent(t,n);return n.dispatchEvent("mouseDoubleClickEvent",a)}case st.Y_AXIS:{var s=i.getAxisComponent();if(!s.getAutoCalcTickFlag())return s.setAutoCalcTickFlag(!0),this._chart.adjustPaneViewport(!1,!0,!0,!0),!0;break}}}return!1},e.prototype.mouseLeaveEvent=function(){return this._chart.getChartStore().getTooltipStore().setCrosshair(),!0},e.prototype.touchStartEvent=function(t){var r,i,n=this._findWidgetByEvent(t),o=n.pane,a=n.widget;if(this._mouseDownWidget=a,a!==null){var s=this._makeWidgetEvent(t,a),l=a.getName();switch(l){case st.MAIN:{var u=this._chart.getChartStore(),c=u.getTooltipStore();if(a.dispatchEvent("mouseDownEvent",s))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,c.setCrosshair(void 0,!0),this._chart.updatePane(1),!0;var f=(r=o.getAxisComponent().getExtremum())!==null&&r!==void 0?r:null;if(this._prevYAxisExtremum=f===null?f:Z({},f),this._flingScrollRequestId!==null&&(Di(this._flingScrollRequestId),this._flingScrollRequestId=null),this._flingStartTime=new Date().getTime(),this._startScrollCoordinate={x:s.x,y:s.y},u.getTimeScaleStore().startScroll(),this._touchZoomed=!1,this._touchCoordinate!==null){var h=s.x-this._touchCoordinate.x,d=s.y-this._touchCoordinate.y,v=Math.sqrt(h*h+d*d);v<Bh?(this._touchCoordinate={x:s.x,y:s.y},c.setCrosshair({x:s.x,y:s.y,paneId:o?.getId()})):(this._touchCoordinate=null,this._touchCancelCrosshair=!0,c.setCrosshair())}return!0}case st.X_AXIS:{var p=a.dispatchEvent("mouseDownEvent",s);return p&&this._chart.updatePane(1),this._xAxisStartScaleCoordinate={x:s.x,y:s.y},this._xAxisStartScaleDistance=s.pageX,p}case st.Y_AXIS:{var p=a.dispatchEvent("mouseDownEvent",s);p&&this._chart.updatePane(1);var f=(i=o.getAxisComponent().getExtremum())!==null&&i!==void 0?i:null;return this._prevYAxisExtremum=f===null?f:Z({},f),this._yAxisStartScaleDistance=s.pageY,p}}}return!1},e.prototype.touchMoveEvent=function(t){var r,i,n,o,a,s=this._findWidgetByEvent(t),l=s.pane,u=s.widget;if(u!==null){var c=this._makeWidgetEvent(t,u),f=u.getName(),h=this._chart.getChartStore(),d=h.getTooltipStore();switch(f){case st.MAIN:{if(u.dispatchEvent("pressedMouseMoveEvent",c))return(r=c.preventDefault)===null||r===void 0||r.call(c),d.setCrosshair(void 0,!0),this._chart.updatePane(1),!0;if(this._touchCoordinate!==null)(i=c.preventDefault)===null||i===void 0||i.call(c),d.setCrosshair({x:c.x,y:c.y,paneId:l?.getId()});else if((n=c.preventDefault)===null||n===void 0||n.call(c),this._startScrollCoordinate!==null&&Math.abs(this._startScrollCoordinate.x-c.x)>this._startScrollCoordinate.y-c.y){var v=l.getAxisComponent();if(this._prevYAxisExtremum!==null&&!v.getAutoCalcTickFlag()&&v.getScrollZoomEnabled()){var p=this._prevYAxisExtremum,g=p.min,m=p.max,S=p.range,y;(o=v?.isReverse())!==null&&o!==void 0&&o?y=this._startScrollCoordinate.y-c.y:y=c.y-this._startScrollCoordinate.y;var x=u.getBounding(),C=y/x.height,E=S*C,w=g+E,I=m+E,O=v.convertToRealValue(w),A=v.convertToRealValue(I);v.setExtremum({min:w,max:I,range:I-w,realMin:O,realMax:A,realRange:A-O})}var M=c.x-this._startScrollCoordinate.x;h.getTimeScaleStore().scroll(M)}return!0}case st.X_AXIS:case st.Y_AXIS:return(a=t.preventDefault)===null||a===void 0||a.call(t),this.pressedMouseMoveEvent(t)}}return!1},e.prototype.touchEndEvent=function(t){var r=this,i=function(){r._mouseDownWidget=null,r._startScrollCoordinate=null,r._prevYAxisExtremum=null,r._xAxisStartScaleCoordinate=null,r._xAxisStartScaleDistance=0,r._xAxisScale=1,r._yAxisStartScaleDistance=0},n=this._findWidgetByEvent(t).widget;if(n!==null){var o=this._makeWidgetEvent(t,n),a=n.getName();switch(a){case st.MAIN:{if(n.dispatchEvent("mouseUpEvent",o),this._startScrollCoordinate!==null){var s=new Date().getTime()-this._flingStartTime,l=o.x-this._startScrollCoordinate.x,u=l/(s>0?s:1)*20;if(s<200&&Math.abs(u)>0){var c=this._chart.getChartStore().getTimeScaleStore(),f=function(){r._flingScrollRequestId=En(function(){c.startScroll(),c.scroll(u),u=u*(1-.025),Math.abs(u)<1?r._flingScrollRequestId!==null&&(Di(r._flingScrollRequestId),r._flingScrollRequestId=null):f()})};f()}}return i(),!0}case st.X_AXIS:case st.Y_AXIS:{var h=n.dispatchEvent("mouseUpEvent",o);h&&this._chart.updatePane(1),i()}}}return!1},e.prototype.tapEvent=function(t){var r=this._findWidgetByEvent(t),i=r.pane,n=r.widget,o=!1;if(n!==null){var a=this._makeWidgetEvent(t,n),s=n.dispatchEvent("mouseClickEvent",a);if(n.getName()===st.MAIN){var l=this._makeWidgetEvent(t,n),u=this._chart.getChartStore(),c=u.getTooltipStore();s?(this._touchCancelCrosshair=!0,this._touchCoordinate=null,c.setCrosshair(void 0,!0),o=!0):(!this._touchCancelCrosshair&&!this._touchZoomed&&(this._touchCoordinate={x:l.x,y:l.y},c.setCrosshair({x:l.x,y:l.y,paneId:i?.getId()},!0),o=!0),this._touchCancelCrosshair=!1)}(o||s)&&this._chart.updatePane(1)}return o},e.prototype.doubleTapEvent=function(t){return this.mouseDoubleClickEvent(t)},e.prototype.longTapEvent=function(t){return this.mouseRightClickEvent(t)},e.prototype._findWidgetByEvent=function(t){var r,i,n,o,a=t.x,s=t.y,l=this._chart.getAllSeparatorPanes(),u=this._chart.getChartStore().getStyles().separator.size;try{for(var c=ar(l),f=c.next();!f.done;f=c.next()){var h=Ht(f.value,2),d=h[1],v=d.getBounding(),p=v.top-Math.round(($r-u)/2);if(a>=v.left&&a<=v.left+v.width&&s>=p&&s<=p+$r)return{pane:d,widget:d.getWidget()}}}catch(A){r={error:A}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}var g=this._chart.getAllDrawPanes(),m=null;try{for(var S=ar(g),y=S.next();!y.done;y=S.next()){var x=y.value,v=x.getBounding();if(a>=v.left&&a<=v.left+v.width&&s>=v.top&&s<=v.top+v.height){m=x;break}}}catch(A){n={error:A}}finally{try{y&&!y.done&&(o=S.return)&&o.call(S)}finally{if(n)throw n.error}}var C=null;if(m!==null){if(C===null){var E=m.getMainWidget(),w=E.getBounding();a>=w.left&&a<=w.left+w.width&&s>=w.top&&s<=w.top+w.height&&(C=E)}if(C===null){var I=m.getYAxisWidget();if(I!==null){var O=I.getBounding();a>=O.left&&a<=O.left+O.width&&s>=O.top&&s<=O.top+O.height&&(C=I)}}}return{pane:m,widget:C}},e.prototype._makeWidgetEvent=function(t,r){var i,n,o,a=(i=r?.getBounding())!==null&&i!==void 0?i:null;return Z(Z({},t),{x:t.x-((n=a?.left)!==null&&n!==void 0?n:0),y:t.y-((o=a?.top)!==null&&o!==void 0?o:0)})},e.prototype.destroy=function(){this._container.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._event.destroy()},e})(),Se;(function(e){e.Root="root",e.Main="main",e.YAxis="yAxis"})(Se||(Se={}));var Ds=(function(){function e(t,r){this._drawPanes=[],this._separatorPanes=new Map,this._initContainer(t),this._chartEvent=new Vh(this._chartContainer,this),this._chartStore=new Xf(this,r),this._initPanes(r),this.adjustPaneViewport(!0,!0,!0)}return e.prototype._initContainer=function(t){this._container=t,this._chartContainer=Me("div",{position:"relative",width:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,t.appendChild(this._chartContainer)},e.prototype._initPanes=function(t){var r=this,i,n=(i=t?.layout)!==null&&i!==void 0?i:[{type:"candle"}],o=!1,a=!1,s=function(l){if(!a){var u=r._createPane(Rh,yt.X_AXIS,l??{});r._xAxisPane=u,a=!0}};n.forEach(function(l){var u,c,f;switch(l.type){case"candle":{if(!o){var h=(u=l.options)!==null&&u!==void 0?u:{};ve(h,{id:yt.CANDLE});var d=r._createPane(Dh,yt.CANDLE,h);r._candlePane=d;var v=(c=l.content)!==null&&c!==void 0?c:[];v.forEach(function(g){r.createIndicator(g,!0,h)}),o=!0}break}case"indicator":{var v=(f=l.content)!==null&&f!==void 0?f:[];if(v.length>0){var p;v.forEach(function(m){W(p)?r.createIndicator(m,!0,{id:p}):p=r.createIndicator(m,!0,l.options)})}break}case"xAxis":s(l.options)}}),s({position:"bottom"})},e.prototype._createPane=function(t,r,i){var n,o,a=i?.position;switch(a){case"top":{var s=this._drawPanes[0];W(s)&&(o=new t(this._chartContainer,s.getContainer(),this,r),n=0);break}case"bottom":break;default:for(var l=this._drawPanes.length-1;l>-1;l--){var u=this._drawPanes[l],c=this._drawPanes[l-1];u?.getOptions().position==="bottom"&&c?.getOptions().position!=="bottom"&&(o=new t(this._chartContainer,u.getContainer(),this,r),n=l)}}W(o)||(o=new t(this._chartContainer,null,this,r)),o.setOptions(i??{});var f;if(W(n)?(this._drawPanes.splice(n,0,o),f=n):(this._drawPanes.push(o),f=this._drawPanes.length-1),o.getId()!==yt.X_AXIS){var h=this._drawPanes[f+1];if(W(h)&&h.getId()===yt.X_AXIS&&(h=this._drawPanes[f+2]),W(h)){var d=this._separatorPanes.get(h);W(d)?d.setTopPane(o):(d=new Wo(this._chartContainer,h.getContainer(),this,"",o,h),this._separatorPanes.set(h,d))}var v=this._drawPanes[f-1];if(W(v)&&v.getId()===yt.X_AXIS&&(v=this._drawPanes[f-2]),W(v)){var d=new Wo(this._chartContainer,o.getContainer(),this,"",v,o);this._separatorPanes.set(o,d)}}return o},e.prototype._measurePaneHeight=function(){var t=this,r,i=this._container.offsetHeight,n=this._chartStore.getStyles().separator.size,o=this._xAxisPane.getAxisComponent().getAutoSize(),a=i-o-this._separatorPanes.size*n;a<0&&(a=0);var s=0;this._drawPanes.forEach(function(c){if(c.getId()!==yt.CANDLE&&c.getId()!==yt.X_AXIS){var f=c.getBounding().height,h=c.getOptions().minHeight;f<h&&(f=h),s+f>a?(s=a,f=Math.max(a-s,0)):s+=f,c.setBounding({height:f})}});var l=a-s;(r=this._candlePane)===null||r===void 0||r.setBounding({height:l}),this._xAxisPane.setBounding({height:o});var u=0;this._drawPanes.forEach(function(c){var f=t._separatorPanes.get(c);W(f)&&(f.setBounding({height:n,top:u}),u+=n),c.setBounding({top:u}),u+=c.getBounding().height})},e.prototype._measurePaneWidth=function(){var t=this,r=this._chartStore.getStyles(),i=r.yAxis,n=i.position===Ke.Left,o=!i.inside,a=this._container.offsetWidth,s=0,l=Number.MIN_SAFE_INTEGER,u=0,c=0;this._drawPanes.forEach(function(g){g.getId()!==yt.X_AXIS&&(l=Math.max(l,g.getAxisComponent().getAutoSize()))}),l>a&&(l=a),o?(s=a-l,n?(u=0,c=l):(u=a-l,c=0)):(s=a,c=0,n?u=0:u=a-l),this._chartStore.getTimeScaleStore().setTotalBarSpace(s);var f={width:a},h={width:s,left:c},d={width:l,left:u},v=r.separator.fill,p;o&&!v?p=h:p=f,this._drawPanes.forEach(function(g){var m;(m=t._separatorPanes.get(g))===null||m===void 0||m.setBounding(p),g.setBounding(f,h,d)})},e.prototype._setPaneOptions=function(t,r){var i;if(ot(t.id)){var n=this.getDrawPaneById(t.id),o=!1;if(n!==null){var a=r;if(t.id!==yt.CANDLE&&Q(t.height)&&t.height>0){var s=Math.max((i=t.minHeight)!==null&&i!==void 0?i:n.getOptions().minHeight,0),l=Math.max(s,t.height);n.setBounding({height:l}),a=!0,o=!0}n.setOptions(t),a&&this.adjustPaneViewport(o,!0,!0,!0,!0)}}},e.prototype.getDrawPaneById=function(t){if(t===yt.CANDLE)return this._candlePane;if(t===yt.X_AXIS)return this._xAxisPane;var r=this._drawPanes.find(function(i){return i.getId()===t});return r??null},e.prototype.getContainer=function(){return this._container},e.prototype.getChartStore=function(){return this._chartStore},e.prototype.getCandlePane=function(){return this._candlePane},e.prototype.getXAxisPane=function(){return this._xAxisPane},e.prototype.getAllDrawPanes=function(){return this._drawPanes},e.prototype.getAllSeparatorPanes=function(){return this._separatorPanes},e.prototype.adjustPaneViewport=function(t,r,i,n,o){t&&this._measurePaneHeight();var a=r,s=n??!1,l=o??!1;(s||l)&&this._drawPanes.forEach(function(u){var c=u.getAxisComponent().buildTicks(l);a||(a=c)}),a&&this._measurePaneWidth(),(i??!1)&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(4))},e.prototype.updatePane=function(t,r){if(W(r)){var i=this.getDrawPaneById(r);i?.update(t)}else this._separatorPanes.forEach(function(n){n.update(t)}),this._drawPanes.forEach(function(n){n.update(t)})},e.prototype.crosshairChange=function(t){var r=this,i=this._chartStore.getActionStore();if(i.has(_e.OnCrosshairChange)){var n={};this._drawPanes.forEach(function(o){var a=o.getId(),s={},l=r._chartStore.getIndicatorStore().getInstances(a);l.forEach(function(u){var c,f=u.result;s[u.name]=f[(c=t.dataIndex)!==null&&c!==void 0?c:f.length-1]}),n[a]=s}),ot(t.paneId)&&i.execute(_e.OnCrosshairChange,Z(Z({},t),{indicatorData:n}))}},e.prototype.getDom=function(t,r){var i,n;if(ot(t)){var o=this.getDrawPaneById(t);if(o!==null){var a=r??Se.Root;switch(a){case Se.Root:return o.getContainer();case Se.Main:return o.getMainWidget().getContainer();case Se.YAxis:return(n=(i=o.getYAxisWidget())===null||i===void 0?void 0:i.getContainer())!==null&&n!==void 0?n:null}}}else return this._chartContainer;return null},e.prototype.getSize=function(t,r){var i,n;if(W(t)){var o=this.getDrawPaneById(t);if(o!==null){var a=r??Se.Root;switch(a){case Se.Root:return o.getBounding();case Se.Main:return o.getMainWidget().getBounding();case Se.YAxis:return(n=(i=o.getYAxisWidget())===null||i===void 0?void 0:i.getBounding())!==null&&n!==void 0?n:null}}}else return{width:this._chartContainer.offsetWidth,height:this._chartContainer.offsetHeight,left:0,top:0,right:0,bottom:0};return null},e.prototype.setStyles=function(t){var r,i;this._chartStore.setOptions({styles:t});var n;ot(t)?n=fs(t):n=t,W((r=n?.yAxis)===null||r===void 0?void 0:r.type)&&((i=this._candlePane)===null||i===void 0||i.getAxisComponent().setAutoCalcTickFlag(!0)),this.adjustPaneViewport(!0,!0,!0,!0,!0)},e.prototype.getStyles=function(){return this._chartStore.getStyles()},e.prototype.setLocale=function(t){this._chartStore.setOptions({locale:t}),this.adjustPaneViewport(!0,!0,!0,!0,!0)},e.prototype.getLocale=function(){return this._chartStore.getLocale()},e.prototype.setCustomApi=function(t){this._chartStore.setOptions({customApi:t}),this.adjustPaneViewport(!0,!0,!0,!0,!0)},e.prototype.setPriceVolumePrecision=function(t,r){this._chartStore.setPrecision({price:t,volume:r})},e.prototype.getPriceVolumePrecision=function(){return this._chartStore.getPrecision()},e.prototype.setTimezone=function(t){this._chartStore.setOptions({timezone:t}),this._xAxisPane.getAxisComponent().buildTicks(!0),this._xAxisPane.update(3)},e.prototype.getTimezone=function(){return this._chartStore.getTimeScaleStore().getTimezone()},e.prototype.setOffsetRightDistance=function(t){this._chartStore.getTimeScaleStore().setOffsetRightDistance(t,!0)},e.prototype.getOffsetRightDistance=function(){return this._chartStore.getTimeScaleStore().getOffsetRightDistance()},e.prototype.setMaxOffsetLeftDistance=function(t){t<0||this._chartStore.getTimeScaleStore().setMaxOffsetLeftDistance(t)},e.prototype.setMaxOffsetRightDistance=function(t){t<0||this._chartStore.getTimeScaleStore().setMaxOffsetRightDistance(t)},e.prototype.setLeftMinVisibleBarCount=function(t){t<0||this._chartStore.getTimeScaleStore().setLeftMinVisibleBarCount(Math.ceil(t))},e.prototype.setRightMinVisibleBarCount=function(t){t<0||this._chartStore.getTimeScaleStore().setRightMinVisibleBarCount(Math.ceil(t))},e.prototype.setBarSpace=function(t){this._chartStore.getTimeScaleStore().setBarSpace(t)},e.prototype.getBarSpace=function(){return this._chartStore.getTimeScaleStore().getBarSpace().bar},e.prototype.getVisibleRange=function(){return this._chartStore.getTimeScaleStore().getVisibleRange()},e.prototype.clearData=function(){this._chartStore.clear()},e.prototype.getDataList=function(){return this._chartStore.getDataList()},e.prototype.applyNewData=function(t,r,i){this._chartStore.clear(),t.length===0?this.adjustPaneViewport(!1,!0,!0,!0):this.applyMoreData(t,r,i)},e.prototype.applyMoreData=function(t,r,i){var n=this;this._chartStore.addData(t,0,r),t.length>0&&this._chartStore.getIndicatorStore().calcInstance().then(function(o){n.adjustPaneViewport(!1,!0,!0,!0),i?.()}).catch(function(o){})},e.prototype.updateData=function(t,r){var i=this,n=this._chartStore.getDataList(),o=n.length,a=t.timestamp,s=kt(n[o-1],"timestamp",0);if(a>=s){var l=o;a===s&&(l=o-1),this._chartStore.addData(t,l),this._chartStore.getIndicatorStore().calcInstance().then(function(u){i.adjustPaneViewport(!1,!0,!0,!0),r?.()}).catch(function(u){})}},e.prototype.loadMore=function(t){this._chartStore.getTimeScaleStore().setLoadMoreCallback(t)},e.prototype.createIndicator=function(t,r,i,n){var o=this,a,s=ot(t)?{name:t}:t;if(ls(s.name)===null)return null;var l=i?.id,u=this.getDrawPaneById(l??"");if(u!==null)this._chartStore.getIndicatorStore().addInstance(s,l??"",r??!1).then(function(h){var d;o._setPaneOptions(i??{},(d=u.getAxisComponent().buildTicks(!0))!==null&&d!==void 0?d:!1)}).catch(function(h){});else{l??(l=os(yt.INDICATOR));var c=this._createPane(Ts,l,i??{}),f=(a=i?.height)!==null&&a!==void 0?a:Vf;c.setBounding({height:f}),this._chartStore.getIndicatorStore().addInstance(s,l,r??!1).finally(function(){o.adjustPaneViewport(!0,!0,!0,!0,!0),n?.()})}return l??null},e.prototype.overrideIndicator=function(t,r,i){var n=this;this._chartStore.getIndicatorStore().override(t,r??null).then(function(o){var a=Ht(o,2),s=a[0],l=a[1];(s||l)&&(n.adjustPaneViewport(!1,l,!0,l),i?.())}).catch(function(){})},e.prototype.getIndicatorByPaneId=function(t,r){return this._chartStore.getIndicatorStore().getInstanceByPaneId(t,r)},e.prototype.removeIndicator=function(t,r){var i,n,o,a=this._chartStore.getIndicatorStore(),s=a.removeInstance(t,r);if(s){var l=!1;if(t!==yt.CANDLE&&!a.hasInstances(t)){var u=this.getDrawPaneById(t),c=this._drawPanes.findIndex(function(m){return m.getId()===t});if(u!==null){l=!0;var f=this._separatorPanes.get(u);if(W(f)){var h=f?.getTopPane();try{for(var d=ar(this._separatorPanes),v=d.next();!v.done;v=d.next()){var p=v.value;if(p[1].getTopPane().getId()===u.getId()){p[1].setTopPane(h);break}}}catch(m){i={error:m}}finally{try{v&&!v.done&&(n=d.return)&&n.call(d)}finally{if(i)throw i.error}}f.destroy(),this._separatorPanes.delete(u)}this._drawPanes.splice(c,1),u.destroy();var g=this._drawPanes[0];W(g)&&g.getId()===yt.X_AXIS&&(g=this._drawPanes[1]),(o=this._separatorPanes.get(g))===null||o===void 0||o.destroy(),this._separatorPanes.delete(g)}}this.adjustPaneViewport(l,!0,!0,!0,!0)}},e.prototype.createOverlay=function(t,r){var i=[];if(ot(t))i=[{name:t}];else if(Ee(t))i=t.map(function(s){return ot(s)?{name:s}:s});else{var n=t;i=[n]}var o=!0;(!W(r)||this.getDrawPaneById(r)===null)&&(r=yt.CANDLE,o=!1);var a=this._chartStore.getOverlayStore().addInstances(i,r,o);return Ee(t)?a:a[0]},e.prototype.getOverlayById=function(t){return this._chartStore.getOverlayStore().getInstanceById(t)},e.prototype.overrideOverlay=function(t){this._chartStore.getOverlayStore().override(t)},e.prototype.removeOverlay=function(t){var r;W(t)&&(ot(t)?r={id:t}:r=t),this._chartStore.getOverlayStore().removeInstance(r)},e.prototype.setPaneOptions=function(t){this._setPaneOptions(t,!1)},e.prototype.setZoomEnabled=function(t){this._chartStore.getTimeScaleStore().setZoomEnabled(t)},e.prototype.isZoomEnabled=function(){return this._chartStore.getTimeScaleStore().getZoomEnabled()},e.prototype.setScrollEnabled=function(t){this._chartStore.getTimeScaleStore().setScrollEnabled(t)},e.prototype.isScrollEnabled=function(){return this._chartStore.getTimeScaleStore().getScrollEnabled()},e.prototype.scrollByDistance=function(t,r){var i=Q(r)&&r>0?r:0,n=this._chartStore.getTimeScaleStore();if(i>0){n.startScroll();var o=new Date().getTime(),a=function(){var s=(new Date().getTime()-o)/i,l=s>=1,u=l?t:t*s;n.scroll(u),l||requestAnimationFrame(a)};a()}else n.startScroll(),n.scroll(t)},e.prototype.scrollToRealTime=function(t){var r=this._chartStore.getTimeScaleStore(),i=r.getBarSpace().bar,n=r.getLastBarRightSideDiffBarCount()-r.getInitialOffsetRightDistance()/i,o=n*i;this.scrollByDistance(o,t)},e.prototype.scrollToDataIndex=function(t,r){var i=this._chartStore.getTimeScaleStore(),n=(i.getLastBarRightSideDiffBarCount()+(this.getDataList().length-1-t))*i.getBarSpace().bar;this.scrollByDistance(n,r)},e.prototype.scrollToTimestamp=function(t,r){var i=wn(this.getDataList(),"timestamp",t);this.scrollToDataIndex(i,r)},e.prototype.zoomAtCoordinate=function(t,r,i){var n=Q(i)&&i>0?i:0,o=this._chartStore.getTimeScaleStore();if(n>0){var a=o.getBarSpace().bar,s=a*t,l=s-a,u=new Date().getTime(),c=function(){var f=(new Date().getTime()-u)/n,h=f>=1,d=h?l:l*f;o.zoom(d/a,r),h||requestAnimationFrame(c)};c()}else o.zoom(t,r)},e.prototype.zoomAtDataIndex=function(t,r,i){var n=this._chartStore.getTimeScaleStore().dataIndexToCoordinate(r);this.zoomAtCoordinate(t,{x:n,y:0},i)},e.prototype.zoomAtTimestamp=function(t,r,i){var n=wn(this.getDataList(),"timestamp",r);this.zoomAtDataIndex(t,n,i)},e.prototype.convertToPixel=function(t,r){var i,n=r.paneId,o=n===void 0?yt.CANDLE:n,a=r.absolute,s=a===void 0?!1:a,l=[];if(o!==yt.X_AXIS){var u=this.getDrawPaneById(o);if(u!==null){var c=this._chartStore.getTimeScaleStore(),f=u.getBounding(),h=new Array().concat(t),d=this._xAxisPane.getAxisComponent(),v=u.getAxisComponent();l=h.map(function(p){var g={},m=p.dataIndex;if(Q(p.timestamp)&&(m=c.timestampToDataIndex(p.timestamp)),Q(m)&&(g.x=d?.convertToPixel(m)),Q(p.value)){var S=v?.convertToPixel(p.value);g.y=s?f.top+S:S}return g})}}return Ee(t)?l:(i=l[0])!==null&&i!==void 0?i:{}},e.prototype.convertFromPixel=function(t,r){var i,n=r.paneId,o=n===void 0?yt.CANDLE:n,a=r.absolute,s=a===void 0?!1:a,l=[];if(o!==yt.X_AXIS){var u=this.getDrawPaneById(o);if(u!==null){var c=this._chartStore.getTimeScaleStore(),f=u.getBounding(),h=new Array().concat(t),d=this._xAxisPane.getAxisComponent(),v=u.getAxisComponent();l=h.map(function(p){var g,m,S={};if(Q(p.x)){var y=(g=d?.convertFromPixel(p.x))!==null&&g!==void 0?g:-1;S.dataIndex=y,S.timestamp=(m=c.dataIndexToTimestamp(y))!==null&&m!==void 0?m:void 0}if(Q(p.y)){var x=s?p.y-f.top:p.y;S.value=v.convertFromPixel(x)}return S})}}return Ee(t)?l:(i=l[0])!==null&&i!==void 0?i:{}},e.prototype.executeAction=function(t,r){var i;switch(t){case _e.OnCrosshairChange:{var n=Z({},r);n.paneId=(i=n.paneId)!==null&&i!==void 0?i:yt.CANDLE,this._chartStore.getTooltipStore().setCrosshair(n);break}}},e.prototype.subscribeAction=function(t,r){this._chartStore.getActionStore().subscribe(t,r)},e.prototype.unsubscribeAction=function(t,r){this._chartStore.getActionStore().unsubscribe(t,r)},e.prototype.getConvertPictureUrl=function(t,r,i){var n=this,o=this._chartContainer.offsetWidth,a=this._chartContainer.offsetHeight,s=Me("canvas",{width:"".concat(o,"px"),height:"".concat(a,"px"),boxSizing:"border-box"}),l=s.getContext("2d"),u=or(s);s.width=o*u,s.height=a*u,l.scale(u,u),l.fillStyle=i??"#FFFFFF",l.fillRect(0,0,o,a);var c=t??!1;return this._drawPanes.forEach(function(f){var h=n._separatorPanes.get(f);if(W(h)){var d=h.getBounding();l.drawImage(h.getImage(c),d.left,d.top,d.width,d.height)}var v=f.getBounding();l.drawImage(f.getImage(c),0,v.top,o,v.height)}),s.toDataURL("image/".concat(r??"jpeg"))},e.prototype.resize=function(){this.adjustPaneViewport(!0,!0,!0,!0,!0)},e.prototype.destroy=function(){this._chartEvent.destroy(),this._drawPanes.forEach(function(t){t.destroy()}),this._drawPanes=[],this._xAxisPane.destroy(),this._container.removeChild(this._chartContainer)},e})(),Pi=new Map,$h=1;function Wh(e,t){var r;if(ot(e)?r=document.getElementById(e):r=e,r===null)return null;var i=Pi.get(r.id);if(W(i))return i;var n="k_line_chart_".concat($h++);return i=new Ds(r,t),i.id=n,r.setAttribute("k-line-chart-id",n),Pi.set(n,i),i}function zh(e){var t,r,i;if(e instanceof Ds)i=e.id;else{var n=void 0;ot(e)?n=document.getElementById(e):n=e,i=(t=n?.getAttribute("k-line-chart-id"))!==null&&t!==void 0?t:null}i!==null&&((r=Pi.get(i))===null||r===void 0||r.destroy(),Pi.delete(i))}function Hi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var di={exports:{}},Yh=di.exports,Yo;function Hh(){return Yo||(Yo=1,(function(e,t){(function(r,i){e.exports=i()})(Yh,(function(){var r=1e3,i=6e4,n=36e5,o="millisecond",a="second",s="minute",l="hour",u="day",c="week",f="month",h="quarter",d="year",v="date",p="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(L){var R=["th","st","nd","rd"],T=L%100;return"["+L+(R[(T-20)%10]||R[T]||R[0])+"]"}},y=function(L,R,T){var V=String(L);return!V||V.length>=R?L:""+Array(R+1-V.length).join(T)+L},x={s:y,z:function(L){var R=-L.utcOffset(),T=Math.abs(R),V=Math.floor(T/60),P=T%60;return(R<=0?"+":"-")+y(V,2,"0")+":"+y(P,2,"0")},m:function L(R,T){if(R.date()<T.date())return-L(T,R);var V=12*(T.year()-R.year())+(T.month()-R.month()),P=R.clone().add(V,f),U=T-P<0,G=R.clone().add(V+(U?-1:1),f);return+(-(V+(T-P)/(U?P-G:G-P))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:f,y:d,w:c,d:u,D:v,h:l,m:s,s:a,ms:o,Q:h}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},C="en",E={};E[C]=S;var w="$isDayjsObject",I=function(L){return L instanceof z||!(!L||!L[w])},O=function L(R,T,V){var P;if(!R)return C;if(typeof R=="string"){var U=R.toLowerCase();E[U]&&(P=U),T&&(E[U]=T,P=U);var G=R.split("-");if(!P&&G.length>1)return L(G[0])}else{var j=R.name;E[j]=R,P=j}return!V&&P&&(C=P),P||!V&&C},A=function(L,R){if(I(L))return L.clone();var T=typeof R=="object"?R:{};return T.date=L,T.args=arguments,new z(T)},M=x;M.l=O,M.i=I,M.w=function(L,R){return A(L,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var z=(function(){function L(T){this.$L=O(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[w]=!0}var R=L.prototype;return R.parse=function(T){this.$d=(function(V){var P=V.date,U=V.utc;if(P===null)return new Date(NaN);if(M.u(P))return new Date;if(P instanceof Date)return new Date(P);if(typeof P=="string"&&!/Z$/i.test(P)){var G=P.match(g);if(G){var j=G[2]-1||0,q=(G[7]||"0").substring(0,3);return U?new Date(Date.UTC(G[1],j,G[3]||1,G[4]||0,G[5]||0,G[6]||0,q)):new Date(G[1],j,G[3]||1,G[4]||0,G[5]||0,G[6]||0,q)}}return new Date(P)})(T),this.init()},R.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},R.$utils=function(){return M},R.isValid=function(){return this.$d.toString()!==p},R.isSame=function(T,V){var P=A(T);return this.startOf(V)<=P&&P<=this.endOf(V)},R.isAfter=function(T,V){return A(T)<this.startOf(V)},R.isBefore=function(T,V){return this.endOf(V)<A(T)},R.$g=function(T,V,P){return M.u(T)?this[V]:this.set(P,T)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(T,V){var P=this,U=!!M.u(V)||V,G=M.p(T),j=function(Dt,ht){var St=M.w(P.$u?Date.UTC(P.$y,ht,Dt):new Date(P.$y,ht,Dt),P);return U?St:St.endOf(u)},q=function(Dt,ht){return M.w(P.toDate()[Dt].apply(P.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(ht)),P)},et=this.$W,ct=this.$M,ft=this.$D,gt="set"+(this.$u?"UTC":"");switch(G){case d:return U?j(1,0):j(31,11);case f:return U?j(1,ct):j(0,ct+1);case c:var vt=this.$locale().weekStart||0,Et=(et<vt?et+7:et)-vt;return j(U?ft-Et:ft+(6-Et),ct);case u:case v:return q(gt+"Hours",0);case l:return q(gt+"Minutes",1);case s:return q(gt+"Seconds",2);case a:return q(gt+"Milliseconds",3);default:return this.clone()}},R.endOf=function(T){return this.startOf(T,!1)},R.$set=function(T,V){var P,U=M.p(T),G="set"+(this.$u?"UTC":""),j=(P={},P[u]=G+"Date",P[v]=G+"Date",P[f]=G+"Month",P[d]=G+"FullYear",P[l]=G+"Hours",P[s]=G+"Minutes",P[a]=G+"Seconds",P[o]=G+"Milliseconds",P)[U],q=U===u?this.$D+(V-this.$W):V;if(U===f||U===d){var et=this.clone().set(v,1);et.$d[j](q),et.init(),this.$d=et.set(v,Math.min(this.$D,et.daysInMonth())).$d}else j&&this.$d[j](q);return this.init(),this},R.set=function(T,V){return this.clone().$set(T,V)},R.get=function(T){return this[M.p(T)]()},R.add=function(T,V){var P,U=this;T=Number(T);var G=M.p(V),j=function(ct){var ft=A(U);return M.w(ft.date(ft.date()+Math.round(ct*T)),U)};if(G===f)return this.set(f,this.$M+T);if(G===d)return this.set(d,this.$y+T);if(G===u)return j(1);if(G===c)return j(7);var q=(P={},P[s]=i,P[l]=n,P[a]=r,P)[G]||1,et=this.$d.getTime()+T*q;return M.w(et,this)},R.subtract=function(T,V){return this.add(-1*T,V)},R.format=function(T){var V=this,P=this.$locale();if(!this.isValid())return P.invalidDate||p;var U=T||"YYYY-MM-DDTHH:mm:ssZ",G=M.z(this),j=this.$H,q=this.$m,et=this.$M,ct=P.weekdays,ft=P.months,gt=P.meridiem,vt=function(ht,St,_,b){return ht&&(ht[St]||ht(V,U))||_[St].slice(0,b)},Et=function(ht){return M.s(j%12||12,ht,"0")},Dt=gt||function(ht,St,_){var b=ht<12?"AM":"PM";return _?b.toLowerCase():b};return U.replace(m,(function(ht,St){return St||(function(_){switch(_){case"YY":return String(V.$y).slice(-2);case"YYYY":return M.s(V.$y,4,"0");case"M":return et+1;case"MM":return M.s(et+1,2,"0");case"MMM":return vt(P.monthsShort,et,ft,3);case"MMMM":return vt(ft,et);case"D":return V.$D;case"DD":return M.s(V.$D,2,"0");case"d":return String(V.$W);case"dd":return vt(P.weekdaysMin,V.$W,ct,2);case"ddd":return vt(P.weekdaysShort,V.$W,ct,3);case"dddd":return ct[V.$W];case"H":return String(j);case"HH":return M.s(j,2,"0");case"h":return Et(1);case"hh":return Et(2);case"a":return Dt(j,q,!0);case"A":return Dt(j,q,!1);case"m":return String(q);case"mm":return M.s(q,2,"0");case"s":return String(V.$s);case"ss":return M.s(V.$s,2,"0");case"SSS":return M.s(V.$ms,3,"0");case"Z":return G}return null})(ht)||G.replace(":","")}))},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(T,V,P){var U,G=this,j=M.p(V),q=A(T),et=(q.utcOffset()-this.utcOffset())*i,ct=this-q,ft=function(){return M.m(G,q)};switch(j){case d:U=ft()/12;break;case f:U=ft();break;case h:U=ft()/3;break;case c:U=(ct-et)/6048e5;break;case u:U=(ct-et)/864e5;break;case l:U=ct/n;break;case s:U=ct/i;break;case a:U=ct/r;break;default:U=ct}return P?U:M.a(U)},R.daysInMonth=function(){return this.endOf(f).$D},R.$locale=function(){return E[this.$L]},R.locale=function(T,V){if(!T)return this.$L;var P=this.clone(),U=O(T,V,!0);return U&&(P.$L=U),P},R.clone=function(){return M.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},L})(),X=z.prototype;return A.prototype=X,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",u],["$M",f],["$y",d],["$D",v]].forEach((function(L){X[L[1]]=function(R){return this.$g(R,L[0],L[1])}})),A.extend=function(L,R){return L.$i||(L(R,z,A),L.$i=!0),A},A.locale=O,A.isDayjs=I,A.unix=function(L){return A(1e3*L)},A.en=E[C],A.Ls=E,A.p={},A}))})(di)),di.exports}var Xh=Hh();const qt=Hi(Xh);var vi={exports:{}},jh=vi.exports,Ho;function Uh(){return Ho||(Ho=1,(function(e,t){(function(r,i){e.exports=i()})(jh,(function(){var r="minute",i=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(o,a,s){var l=a.prototype;s.utc=function(p){var g={date:p,utc:!0,args:arguments};return new a(g)},l.utc=function(p){var g=s(this.toDate(),{locale:this.$L,utc:!0});return p?g.add(this.utcOffset(),r):g},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),u.call(this,p)};var c=l.init;l.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else c.call(this)};var f=l.utcOffset;l.utcOffset=function(p,g){var m=this.$utils().u;if(m(p))return this.$u?0:m(this.$offset)?f.call(this):this.$offset;if(typeof p=="string"&&(p=(function(C){C===void 0&&(C="");var E=C.match(i);if(!E)return null;var w=(""+E[0]).match(n)||["-",0,0],I=w[0],O=60*+w[1]+ +w[2];return O===0?0:I==="+"?O:-O})(p),p===null))return this;var S=Math.abs(p)<=16?60*p:p;if(S===0)return this.utc(g);var y=this.clone();if(g)return y.$offset=S,y.$u=!1,y;var x=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(y=this.local().add(S+x,r)).$offset=S,y.$x.$localOffset=x,y};var h=l.format;l.format=function(p){var g=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,g)},l.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var d=l.toDate;l.toDate=function(p){return p==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var v=l.diff;l.diff=function(p,g,m){if(p&&this.$u===p.$u)return v.call(this,p,g,m);var S=this.local(),y=s(p).local();return v.call(S,y,g,m)}}}))})(vi)),vi.exports}var Kh=Uh();const Ps=Hi(Kh);var pi={exports:{}},Gh=pi.exports,Xo;function Zh(){return Xo||(Xo=1,(function(e,t){(function(r,i){e.exports=i()})(Gh,(function(){var r={year:0,month:1,day:2,hour:3,minute:4,second:5},i={};return function(n,o,a){var s,l=function(h,d,v){v===void 0&&(v={});var p=new Date(h),g=(function(m,S){S===void 0&&(S={});var y=S.timeZoneName||"short",x=m+"|"+y,C=i[x];return C||(C=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:m,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:y}),i[x]=C),C})(d,v);return g.formatToParts(p)},u=function(h,d){for(var v=l(h,d),p=[],g=0;g<v.length;g+=1){var m=v[g],S=m.type,y=m.value,x=r[S];x>=0&&(p[x]=parseInt(y,10))}var C=p[3],E=C===24?0:C,w=p[0]+"-"+p[1]+"-"+p[2]+" "+E+":"+p[4]+":"+p[5]+":000",I=+h;return(a.utc(w).valueOf()-(I-=I%1e3))/6e4},c=o.prototype;c.tz=function(h,d){h===void 0&&(h=s);var v,p=this.utcOffset(),g=this.toDate(),m=g.toLocaleString("en-US",{timeZone:h}),S=Math.round((g-new Date(m))/1e3/60),y=15*-Math.round(g.getTimezoneOffset()/15)-S;if(!Number(y))v=this.utcOffset(0,d);else if(v=a(m,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(y,!0),d){var x=v.utcOffset();v=v.add(p-x,"minute")}return v.$x.$timezone=h,v},c.offsetName=function(h){var d=this.$x.$timezone||a.tz.guess(),v=l(this.valueOf(),d,{timeZoneName:h}).find((function(p){return p.type.toLowerCase()==="timezonename"}));return v&&v.value};var f=c.startOf;c.startOf=function(h,d){if(!this.$x||!this.$x.$timezone)return f.call(this,h,d);var v=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return f.call(v,h,d).tz(this.$x.$timezone,!0)},a.tz=function(h,d,v){var p=v&&d,g=v||d||s,m=u(+a(),g);if(typeof h!="string")return a(h).tz(g);var S=(function(E,w,I){var O=E-60*w*1e3,A=u(O,I);if(w===A)return[O,w];var M=u(O-=60*(A-w)*1e3,I);return A===M?[O,A]:[E-60*Math.min(A,M)*1e3,Math.max(A,M)]})(a.utc(h,p).valueOf(),m,g),y=S[0],x=S[1],C=a(y).utcOffset(x);return C.$x.$timezone=g,C},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(h){s=h}}}))})(pi)),pi.exports}var qh=Zh();const As=Hi(qh);var gi={exports:{}},Jh=gi.exports,jo;function Qh(){return jo||(jo=1,(function(e,t){(function(r,i){e.exports=i()})(Jh,(function(){var r="day";return function(i,n,o){var a=function(u){return u.add(4-u.isoWeekday(),r)},s=n.prototype;s.isoWeekYear=function(){return a(this).year()},s.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),r);var c,f,h,d,v=a(this),p=(c=this.isoWeekYear(),f=this.$u,h=(f?o.utc:o)().year(c).startOf("year"),d=4-h.isoWeekday(),h.isoWeekday()>4&&(d+=7),h.add(d,r));return v.diff(p,"week")+1},s.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=s.startOf;s.startOf=function(u,c){var f=this.$utils(),h=!!f.u(c)||c;return f.p(u)==="isoweek"?h?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,c)}}}))})(gi)),gi.exports}var td=Qh();const ks=Hi(td);qt.extend(Ps);qt.extend(As);qt.extend(ks);const Fs={method:"GET",credentials:"include",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json",Device_Id:"sldlfjiwieuuew9eff89ewjwknjkekskfskjlsdk;fkdjskfdkjdkdks"}},Os="http://fx-data-server.test:8001/dukascopy-data/v1/candles",Rs=Rt(),ed=70,Ls=Rt(window.innerHeight),Bs=Rt(window.innerWidth),Jn=Rt(50),er=Rt(0),Wr=Rt(Ls.value-Jn.value-er.value),ie=Rt([]),Xi=Rt(!1),nt=Rt(),br=Rt({multiplier:15,text:"15min",timespan:"minute"}),rd=Rt(0),ji=Rt(qt().subtract(1,"day").valueOf()),Gr=Rt(null),At=Rt(),id={class:"flex justify-between bg-gray-800 text-white p-1"},nd={class:"flex space-x-4 ml-10"},od=["onClick"],ad=Ni({__name:"Topbar",setup(e){const t=Rt(null),r=[{multiplier:1,text:"1min",timespan:"minute"},{multiplier:5,text:"5min",timespan:"minute"},{multiplier:15,text:"15min",timespan:"minute"},{multiplier:20,text:"20min",timespan:"minute"},{multiplier:30,text:"30min",timespan:"minute"}],i=o=>{br.value=o},n=()=>{console.log("Replay clicked"),At.value?.createOverlay({name:"select_replay",id:`overlay_${ie.value.length+1}`}),t.value=`overlay_${ie.value.length+1}`,ie.value.push(ie.value.length+1)};return(o,a)=>(oe(),me("div",id,[wt("div",nd,[(oe(),me(fe,null,pn(r,s=>wt("button",{key:s.text,onClick:l=>i(s),class:"px-4 py-1 bg-gray-700 hover:bg-gray-600 rounded cursor-pointer"},Ar(s.text),9,od)),64))]),wt("button",{onClick:n,class:"px-4 py-2 mr-11 bg-blue-600 hover:bg-blue-500 rounded-lg cursor-pointer"}," Replay ")]))}}),sd={minute:1,hour:60,day:1440,week:7200,week_end:10080,month:43829,year:525948};qt.extend(Ps);qt.extend(As);qt.extend(ks);const Ns=(e,t,r)=>{switch(e.timespan){case"minute":{t=qt.utc(t).subtract(1,"day").valueOf();break}case"hour":{t=qt.utc(t).subtract(1,"month").valueOf();break}case"day":case"week":case"month":case"year":t=qt.utc(t).subtract(1,"year").valueOf()}let i=t,n=i;switch(e.timespan){case"minute":{i=i-i%(60*1e3),n=i-r*e.multiplier*60*1e3;break}case"hour":{i=i-i%(3600*1e3),n=i-r*e.multiplier*60*60*1e3;break}case"day":{i=i-i%(3600*1e3),n=i-r*e.multiplier*24*60*60*1e3;break}case"week":{const a=new Date(i).getDay(),s=a===0?6:a-1;i=i-s*60*60*24;const l=new Date(i);i=new Date(`${l.getFullYear()}-${l.getMonth()+1}-${l.getDate()}`).getTime(),n=r*e.multiplier*7*24*60*60*1e3;break}case"month":{const o=new Date(i),a=o.getFullYear(),s=o.getMonth()+1;i=new Date(`${a}-${s}-01`).getTime(),n=r*e.multiplier*30*24*60*60*1e3;const l=new Date(n);n=new Date(`${l.getFullYear()}-${l.getMonth()+1}-01`).getTime();break}case"year":{const a=new Date(i).getFullYear();i=new Date(`${a}-01-01`).getTime(),n=r*e.multiplier*365*24*60*60*1e3;const s=new Date(n);n=new Date(`${s.getFullYear()}-01-01`).getTime();break}}return[n,i]};function Vs(e,t="Etc/UTC"){const r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],i=qt.tz(e,t),n=i.day(),o=i.date(),a=i.isoWeek(),s=i.month()+1,l=i.year();return{dayOfWeek:r[n],dayOfMonth:o,weekOfYear:a,monthOfYear:s,year:l}}const $s=e=>e.multiplier*sd[e.timespan],Uo=async()=>{if(console.log("Exiting..."),Xi.value=!1,ji.value=qt().subtract(1,"day").valueOf(),At.value){const e=await mi();At.value.applyNewData(e,!0)}er.value=0,Dr(),Gr.value=null},Ko=()=>{Xi.value=!1};function Dr(){console.info("update size called"),Ls.value=window.innerHeight,Bs.value=window.innerWidth,Wr.value=window.innerHeight-Jn.value-er.value-5,Rs.value.firstElementChild.setAttribute("style",`
		height: ${Wr.value}px;
		width: 100%;
	`),At.value?.resize()}const Ws=async(e,t)=>{let r=t,i=[];for(;r>=e;){const n=Vs(r),o=await fetch(`${Os}/minute/BTC-USD/ASK/${n.year}/${n.monthOfYear}/${n.dayOfMonth}`,Fs);if(!o.ok){console.info(await o.json());break}if(nt.value=await o.json(),!nt.value)break;let a=[];const s=nt.value.times.length;let l=nt.value.open,u=nt.value.high,c=nt.value.low,f=nt.value.close,h=null,d=0;for(let v=0;v<s;v++)l+=nt.value.opens[v]*nt.value.multiplier,u+=nt.value.highs[v]*nt.value.multiplier,c+=nt.value.lows[v]*nt.value.multiplier,f+=nt.value.closes[v]*nt.value.multiplier,d==$s(br.value)&&(a.push(h),h=null,d=0),d==0?(h={timestamp:nt.value.timestamp+nt.value.times[v]*v*nt.value.shift,open:l,close:f,low:c,high:u,volume:nt.value.volumes[v]},rd.value=h.timestamp):h={...h,high:Math.max(h.high,u),low:Math.min(h.low,c),close:f},d++;a.push(h),i=[...a,...i],r-=1440*60*1e3}return i},mi=async()=>{const[e,t]=Ns(br.value,ji.value,500);return e===void 0||t===void 0?(console.error("Invalid range: from or to is undefined"),[]):await Ws(e,t)},ld=async e=>{if(console.info(`load more data called ${e}`),!At.value)return;e||(e=qt().valueOf());const[t,r]=Ns(br.value,e,500);if(t===void 0||r===void 0){console.error("Invalid range: from or to is undefined");return}const i=await Ws(t,r);At.value.applyMoreData(i,!0)},ud={class:"flex justify-between bg-gray-800 text-white p-1"},cd={class:"flex space-x-4 ml-10"},fd=["value"],hd=["value"],dd=Ni({__name:"Bottombar",setup(e){const t=Rt(!1),r=Rt(.1),i=Rt(5),n=Rt(null);let o=null;const a=[.1,.2,.5,1,1.5,2],s=[1,5,10,15],l=async()=>{if(!At.value)return;t.value=!0,n.value=ji.value||qt().utc().subtract(1,"day").valueOf();const d=async M=>{const z=Vs(M),X=await fetch(`${Os}/minute/BTC-USD/ASK/${z.year}/${z.monthOfYear}/${z.dayOfMonth}`,Fs);return X.ok?await X.json():(console.info(await X.json()),null)};if(nt.value=await d(n.value),!nt.value)return;const v=r.value*1e3,p=$s(br.value);let g=nt.value.times?.length||0,m=nt.value.multiplier||1,S=nt.value.shift||1,y=null,x=0,C=0,E=nt.value.open,w=nt.value.high,I=nt.value.low,O=nt.value.close,A=0;o=window.setInterval(async()=>{if(!(!n.value||!nt.value)){for(let M=0;M<i.value;M++){if(C>=g){if(n.value=qt.utc(n.value).add(1,"day").valueOf(),nt.value=await d(n.value),!nt.value)return;g=nt.value.times?.length||0,m=nt.value.multiplier||1,S=nt.value.shift||1,C=0,E=nt.value.open,w=nt.value.high,I=nt.value.low,O=nt.value.close,A=0}E+=(nt.value.opens?.[C]||0)*m,w+=(nt.value.highs?.[C]||0)*m,I+=(nt.value.lows?.[C]||0)*m,O+=(nt.value.closes?.[C]||0)*m;const z=nt.value.volumes?.[C]||0;A=nt.value.timestamp+(nt.value.times?.[C]||0)*C*S,y?(y.high=Math.max(y.high,w),y.low=Math.min(y.low,I),y.close=O,y.volume=(y.volume||0)+z):y={timestamp:A,open:E,high:w,low:I,close:O,volume:z},x++,C++}At.value?.updateData(y),x>=p&&(n.value=A,x=0,y=null)}},v)},u=()=>{t.value=!1,o&&(clearInterval(o),o=null)},c=()=>{t.value?u():l()},f=()=>{console.log("Step Forward clicked")},h=()=>{Xi.value=!0};return Br(Gr,d=>{d||u()}),(d,v)=>(oe(),me("div",ud,[wt("div",cd,[wt("button",{onClick:c,class:"px-4 py-1 bg-gray-700 hover:bg-gray-600 rounded cursor-pointer"},Ar(t.value?"Pause":"Play"),1),wt("button",{onClick:f,class:"px-4 py-1 bg-gray-700 hover:bg-gray-600 rounded cursor-pointer"}," Step Forward "),oo(wt("select",{"onUpdate:modelValue":v[0]||(v[0]=p=>r.value=p),class:"px-4 py-1 bg-gray-700 hover:bg-gray-600 rounded cursor-pointer"},[(oe(),me(fe,null,pn(a,p=>wt("option",{key:p,value:p}," Speed: "+Ar(p)+"x ",9,fd)),64))],512),[[ko,r.value]]),oo(wt("select",{"onUpdate:modelValue":v[1]||(v[1]=p=>i.value=p),class:"px-4 py-1 bg-gray-700 hover:bg-gray-600 rounded cursor-pointer"},[(oe(),me(fe,null,pn(s,p=>wt("option",{key:p,value:p}," Replay Interval: "+Ar(p)+"mins ",9,hd)),64))],512),[[ko,i.value]])]),wt("button",{onClick:h,class:"px-4 py-2 mr-11 bg-red-600 hover:bg-red-500 rounded-lg cursor-pointer"}," Exit () ")]))}}),Qr=(e,t)=>{const r=e.__vccOpts||e;for(const[i,n]of t)r[i]=n;return r},vd=Qr(dd,[["__scopeId","data-v-de87eb7f"]]);typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Go=()=>{};function pd(e,t){function r(...i){return new Promise((n,o)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(n).catch(o)})}return r}const gd=e=>e();function md(e,t={}){let r,i,n=Go;const o=l=>{clearTimeout(l),n(),n=Go};let a;return l=>{const u=io(e),c=io(t.maxWait);return r&&o(r),u<=0||c!==void 0&&c<=0?(i&&(o(i),i=void 0),Promise.resolve(l())):new Promise((f,h)=>{n=t.rejectOnCancel?h:f,a=l,c&&!i&&(i=setTimeout(()=>{r&&o(r),i=void 0,f(a())},c)),r=setTimeout(()=>{i&&o(i),i=void 0,f(l())},u)})}}function _d(e,t,r={}){const{eventFilter:i=gd,...n}=r;return Br(e,pd(i,t),n)}function un(e,t,r={}){const{debounce:i=0,maxWait:n=void 0,...o}=r;return _d(e,t,{...o,eventFilter:md(i,{maxWait:n})})}const yd={},xd={class:"icon-overlay",viewBox:"0 0 22 22"};function Sd(e,t){return oe(),me("svg",xd,[...t[0]||(t[0]=[wt("path",{d:"M15.719512939453125,8.461776733398438C16.547912939453127,8.461776733398438,17.219512939453125,7.7902067333984375,17.219512939453125,6.9617767333984375C17.219512939453125,6.133349733398438,16.547912939453127,5.4617767333984375,15.719512939453125,5.4617767333984375C14.891082939453124,5.4617767333984375,14.219512939453125,6.133349733398438,14.219512939453125,6.9617767333984375C14.219512939453125,7.193346733398437,14.271992939453124,7.412666733398438,14.365692939453124,7.608486733398438L7.366222939453126,14.607956733398437C7.170402939453125,14.514256733398437,6.951082939453125,14.461776733398438,6.719512939453125,14.461776733398438C5.891085939453125,14.461776733398438,5.219512939453125,15.133346733398437,5.219512939453125,15.961776733398438C5.219512939453125,16.79017673339844,5.891085939453125,17.461776733398438,6.719512939453125,17.461776733398438C7.547942939453125,17.461776733398438,8.219512939453125,16.79017673339844,8.219512939453125,15.961776733398438C8.219512939453125,15.730176733398437,8.167032939453126,15.510876733398437,8.073322939453124,15.315066733398437L15.072802939453124,8.315586733398437C15.268612939453124,8.409296733398438,15.487912939453125,8.461776733398438,15.719512939453125,8.461776733398438Z","stroke-opacity":"0",stroke:"none"},null,-1)])])}const bd=Qr(yd,[["render",Sd]]),Cd={},wd={class:"icon-overlay",viewBox:"0 0 22 22"};function Ed(e,t){return oe(),me("svg",wd,[...t[0]||(t[0]=[wt("path",{d:"M5.146447,15.753C4.9511845,15.9483,4.9511845,16.2649,5.146447,16.4602C5.341709,16.6554,5.658291,16.6554,5.853554,16.4602L8.156600000000001,14.15711C8.352409999999999,14.25082,8.57173,14.3033,8.8033,14.3033C9.631730000000001,14.3033,10.3033,13.63172,10.3033,12.80329C10.3033,12.57172,10.250820000000001,12.352409999999999,10.157119999999999,12.15659L12.156600000000001,10.15711C12.352409999999999,10.250820000000001,12.571729999999999,10.30329,12.8033,10.30329C13.63173,10.30329,14.3033,9.63172,14.3033,8.80329C14.3033,8.57172,14.25082,8.352409999999999,14.15712,8.15659L16.4602,5.853553C16.6554,5.658291,16.6554,5.341709,16.4602,5.146447C16.2649,4.9511843,15.9483,4.9511843,15.753,5.146447L13.45001,7.449479999999999C13.25419,7.35577,13.03487,7.3032900000000005,12.8033,7.3032900000000005C11.97487,7.3032900000000005,11.3033,7.97487,11.3033,8.80329C11.3033,9.03487,11.35578,9.254190000000001,11.44949,9.450009999999999L9.450009999999999,11.449480000000001C9.254190000000001,11.35577,9.03487,11.30329,8.8033,11.30329C7.97487,11.30329,7.3033,11.97487,7.3033,12.80329C7.3033,13.03487,7.35578,13.25419,7.44949,13.45001L5.146447,15.753Z","stroke-opacity":"0",stroke:"none"},null,-1)])])}const Id=Qr(Cd,[["render",Ed]]),Md={},Td={class:"icon-overlay",viewBox:"0 0 22 22"};function Dd(e,t){return oe(),me("svg",Td,[...t[0]||(t[0]=[wt("path",{d:"M11,12.41465L11,18.5C11,18.7761,11.22386,19,11.5,19C11.77614,19,12,18.7761,12,18.5L12,12.41465C12.5826,12.20873,13,11.65311,13,11C13,10.34689,12.5826,9.79127,12,9.58535L12,3.5C12,3.223857,11.77614,3,11.5,3C11.22386,3,11,3.223857,11,3.5L11,9.58535C10.417404,9.79127,10,10.34689,10,11C10,11.65311,10.417404,12.20873,11,12.41465Z","stroke-opacity":"0",stroke:"none"},null,-1)])])}const Pd=Qr(Md,[["render",Dd]]),Ad={class:"flex flex-col bg-gray-800 text-white p-2 pt-10 space-y-4 items-center"},kd=Ni({__name:"Drawingbar",setup(e){const t=()=>{console.log("Vertical Line tool selected"),At.value?.createOverlay({name:"verticalStraightLine",id:`overlay_${ie.value.length+1}`}),ie.value.push(ie.value.length+1)},r=()=>{console.log("Horizontal Line tool selected"),At.value?.createOverlay({name:"straightLine",id:`overlay_${ie.value.length+1}`}),ie.value.push(ie.value.length+1)},i=()=>{console.log("Trendline tool selected"),At.value?.createOverlay({name:"segment",id:`overlay_${ie.value.length+1}`}),ie.value.push(ie.value.length+1)};return(n,o)=>(oe(),me("div",Ad,[wt("div",{onClick:t,class:"tool-button"},[te(Pd)]),wt("div",{onClick:r,class:"tool-button"},[te(Id)]),wt("div",{onClick:i,class:"tool-button"},[te(bd)])]))}}),Fd=Qr(kd,[["__scopeId","data-v-382d2e79"]]),Od={name:"select_replay",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,zLevel:99,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e,bounding:t})=>t.width===0||t.height===0?(console.error("Invalid bounding box dimensions:",t),[]):e.length>0&&e[0]?[{type:"line",attrs:{coordinates:[{x:e[0].x,y:0},{x:e[0].x,y:t.height}]},styles:{style:"stroke",color:"rgba(22, 119, 255, 1)",width:2}},{type:"polygon",attrs:{coordinates:[{x:t.left,y:0},{x:e[0].x,y:0},{x:e[0].x,y:t.height},{x:t.left,y:t.height}]},styles:{style:"fill",color:"rgba(22, 119, 255, 0.15)"}}]:[],performEventMoveForDrawing:({points:e,performPoint:t})=>{e.length===1&&(e[0]={...t})},onDrawEnd:e=>(console.info("SelectReplay overlay drawing ended"),console.info(e.overlay.points),!e.overlay.points[0]||!e.overlay.points[0].timestamp?(console.info("Returning due to invalid overlay point"),!0):(ji.value=e.overlay.points[0].timestamp,Gr.value=e.overlay,!0))},Rd={class:"h-screen w-full flex flex-col"},Ld={class:"h-screen w-full flex flex-col"},Bd={key:0,style:{"z-index":"99"},class:"fixed inset-0 bg-grey-500 bg-opacity-50 flex items-center justify-center"},Nd={class:"bg-white p-4 rounded shadow-sm text-black"},Vd={class:"flex justify-end space-x-4 mt-4"},$d=Ni({__name:"App",setup(e){return Pa(async()=>{if(Lf(Od),At.value=Wh("container"),!At.value)return;At.value.loadMore(ld),At.value.setTimezone("Etc/UTC");const t=await mi();At.value.applyNewData(t,!0),window.addEventListener("resize",Dr)}),Wn(()=>{zh("container"),window.removeEventListener("resize",Dr)}),un(br,async()=>{if(!At.value)return;const t=await mi();At.value.applyNewData(t,!0)}),un(Gr,async t=>{if(t&&At.value){er.value=ed,Dr();const r=await mi();At.value.applyNewData(r,!0),At.value.removeOverlay(t),Gr.value=null}},{debounce:500}),un(er,()=>{Dr()},{debounce:300}),(t,r)=>(oe(),me("div",Rd,[wt("div",Ld,[te(ad,{style:Ye({height:`${Jt(Jn)}px`})},null,8,["style"]),wt("div",{style:Ye({height:`${Jt(Wr)}px`}),class:"w-full flex"},[te(Fd,{style:Ye({width:"53px",height:`${Jt(Wr)}px`})},null,8,["style"]),wt("div",{ref_key:"chartContainer",ref:Rs,style:Ye({height:`${Jt(Wr)}px`,width:`${Jt(Bs)-53}px`}),id:"container",class:"bg-green chart-container"},null,4)],4),Jt(er)>0?(oe(),Ga(vd,{key:0,style:Ye({height:`${Jt(er)}px`})},null,8,["style"])):mo("",!0)]),Jt(Xi)?(oe(),me("div",Bd,[wt("div",Nd,[r[2]||(r[2]=wt("p",null,"Are you sure you want to exit?",-1)),wt("div",Vd,[wt("button",{onClick:r[0]||(r[0]=(...i)=>Jt(Uo)&&Jt(Uo)(...i)),class:"px-4 py-2 bg-red-600 hover:bg-red-500 rounded"},"Yes"),wt("button",{onClick:r[1]||(r[1]=(...i)=>Jt(Ko)&&Jt(Ko)(...i)),class:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded"},"No")])])])):mo("",!0)]))}});uc($d).mount("#app");
